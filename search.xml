<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>小站的更新</title>
      <link href="posts/9280.html"/>
      <url>posts/9280.html</url>
      
        <content type="html"><![CDATA[<h3 id="v3-0-——–2020-11-30"><a href="#v3-0-——–2020-11-30" class="headerlink" title="v3.0 ——–2020.11.30"></a>v3.0 ——–<em>2020.11.30</em></h3><ol><li>更新hexo至v5.2.0</li><li>更新matery至v2.0.0</li><li>以后不整了，够用就行，好好写blog</li></ol><h3 id="v2-7-——–2020-10-9"><a href="#v2-7-——–2020-10-9" class="headerlink" title="v2.7 ——–2020.10.9"></a>v2.7 ——–<em>2020.10.9</em></h3><ol><li>更换域名为(<a href="http://www.unielu.com/">www.unielu.com</a>)</li></ol><h3 id="v2-6-——–2020-8-10"><a href="#v2-6-——–2020-8-10" class="headerlink" title="v2.6 ——–2020.8.10"></a>v2.6 ——–<em>2020.8.10</em></h3><ol><li>加入导航页</li><li>调整右上角导航栏</li></ol><h3 id="v2-5-——–2020-8-05"><a href="#v2-5-——–2020-8-05" class="headerlink" title="v2.5 ——–2020.8.05"></a>v2.5 ——–<em>2020.8.05</em></h3><ol><li><code>npm install --save hexo-helper-live2d</code><br>PC端添加了右下角的小朋友</li><li>更新图库</li><li>更改代码高亮</li></ol><h3 id="V2-4-——–2020-7-14"><a href="#V2-4-——–2020-7-14" class="headerlink" title="V2.4 ——–2020.7.14"></a>V2.4 ——–<em>2020.7.14</em></h3><ol><li>更改banner图片</li><li>去掉rainbow-framework</li><li>去掉dynamic-ribbon</li><li>更改配色</li><li>更改某些字体</li></ol><h3 id="V2-3"><a href="#V2-3" class="headerlink" title="V2.3"></a>V2.3</h3><ol><li>文章配图更新</li><li>更改比较多的样式，以后好好写blog了</li></ol><h3 id="V2-1"><a href="#V2-1" class="headerlink" title="V2.1"></a>V2.1</h3><ol><li>试一下评论功能</li></ol><h3 id="V2-0"><a href="#V2-0" class="headerlink" title="V2.0"></a>V2.0</h3><ol><li>更改一些样式</li><li>在header.ejs中config.title删除</li></ol><h3 id="V1-9"><a href="#V1-9" class="headerlink" title="V1.9"></a>V1.9</h3><ol><li>加入文章更新日期</li><li>更改footer.ejs</li></ol><h3 id="V1-8"><a href="#V1-8" class="headerlink" title="V1.8"></a>V1.8</h3><ol><li>更改移动端的一些问题</li><li>移动端有大白啦</li></ol><h3 id="V1-4"><a href="#V1-4" class="headerlink" title="V1.4"></a>V1.4</h3><ol><li>更改code(橘色-&gt;红色)</li></ol><h3 id="V1-2"><a href="#V1-2" class="headerlink" title="V1.2"></a>V1.2</h3><ol><li>加入音乐功能</li><li>删除banner上的Github链接</li><li>更改一些图片</li></ol><h3 id="V1-1"><a href="#V1-1" class="headerlink" title="V1.1"></a>V1.1</h3><ol><li>尝试烟花点击效果</li><li>尝试樱花动态飘落效果</li></ol><h3 id="V1-0"><a href="#V1-0" class="headerlink" title="V1.0"></a>V1.0</h3><ol><li>小站成功上线啦，由于是静态网页托管在Github上，不足之处还请谅解。</li></ol>]]></content>
      
      
      <categories>
          
          <category> other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 置顶 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/efe4.html"/>
      <url>posts/efe4.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>第一题：<a href="https://leetcode-cn.com/problems/largest-substring-between-two-equal-characters/">https://leetcode-cn.com/problems/largest-substring-between-two-equal-characters/</a><br>第二题：<a href="https://leetcode-cn.com/problems/lexicographically-smallest-string-after-applying-operations/">https://leetcode-cn.com/problems/lexicographically-smallest-string-after-applying-operations/</a><br>第三题：<a href="https://leetcode-cn.com/problems/best-team-with-no-conflicts/">https://leetcode-cn.com/problems/best-team-with-no-conflicts/</a><br>第四题：<a href="https://leetcode-cn.com/problems/graph-connectivity-with-threshold/">https://leetcode-cn.com/problems/graph-connectivity-with-threshold/</a></p></blockquote><h2 id="一、两个相同字符之间的最长子字符串"><a href="#一、两个相同字符之间的最长子字符串" class="headerlink" title="一、两个相同字符之间的最长子字符串"></a>一、两个相同字符之间的最长子字符串</h2><p>给你一个字符串 <code>s</code>，请你返回 两个相同字符之间的最长子字符串的长度 ，计算长度时不含这两个字符。如果不存在这样的子字符串，返回 <code>-1</code> 。</p><p>子字符串 是字符串中的一个连续字符序列。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxLengthBetweenEqualCharacters</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        d=defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        ans=-<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i,x <span class="keyword">in</span> <span class="built_in">enumerate</span>(s):</span><br><span class="line">            d[x].append(i)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> d.items():</span><br><span class="line">            nums=i[<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(nums)&gt;<span class="number">1</span>:</span><br><span class="line">                ans=<span class="built_in">max</span>(ans,nums[-<span class="number">1</span>]-nums[<span class="number">0</span>]-<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><h2 id="二、执行操作后字典序最小的字符串"><a href="#二、执行操作后字典序最小的字符串" class="headerlink" title="二、执行操作后字典序最小的字符串"></a>二、执行操作后字典序最小的字符串</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#暴力</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findLexSmallestString</span>(<span class="params">self, s: <span class="built_in">str</span>, a: <span class="built_in">int</span>, b: <span class="built_in">int</span></span>) -&gt; str:</span></span><br><span class="line">        b = b%<span class="built_in">len</span>(s)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">s</span>):</span></span><br><span class="line">            tmp=<span class="string">&quot;&quot;</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">                <span class="keyword">if</span> i%<span class="number">2</span>==<span class="number">0</span>: tmp+=s[i]</span><br><span class="line">                <span class="keyword">else</span>: tmp+=<span class="built_in">str</span>((<span class="built_in">int</span>(s[i])+a)%<span class="number">10</span>)</span><br><span class="line">            <span class="keyword">return</span> tmp</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f2</span>(<span class="params">s</span>):</span></span><br><span class="line">            <span class="keyword">return</span> s[-b:]+s[:-b]</span><br><span class="line">        ans=&#123;s&#125;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">s</span>):</span></span><br><span class="line">            ans.add(s)</span><br><span class="line">            s1,s2=f1(s),f2(s)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> (s1,s2):</span><br><span class="line">                <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> ans: dfs(i)</span><br><span class="line">        dfs(s)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span>(ans)</span><br></pre></td></tr></table></figure><h2 id="三、无矛盾的最佳球队"><a href="#三、无矛盾的最佳球队" class="headerlink" title="三、无矛盾的最佳球队"></a>三、无矛盾的最佳球队</h2><p>假设你是球队的经理。对于即将到来的锦标赛，你想组合一支总体得分最高的球队。球队的得分是球队中所有球员的分数 总和 。</p><p>然而，球队中的矛盾会限制球员的发挥，所以必须选出一支 没有矛盾 的球队。如果一名年龄较小球员的分数 严格大于 一名年龄较大的球员，则存在矛盾。同龄球员之间不会发生矛盾。</p><p>给你两个列表 <code>scores</code> 和 <code>ages</code>，其中每组 <code>scores[i]</code> 和 <code>ages[i]</code> 表示第 <code>i</code> 名球员的分数和年龄。请你返回 <strong>所有可能的无矛盾球队中得分最高那支的分数</strong> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bestTeamScore</span>(<span class="params">self, scores: List[<span class="built_in">int</span>], ages: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        n = <span class="built_in">len</span>(scores)</span><br><span class="line">        arr = <span class="built_in">list</span>(<span class="built_in">zip</span>(ages, scores))</span><br><span class="line">        arr.sort() <span class="comment"># 按年龄递增排序，年龄相同的按分数递增排序</span></span><br><span class="line">        <span class="comment">#print(arr)</span></span><br><span class="line">        dp = [arr[i][<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):              <span class="comment">#类似最长上升子序列问题</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i):</span><br><span class="line">                <span class="keyword">if</span> arr[i][<span class="number">1</span>] &gt;= arr[j][<span class="number">1</span>]:</span><br><span class="line">                    dp[i] = <span class="built_in">max</span>(dp[i], dp[j]+arr[i][<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(dp)</span><br><span class="line"></span><br><span class="line"><span class="comment"># DPxiu</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 优化版：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bestTeamScore</span>(<span class="params">self, scores: List[<span class="built_in">int</span>], ages: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">import</span> bisect</span><br><span class="line">        d = [(score, age) <span class="keyword">for</span> age, score <span class="keyword">in</span> <span class="built_in">zip</span>(ages, scores)]</span><br><span class="line">        d.sort()</span><br><span class="line">        n = <span class="built_in">len</span>(d)</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        stack = [(<span class="number">0</span>,<span class="number">0</span>)]</span><br><span class="line">        <span class="comment"># print(d)</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            score, age = d[i]</span><br><span class="line">            idx = bisect.bisect_right(stack, (age,<span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)))</span><br><span class="line">            s = stack[idx-<span class="number">1</span>][<span class="number">1</span>]</span><br><span class="line">            res = <span class="built_in">max</span>(res, s+score)</span><br><span class="line">            <span class="keyword">while</span> idx &lt; <span class="built_in">len</span>(stack) <span class="keyword">and</span> stack[idx][<span class="number">1</span>] &lt;= s+score:</span><br><span class="line">                stack.pop(idx)</span><br><span class="line">            stack[idx:idx] = [(age, s+score)]</span><br><span class="line">            <span class="keyword">while</span> <span class="built_in">len</span>(stack) &gt;= <span class="number">2</span> <span class="keyword">and</span> stack[-<span class="number">1</span>][<span class="number">1</span>] &lt;= stack[-<span class="number">2</span>][-<span class="number">1</span>]:</span><br><span class="line">                stack.pop()</span><br><span class="line">        <span class="comment"># print(stack)</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><h2 id="四、带阈值的图连通性"><a href="#四、带阈值的图连通性" class="headerlink" title="四、带阈值的图连通性"></a>四、带阈值的图连通性</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 并查集</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/2f25.html"/>
      <url>posts/2f25.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>第一题：<a href="https://leetcode-cn.com/problems/maximum-nesting-depth-of-the-parentheses/">https://leetcode-cn.com/problems/maximum-nesting-depth-of-the-parentheses/</a><br>第二题：<a href="https://leetcode-cn.com/problems/maximal-network-rank/">https://leetcode-cn.com/problems/maximal-network-rank/</a><br>第三题：<a href="https://leetcode-cn.com/problems/split-two-strings-to-make-palindrome/">https://leetcode-cn.com/problems/split-two-strings-to-make-palindrome/</a><br>第四题：<a href="https://leetcode-cn.com/problems/count-subtrees-with-max-distance-between-cities/">https://leetcode-cn.com/problems/count-subtrees-with-max-distance-between-cities/</a></p></blockquote><h2 id="一、括号的最大嵌套深度"><a href="#一、括号的最大嵌套深度" class="headerlink" title="一、括号的最大嵌套深度"></a>一、括号的最大嵌套深度</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxDepth</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        ans=<span class="number">0</span></span><br><span class="line">        cnt=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> i==<span class="string">&quot;(&quot;</span>: ans+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> i==<span class="string">&quot;)&quot;</span>: ans-=<span class="number">1</span></span><br><span class="line">            cnt=<span class="built_in">max</span>(cnt,ans)</span><br><span class="line">        <span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure><h2 id="二、最大网络秩"><a href="#二、最大网络秩" class="headerlink" title="二、最大网络秩"></a>二、最大网络秩</h2><p><code>n</code> 座城市和一些连接这些城市的道路 <code>roads</code> 共同组成一个基础设施网络。每个 <code>roads[i] = [ai, bi]</code> 都表示在城市 <code>ai</code> 和 <code>bi</code> 之间有一条双向道路。</p><p>两座不同城市构成的 城市对 的 <strong>网络秩</strong> 定义为：与这两座城市 直接 相连的道路总数。如果存在一条道路直接连接这两座城市，则这条道路只计算 一次 。</p><p>整个基础设施网络的 最大网络秩 是所有不同城市对中的 最大网络秩 。</p><p>给你整数 <code>n</code> 和数组 <code>roads</code>，返回整个基础设施网络的 最大网络秩 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maximalNetworkRank</span>(<span class="params">self, n: <span class="built_in">int</span>, roads: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        ans=<span class="number">0</span></span><br><span class="line">        d=defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">for</span> i,j <span class="keyword">in</span> roads:</span><br><span class="line">            d[i].append(j)</span><br><span class="line">            d[j].append(i)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>,n):</span><br><span class="line">                tmp=<span class="built_in">len</span>(d[i])+<span class="built_in">len</span>(d[j])</span><br><span class="line">                <span class="keyword">if</span> i <span class="keyword">in</span> d[j]: tmp-=<span class="number">1</span></span><br><span class="line">                ans=<span class="built_in">max</span>(ans,tmp)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># 穷举</span></span><br></pre></td></tr></table></figure><h2 id="三、分割两个字符串得到回文串"><a href="#三、分割两个字符串得到回文串" class="headerlink" title="三、分割两个字符串得到回文串"></a>三、分割两个字符串得到回文串</h2><p>给你两个字符串 <code>a</code> 和 <code>b</code> ，它们长度相同。请你选择一个下标，将两个字符串都在 相同的下标 分割开。由 <code>a</code> 可以得到两个字符串： <code>aprefix</code> 和 <code>asuffix</code> ，满足 <code>a = aprefix + asuffix</code> ，同理，由 <code>b</code> 可以得到两个字符串 <code>bprefix</code> 和 <code>bsuffix</code> ，满足 <code>b = bprefix + bsuffix</code> 。请你判断 <code>aprefix + bsuffix</code> 或者 <code>bprefix + asuffix</code> 能否构成回文串。</p><p>当你将一个字符串 <code>s</code> 分割成 <code>sprefix</code> 和 <code>ssuffix</code> 时， <code>ssuffix</code> 或者 <code>sprefix</code> 可以为空。比方说， <code>s = &quot;abc&quot;</code> 那么 <code>&quot;&quot; + &quot;abc&quot;</code> ， <code>&quot;a&quot; + &quot;bc&quot;</code> ， <code>&quot;ab&quot; + &quot;c&quot;</code> 和 <code>&quot;abc&quot; + &quot;&quot;</code> 都是合法分割。</p><p>如果 能构成回文字符串 ，那么请返回 <code>true</code>，否则返回 <code>false</code> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">checkPalindromeFormation</span>(<span class="params">self, a: <span class="built_in">str</span>, b: <span class="built_in">str</span></span>) -&gt; bool:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">str1,str2,left</span>):</span></span><br><span class="line">            right=<span class="built_in">len</span>(str1)-<span class="number">1</span>-left</span><br><span class="line">            <span class="keyword">while</span>(left&gt;=<span class="number">0</span> <span class="keyword">and</span> right&lt;<span class="built_in">len</span>(str1)):</span><br><span class="line">                <span class="keyword">if</span> str1[left]!=str2[right]: <span class="keyword">break</span></span><br><span class="line">                left-=<span class="number">1</span></span><br><span class="line">                right+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> left</span><br><span class="line">        left=<span class="built_in">len</span>(a)//<span class="number">2</span>-<span class="number">1</span>               <span class="comment">#第一次检测的下标</span></span><br><span class="line">        left=<span class="built_in">min</span>(check(a,a,left),check(b,b,left))</span><br><span class="line">        left=<span class="built_in">min</span>(check(a,b,left),check(b,a,left))</span><br><span class="line">        <span class="keyword">return</span> left==-<span class="number">1</span>                <span class="comment">#检测是否扩展到底</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 核心思路：中心扩展</span></span><br><span class="line"><span class="comment"># 第一步：前a后a,前b后b,找到中间的回文串</span></span><br><span class="line"><span class="comment"># 第二步：开始拼接</span></span><br></pre></td></tr></table></figure><h2 id="四、统计子树间最大距离"><a href="#四、统计子树间最大距离" class="headerlink" title="四、统计子树间最大距离"></a>四、统计子树间最大距离</h2><p>任意城市之间只有唯一的一条路径。换句话说，所有城市形成了一棵 树 。</p><p><strong>输入</strong>：n = 4, edges = [[1,2],[2,3],[2,4]]<br><strong>输出</strong>：[3,4,0]<br><strong>解释</strong>：<br>子树 {1,2}, {2,3} 和 {2,4} 最大距离都是 1 。<br>子树 {1,2,3}, {1,2,4}, {2,3,4} 和 {1,2,3,4} 最大距离都为 2 。<br>不存在城市间最大距离为 3 的子树。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countSubgraphsForEachDiameter</span>(<span class="params">self, n, edges</span>):</span></span><br><span class="line">        d=defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">for</span> i, j <span class="keyword">in</span> edges:</span><br><span class="line">            d[i - <span class="number">1</span>].append(j - <span class="number">1</span>)</span><br><span class="line">            d[j - <span class="number">1</span>].append(i - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">maxd</span>(<span class="params">mask0</span>):</span></span><br><span class="line">            res = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> (<span class="number">1</span> &lt;&lt; i) &amp; mask0:</span><br><span class="line">                    mask = mask0</span><br><span class="line">                    bfs, bfs2 = [i], []</span><br><span class="line">                    cur = <span class="number">0</span></span><br><span class="line">                    <span class="keyword">while</span> bfs:</span><br><span class="line">                        <span class="keyword">for</span> i <span class="keyword">in</span> bfs:</span><br><span class="line">                            mask ^= <span class="number">1</span> &lt;&lt; i</span><br><span class="line">                            <span class="keyword">for</span> j <span class="keyword">in</span> d[i]:</span><br><span class="line">                                <span class="keyword">if</span> mask &amp; (<span class="number">1</span> &lt;&lt; j):</span><br><span class="line">                                    bfs2.append(j)</span><br><span class="line">                        cur += <span class="number">1</span></span><br><span class="line">                        bfs, bfs2 = bfs2, []</span><br><span class="line">                    <span class="keyword">if</span> mask: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">                    res = <span class="built_in">max</span>(res, cur - <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        res = [<span class="number">0</span>] * (n - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> mask <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span> &lt;&lt; n):</span><br><span class="line">            <span class="keyword">if</span> mask &amp; (mask - <span class="number">1</span>) == <span class="number">0</span>: <span class="keyword">continue</span></span><br><span class="line">            k = maxd(mask)</span><br><span class="line">            <span class="keyword">if</span> k:</span><br><span class="line">                res[k - <span class="number">1</span>] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># copy</span></span><br><span class="line"><span class="comment"># 不懂</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/b9e4.html"/>
      <url>posts/b9e4.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>第一题：<a href="https://leetcode-cn.com/problems/special-array-with-x-elements-greater-than-or-equal-x/">https://leetcode-cn.com/problems/special-array-with-x-elements-greater-than-or-equal-x/</a><br>第二题：<a href="https://leetcode-cn.com/problems/even-odd-tree/">https://leetcode-cn.com/problems/even-odd-tree/</a><br>第三题：<a href="https://leetcode-cn.com/problems/maximum-number-of-visible-points/">https://leetcode-cn.com/problems/maximum-number-of-visible-points/</a><br>第四题：<a href="https://leetcode-cn.com/problems/minimum-one-bit-operations-to-make-integers-zero/">https://leetcode-cn.com/problems/minimum-one-bit-operations-to-make-integers-zero/</a></p></blockquote><h2 id="一、特殊数组的特征值"><a href="#一、特殊数组的特征值" class="headerlink" title="一、特殊数组的特征值"></a>一、特殊数组的特征值</h2><p>给你一个非负整数数组 <code>nums</code> 。如果存在一个数 <code>x</code> ，使得 <code>nums</code> 中恰好有 <code>x</code> 个元素 大于或者等于 <code>x</code> ，那么就称 <code>nums</code> 是一个 特殊数组 ，而 <code>x</code> 是该数组的 特征值 。</p><p>注意： <code>x</code> 不必 是 <code>nums</code> 的中的元素。</p><p>如果数组 <code>nums</code> 是一个 特殊数组 ，请返回它的特征值 <code>x</code> 。否则，返回 <code>-1</code> 。可以证明的是，如果 <code>nums</code> 是特殊数组，那么其特征值 <code>x</code> 是 唯一的 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">specialArray</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        nums.sort()</span><br><span class="line">        n=<span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(nums[-<span class="number">1</span>]+<span class="number">1</span>):  <span class="comment"># 特征值的遍历</span></span><br><span class="line">            <span class="keyword">if</span> x==(n-bisect_left(nums,x)): </span><br><span class="line">                <span class="keyword">return</span> x</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># nums.sort(reverse=True)</span></span><br><span class="line"><span class="comment"># sorted(nums,reverse=True)</span></span><br><span class="line"><span class="comment"># 今天bisect对递减的数组出错了，未知原因</span></span><br></pre></td></tr></table></figure><h2 id="二、奇偶树"><a href="#二、奇偶树" class="headerlink" title="二、奇偶树"></a>二、奇偶树</h2><p>如果一棵二叉树满足下述几个条件，则可以称为 奇偶树 ：</p><p>二叉树根节点所在层下标为 <code>0</code> ，根的子节点所在层下标为 <code>1</code> ，根的孙节点所在层下标为 <code>2</code> ，依此类推。</p><p>偶数下标 层上的所有节点的值都是 奇 整数，从左到右按顺序 严格递增<br>奇数下标 层上的所有节点的值都是 偶 整数，从左到右按顺序 严格递减</p><p>给你二叉树的根节点，如果二叉树为 奇偶树 ，则返回 <code>true</code> ，否则返回 <code>false</code> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEvenOddTree</span>(<span class="params">self, root: TreeNode</span>) -&gt; bool:</span></span><br><span class="line">        ans=[]</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">node,depth</span>):</span></span><br><span class="line">            <span class="keyword">if</span> node:</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(ans)==depth: ans.append([])</span><br><span class="line">                ans[depth].append(node.val)</span><br><span class="line">                dfs(node.left,depth+<span class="number">1</span>)</span><br><span class="line">                dfs(node.right,depth+<span class="number">1</span>)</span><br><span class="line">        dfs(root,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> depth,nums <span class="keyword">in</span> <span class="built_in">enumerate</span>(ans):</span><br><span class="line">            flag=depth%<span class="number">2</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">                <span class="keyword">if</span> (depth+num)%<span class="number">2</span>==<span class="number">0</span>: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                </span><br><span class="line">            <span class="keyword">if</span> flag:                           <span class="comment">#奇数</span></span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">sorted</span>(nums,reverse=<span class="literal">True</span>)!=nums: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(<span class="built_in">list</span>(<span class="built_in">set</span>(nums)))!= <span class="built_in">len</span>(nums): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                    </span><br><span class="line">            <span class="keyword">else</span>:                            <span class="comment">#偶数</span></span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">sorted</span>(nums)!=nums: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(<span class="built_in">list</span>(<span class="built_in">set</span>(nums)))!= <span class="built_in">len</span>(nums): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                    </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><h2 id="三、可见点的最大数目"><a href="#三、可见点的最大数目" class="headerlink" title="三、可见点的最大数目"></a>三、可见点的最大数目</h2><p>给你一个点数组 <code>points</code> 和一个表示角度的整数 <code>angle</code> ，你的位置是 <code>location</code> ，其中 <code>location = [posx, posy]</code> 且 <code>points[i] = [xi, yi]</code> 都表示 X-Y 平面上的整数坐标。</p><p>最开始，你面向东方进行观测。你 不能 进行移动改变位置，但可以通过 自转 调整观测角度。换句话说，<code>posx</code> 和 <code>posy</code> 不能改变。你的视野范围的角度用 <code>angle</code> 表示， 这决定了你观测任意方向时可以多宽。设 <code>d</code> 为逆时针旋转的度数，那么你的视野就是角度范围 <code>[d - angle/2, d + angle/2]</code> 所指示的那片区域。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visiblePoints</span>(<span class="params">self, points: List[List[<span class="built_in">int</span>]], angle: <span class="built_in">int</span>, location: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        ret, n = <span class="number">0</span>, <span class="built_in">len</span>(points)</span><br><span class="line">        a = []</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> points:</span><br><span class="line">            <span class="keyword">if</span> x == location:</span><br><span class="line">                ret += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                a.append(atan2(x[<span class="number">1</span>]-location[<span class="number">1</span>], x[<span class="number">0</span>]-location[<span class="number">0</span>]))</span><br><span class="line">                a.append(atan2(x[<span class="number">1</span>]-location[<span class="number">1</span>], x[<span class="number">0</span>]-location[<span class="number">0</span>])+<span class="number">2</span>*pi)</span><br><span class="line">        a.sort()</span><br><span class="line">        j, ans = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(a)//<span class="number">2</span>):</span><br><span class="line">            <span class="keyword">while</span> j &lt; i+<span class="built_in">len</span>(a)//<span class="number">2</span> <span class="keyword">and</span> a[j]-a[i] &lt;= angle/<span class="number">180</span>*pi:</span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            ans = <span class="built_in">max</span>(ans, j-i)</span><br><span class="line">        <span class="keyword">return</span> ret+ans</span><br><span class="line"><span class="comment">#copy</span></span><br></pre></td></tr></table></figure><h2 id="四、使整数变为-0-的最少操作次数"><a href="#四、使整数变为-0-的最少操作次数" class="headerlink" title="四、使整数变为 0 的最少操作次数"></a>四、使整数变为 0 的最少操作次数</h2><p>给你一个整数 <code>n</code>，你需要重复执行多次下述操作将其转换为 <code>0</code> ：</p><ul><li>翻转 <code>n</code> 的二进制表示中最右侧位（第 <code>0</code> 位）。</li><li>如果第 <code>(i-1)</code> 位为 <code>1</code> 且从第 <code>(i-2)</code> 位到第 <code>0</code> 位都为 <code>0</code>，则翻转 <code>n</code> 的二进制表示中的第 <code>i</code> 位。</li></ul><p>返回将 <code>n</code> 转换为 <code>0</code> 的最小操作次数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格雷码：一种二进制编码方式，相邻码只有一位二进制数不同</span></span><br><span class="line"><span class="comment"># 0001-&gt;0001,0010-&gt;0011,0011-&gt;0010,0100-&gt;0110</span></span><br><span class="line"><span class="comment"># 弄清编码方式，总结规律即可。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#方法一：格雷码的解码</span></span><br><span class="line"><span class="comment"># eg:n=1110</span></span><br><span class="line"><span class="comment">#  1. n的左边第二位：1，与前一位已经解码：1，进行异或，1^1=0，所以数字变成10xx</span></span><br><span class="line"><span class="comment">#  2. n的左边第三位：1，与前一位已经解码：0，进行异或，1^0=1，所以数字变成101x</span></span><br><span class="line"><span class="comment">#  3. n的左边第四位：0，与前一位已经解码：1，进行异或，0^1=1，所以数字变成1011</span></span><br><span class="line"><span class="comment">#  所以答案就是1011B=11D</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumOneBitOperations</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        nums=[<span class="built_in">int</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">bin</span>(n)[<span class="number">2</span>:]]</span><br><span class="line">        pre=nums[<span class="number">0</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(nums)):</span><br><span class="line">            nums[i]^=pre</span><br><span class="line">            pre=nums[i]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">eval</span>(<span class="string">&#x27;0b&#x27;</span>+<span class="string">&#x27;&#x27;</span>.join([<span class="built_in">str</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> nums]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#方法二：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumOneBitOperations</span>(<span class="params">self, p: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        </span><br><span class="line">        dp = &#123;&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">helper</span>(<span class="params">k</span>):</span></span><br><span class="line">            <span class="keyword">if</span> k <span class="keyword">in</span> dp:</span><br><span class="line">                <span class="keyword">return</span> dp[k]</span><br><span class="line">            <span class="keyword">if</span> k &lt;= <span class="number">1</span>:</span><br><span class="line">                res = k</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                m = <span class="number">1</span></span><br><span class="line">                <span class="keyword">while</span> m * <span class="number">2</span> &lt;= k:</span><br><span class="line">                    m *= <span class="number">2</span></span><br><span class="line">                n = m // <span class="number">2</span></span><br><span class="line">                <span class="comment">#print(k, m, n)</span></span><br><span class="line">                <span class="keyword">if</span> k &gt;= m + n:</span><br><span class="line">                    res = m + helper(k - m - n)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    res = m + helper(k - n)</span><br><span class="line">            dp[k] = res</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> helper(p)</span><br><span class="line"></span><br><span class="line"><span class="comment"># copy</span></span><br></pre></td></tr></table></figure><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>考察数学。。。<br>复习了<code>math</code>, <code>bisect</code>，角度问题<br>那个树，hhh，做题还是有好处</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/be9d.html"/>
      <url>posts/be9d.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>第一题：<a href="https://leetcode-cn.com/contest/weekly-contest-207/problems/rearrange-spaces-between-words/">https://leetcode-cn.com/contest/weekly-contest-207/problems/rearrange-spaces-between-words/</a><br>第二题：<a href="https://leetcode-cn.com/contest/weekly-contest-207/problems/split-a-string-into-the-max-number-of-unique-substrings/">https://leetcode-cn.com/contest/weekly-contest-207/problems/split-a-string-into-the-max-number-of-unique-substrings/</a><br>第三题：<a href="https://leetcode-cn.com/contest/weekly-contest-207/problems/maximum-non-negative-product-in-a-matrix/">https://leetcode-cn.com/contest/weekly-contest-207/problems/maximum-non-negative-product-in-a-matrix/</a><br>第四题：<a href="https://leetcode-cn.com/contest/weekly-contest-207/problems/minimum-cost-to-connect-two-groups-of-points/">https://leetcode-cn.com/contest/weekly-contest-207/problems/minimum-cost-to-connect-two-groups-of-points/</a></p></blockquote><h2 id="一、重新排列单词间的空格"><a href="#一、重新排列单词间的空格" class="headerlink" title="一、重新排列单词间的空格"></a>一、重新排列单词间的空格</h2><p>给你一个字符串 <code>text</code> ，该字符串由若干被空格包围的单词组成。每个单词由一个或者多个小写英文字母组成，并且两个单词之间至少存在一个空格。题目测试用例保证 <code>text</code> 至少包含一个单词 。</p><p>请你重新排列空格，使每对相邻单词之间的空格数目都 相等 ，并尽可能 最大化 该数目。如果不能重新平均分配所有空格，请 将多余的空格放置在字符串末尾 ，这也意味着返回的字符串应当与原 <code>text</code> 字符串的长度相等。</p><p>返回 <strong>重新排列空格后的字符串</strong> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reorderSpaces</span>(<span class="params">self, text: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        n=text.count(<span class="string">&quot; &quot;</span>)</span><br><span class="line">        t=text.split()</span><br><span class="line">        len_t=<span class="built_in">len</span>(t)-<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> len_t==<span class="number">0</span>: <span class="keyword">return</span> <span class="string">&quot;&quot;</span>.join(t)+n*<span class="string">&quot; &quot;</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&quot; &quot;</span>*(n//len_t)).join(t)+<span class="string">&quot; &quot;</span>*(n%len_t)</span><br></pre></td></tr></table></figure><h2 id="二、拆分字符串使唯一子字符串的数目最大"><a href="#二、拆分字符串使唯一子字符串的数目最大" class="headerlink" title="二、拆分字符串使唯一子字符串的数目最大"></a>二、拆分字符串使唯一子字符串的数目最大</h2><p>给你一个字符串 <code>s</code> ，请你拆分该字符串，并返回拆分后唯一子字符串的最大数目。</p><p>字符串 <code>s</code> 拆分后可以得到若干 <strong>非空子字符串</strong> ，这些子字符串连接后应当能够还原为原字符串。但是拆分出来的每个子字符串都必须是 <strong>唯一的</strong> 。</p><p>注意：<strong>子字符串</strong> 是字符串中的一个连续字符序列。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxUniqueSplit</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        self.ans=<span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bk</span>(<span class="params">l,r,path</span>):</span></span><br><span class="line">            <span class="keyword">if</span> l==r:</span><br><span class="line">                <span class="comment">#print(path[:])</span></span><br><span class="line">                self.ans=<span class="built_in">max</span>(self.ans,<span class="built_in">len</span>(path))</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l,r):</span><br><span class="line">                tmp=s[l:i+<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> tmp <span class="keyword">not</span> <span class="keyword">in</span> path:</span><br><span class="line">                    path.append(tmp)</span><br><span class="line">                    bk(i+<span class="number">1</span>,r,path)</span><br><span class="line">                    path.pop()</span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line">        bk(<span class="number">0</span>,<span class="built_in">len</span>(s),[])</span><br><span class="line">        <span class="keyword">return</span> self.ans</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># hhh,最近写多了回溯，</span></span><br><span class="line"><span class="comment"># 这题写着写着拐进了dfs,又回溯了，回溯神奇啊</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#看着的时候挺抽象的，</span></span><br><span class="line"><span class="comment">#回溯出来也就这样了</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#回溯应对拆分，专长了</span></span><br></pre></td></tr></table></figure><h2 id="三、矩阵的最大非负积"><a href="#三、矩阵的最大非负积" class="headerlink" title="三、矩阵的最大非负积"></a>三、矩阵的最大非负积</h2><p>给你一个大小为 <code>rows</code> x <code>cols</code> 的矩阵 <code>grid</code> 。最初，你位于左上角 <code>(0, 0)</code> ，每一步，你可以在矩阵中 向右 或 向下 移动。</p><p>在从左上角 <code>(0, 0)</code> 开始到右下角 <code>(rows - 1, cols - 1)</code> 结束的所有路径中，找出具有 <strong>最大非负积</strong> 的路径。路径的积是沿路径访问的单元格中所有整数的乘积。</p><p>返回 最大非负积 对 <code>10**9 + 7</code> 取余 的结果。如果最大积为负数，则返回 <code>-1</code> 。</p><p>注意，取余是在得到最大积之后执行的。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProductPath</span>(<span class="params">self, grid: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        mod=<span class="number">10</span>**<span class="number">9</span>+<span class="number">7</span></span><br><span class="line">        rows,cols=<span class="built_in">len</span>(grid),<span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        self.ans=-<span class="number">1</span></span><br><span class="line">        </span><br><span class="line"><span class="meta">        @lru_cache(<span class="params"><span class="literal">None</span></span>)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">x,y,tmp</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="number">0</span>&lt;=x&lt;rows <span class="keyword">and</span> <span class="number">0</span>&lt;=y&lt;cols:</span><br><span class="line">                tmp=tmp*grid[x][y]</span><br><span class="line">                <span class="keyword">if</span> x==rows-<span class="number">1</span> <span class="keyword">and</span> y==cols-<span class="number">1</span>: </span><br><span class="line">                    self.ans=<span class="built_in">max</span>(self.ans,tmp)</span><br><span class="line">                    <span class="keyword">return</span> </span><br><span class="line">                dfs(x+<span class="number">1</span>,y,tmp)</span><br><span class="line">                dfs(x,y+<span class="number">1</span>,tmp)</span><br><span class="line">        </span><br><span class="line">        dfs(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span> <span class="keyword">if</span> self.ans==-<span class="number">1</span> <span class="keyword">else</span> self.ans%mod</span><br><span class="line"></span><br><span class="line"><span class="comment">#lru_cache 个神仙</span></span><br></pre></td></tr></table></figure><blockquote><p>记录一下报错:</p><ol><li>ans 不加self在这里会<code>error：referenced before assignment</code><br>&emsp;还有一种改法：把ans弄成列表，子函数中用ans[0]更改</li></ol></blockquote><h2 id="四、连通两组点的最小成本"><a href="#四、连通两组点的最小成本" class="headerlink" title="四、连通两组点的最小成本"></a>四、连通两组点的最小成本</h2><p>给你两组点，其中第一组中有 <code>size1</code> 个点，第二组中有 <code>size2</code> 个点，且 <code>size1 &gt;= size2</code> 。</p><p>任意两点间的连接成本 <code>cost</code> 由大小为 <code>size1 x size2</code> 矩阵给出，其中 <code>cost[i][j]</code> 是第一组中的点 <code>i</code> 和第二组中的点 <code>j</code> 的连接成本。<strong>如果两个组中的每个点都与另一组中的一个或多个点连接，则称这两组点是连通的。</strong>换言之，第一组中的每个点必须至少与第二组中的一个点连接，且第二组中的每个点必须至少与第一组中的一个点连接。</p><p>返回连通两组点所需的最小成本。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">connectTwoGroups</span>(<span class="params">self, cost: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        self.ans=<span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)</span><br><span class="line">        rows,cols=<span class="built_in">len</span>(cost),<span class="built_in">len</span>(cost[<span class="number">0</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">argmin</span>(<span class="params">a</span>):</span></span><br><span class="line">            mini,minv=-<span class="number">1</span>,<span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)</span><br><span class="line">            <span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">enumerate</span>(a):</span><br><span class="line">                <span class="keyword">if</span> v&lt;minv:</span><br><span class="line">                    mini,minv,=i,v</span><br><span class="line">            <span class="keyword">return</span> mini</span><br><span class="line">        </span><br><span class="line">        mina=[argmin(x) <span class="keyword">for</span> x <span class="keyword">in</span> cost] <span class="comment">#横排最小值索引表</span></span><br><span class="line">        minb=[argmin(x) <span class="keyword">for</span> x <span class="keyword">in</span> [[cost[r][c] <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(rows)] <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(cols)]]</span><br><span class="line">        <span class="comment">#竖列最小值的索引表</span></span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">index,vis,pre</span>):</span></span><br><span class="line">            <span class="keyword">if</span> index &gt;=rows:</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(vis)==cols:</span><br><span class="line">                    self.ans=<span class="built_in">min</span>(self.ans,pre)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                        <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> vis:</span><br><span class="line">                            j=minb[i]</span><br><span class="line">                            pre+=cost[j][i]</span><br><span class="line">                    self.ans=<span class="built_in">min</span>(self.ans,pre)</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> pre&gt;self.ans: <span class="keyword">return</span> </span><br><span class="line">            </span><br><span class="line">            x=[(cost[index][i],i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols)]</span><br><span class="line">            x.sort()                  <span class="comment"># sort()不能直接写在上面，机制不懂</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> c,i <span class="keyword">in</span> x:</span><br><span class="line">                dfs(index+<span class="number">1</span>,vis|&#123;i&#125;,pre+c)   <span class="comment"># 集合中 | 表示或运算</span></span><br><span class="line">        </span><br><span class="line">        dfs(<span class="number">0</span>,<span class="built_in">set</span>(),<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> self.ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># from copy</span></span><br><span class="line"><span class="comment"># km</span></span><br><span class="line"><span class="comment"># 不懂</span></span><br><span class="line"><span class="comment"># 二分图： 不含奇数条边的环的一种图</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200920123941686.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center" alt="离内推最近的一次"></p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/bfdd.html"/>
      <url>posts/bfdd.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>第一题：<a href="https://leetcode-cn.com/problems/detect-pattern-of-length-m-repeated-k-or-more-times/">https://leetcode-cn.com/problems/detect-pattern-of-length-m-repeated-k-or-more-times/</a><br>第二题：<a href="https://leetcode-cn.com/problems/maximum-length-of-subarray-with-positive-product/">https://leetcode-cn.com/problems/maximum-length-of-subarray-with-positive-product/</a><br>第三题：<a href="https://leetcode-cn.com/problems/minimum-number-of-days-to-disconnect-island/">https://leetcode-cn.com/problems/minimum-number-of-days-to-disconnect-island/</a><br>第四题：<a href="https://leetcode-cn.com/problems/number-of-ways-to-reorder-array-to-get-same-bst/">https://leetcode-cn.com/problems/number-of-ways-to-reorder-array-to-get-same-bst/</a></p></blockquote><h2 id="一、重复至少-K-次且长度为-M-的模式"><a href="#一、重复至少-K-次且长度为-M-的模式" class="headerlink" title="一、重复至少 K 次且长度为 M 的模式"></a>一、重复至少 K 次且长度为 M 的模式</h2><p>给你一个正整数数组 <code>arr</code>，请你找出一个长度为 <code>m</code> 且在数组中至少重复 <code>k</code> 次的模式。</p><p>模式 是由一个或多个值组成的子数组（连续的子序列），连续 重复多次但 不重叠 。 模式由其长度和重复次数定义。</p><p>如果数组中存在一个至少重复 <code>k</code> 次且长度为 <code>m</code> 的模式，则返回 <code>true</code> ，否则返回  <code>false</code> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">containsPattern</span>(<span class="params">self, arr: List[<span class="built_in">int</span>], m: <span class="built_in">int</span>, k: <span class="built_in">int</span></span>) -&gt; bool:</span></span><br><span class="line">        len_arr=<span class="built_in">len</span>(arr)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(len_arr):</span><br><span class="line">            temp=arr[i:i+m]</span><br><span class="line">            <span class="keyword">if</span> temp*k==arr[i:i+m*k]: <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#暴力法</span></span><br></pre></td></tr></table></figure><h2 id="二、乘积为正数的最长子数组长度"><a href="#二、乘积为正数的最长子数组长度" class="headerlink" title="二、乘积为正数的最长子数组长度"></a>二、乘积为正数的最长子数组长度</h2><p>给你一个整数数组 <code>nums</code> ，请你求出乘积为正数的最长子数组的长度。</p><p>一个数组的子数组是由原数组中零个或者更多个连续数字组成的数组。</p><p>请你返回乘积为正数的最长子数组长度。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMaxLen</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        nums.append(<span class="number">0</span>)</span><br><span class="line">        </span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        temp = []</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i, t <span class="keyword">in</span> <span class="built_in">enumerate</span>(nums) :</span><br><span class="line">            <span class="keyword">if</span> t == <span class="number">0</span> :</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(temp) % <span class="number">2</span> == <span class="number">0</span> :        <span class="comment">#偶数个负数</span></span><br><span class="line">                    ans = <span class="built_in">max</span>(ans, i-start)    <span class="comment">#用i-start更新ans</span></span><br><span class="line">                <span class="keyword">else</span> :</span><br><span class="line">                    ans = <span class="built_in">max</span>([ans, i-temp[<span class="number">0</span>]-<span class="number">1</span>, temp[-<span class="number">1</span>]-start])</span><br><span class="line">                    <span class="comment">#还是用偶数个负数的情况来更新ans</span></span><br><span class="line">                start = i+<span class="number">1</span></span><br><span class="line">                temp = []</span><br><span class="line">            <span class="keyword">elif</span> t &lt; <span class="number">0</span> :</span><br><span class="line">                temp.append(i)  <span class="comment">#暂存小于0的数</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment">#主要思路：硬模拟，负数为主线索</span></span><br></pre></td></tr></table></figure><h2 id="三、使陆地分离的最少天数"><a href="#三、使陆地分离的最少天数" class="headerlink" title="三、使陆地分离的最少天数"></a>三、使陆地分离的最少天数</h2><p>给你一个由若干 <code>0</code> 和 <code>1</code> 组成的二维网格 <code>grid</code> ，其中 <code>0</code> 表示水，而 <code>1</code> 表示陆地。岛屿由水平方向或竖直方向上相邻的 <code>1 </code>（陆地）连接形成。</p><p>如果 恰好只有一座岛屿 ，则认为陆地是 <code>连通</code> 的 ；否则，陆地就是 <code>分离</code> 的 。</p><p>一天内，可以将任何单个陆地单元（<code>1</code>）更改为水单元（<code>0</code>）。</p><p>返回使陆地分离的最少天数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#不会啊，吐了</span></span><br></pre></td></tr></table></figure><h2 id="四、将子数组重新排序得到同一个二叉查找树的方案数"><a href="#四、将子数组重新排序得到同一个二叉查找树的方案数" class="headerlink" title="四、将子数组重新排序得到同一个二叉查找树的方案数"></a>四、将子数组重新排序得到同一个二叉查找树的方案数</h2><p>给你一个数组 <code>nums</code> 表示 <code>1</code> 到 <code>n</code> 的一个排列。我们按照元素在 <code>nums</code> 中的顺序依次插入一个初始为空的二叉查找树（BST）。请你统计将 <code>nums</code> 重新排序后，统计满足如下条件的方案数：重排后得到的二叉查找树与 <code>nums</code> 原本数字顺序得到的二叉查找树相同。</p><p>比方说，给你 <code>nums = [2,1,3]</code>，我们得到一棵 <code>2</code> 为根，<code>1</code> 为左孩子，<code>3</code> 为右孩子的树。数组 <code>[2,3,1]</code> 也能得到相同的 BST，但 <code>[3,2,1]</code> 会得到一棵不同的 BST 。</p><p>请你返回重排 <code>nums</code> 后，与原数组 <code>nums</code> 得到相同二叉查找树的方案数。</p><p>由于答案可能会很大，请将结果对 <code>10^9 + 7</code> 取余数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> comb</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numOfWays</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">nums</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(nums) &lt; <span class="number">3</span>: <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">            left = [num <span class="keyword">for</span> num <span class="keyword">in</span> nums <span class="keyword">if</span> num &lt; nums[<span class="number">0</span>]]</span><br><span class="line">            right = [num <span class="keyword">for</span> num <span class="keyword">in</span> nums <span class="keyword">if</span> num &gt; nums[<span class="number">0</span>]]</span><br><span class="line">            l, r = f(left), f(right)</span><br><span class="line">            res = comb(<span class="built_in">len</span>(nums) - <span class="number">1</span>, <span class="built_in">len</span>(left)) * l * r</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> (f(nums) - <span class="number">1</span>)%(<span class="number">10</span>**<span class="number">9</span> + <span class="number">7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分治</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/bd5d.html"/>
      <url>posts/bd5d.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、存在连续三个奇数的数组"><a href="#一、存在连续三个奇数的数组" class="headerlink" title="一、存在连续三个奇数的数组"></a>一、存在连续三个奇数的数组</h2><p>给你一个整数数组 <code>arr</code>，请你判断数组中是否存在连续三个元素都是奇数的情况：如果存在，请返回 <code>true</code> ；否则，返回 <code>false</code> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">threeConsecutiveOdds</span>(<span class="params">self, arr: List[<span class="built_in">int</span>]</span>) -&gt; bool:</span></span><br><span class="line">        l=<span class="built_in">len</span>(arr)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,l-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> arr[i-<span class="number">1</span>]%<span class="number">2</span>==<span class="number">1</span> <span class="keyword">and</span> arr[i]%<span class="number">2</span>==<span class="number">1</span> <span class="keyword">and</span> arr[i+<span class="number">1</span>]%<span class="number">2</span>==<span class="number">1</span>: </span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure><h2 id="二、使数组中所有元素相等的最小操作数"><a href="#二、使数组中所有元素相等的最小操作数" class="headerlink" title="二、使数组中所有元素相等的最小操作数"></a>二、使数组中所有元素相等的最小操作数</h2><p>存在一个长度为 <code>n</code> 的数组 <code>arr</code> ，其中 <code>arr[i] = (2 * i) + 1 （ 0 &lt;= i &lt; n </code>。</p><p>一次操作中，你可以选出两个下标，记作 <code>x</code> 和 <code>y</code> （ 0 &lt;= x, y &lt; n ）并使 arr[x] 减去 1 、arr[y] 加上 1 （即 arr[x] -=1 且 arr[y] += 1 ）。最终的目标是使数组中的所有元素都 相等 。题目测试用例将会 保证 ：在执行若干步操作后，数组中的所有元素最终可以全部相等。</p><p>给你一个整数 <code>n</code>，即数组的长度。请你返回使数组 <code>arr</code> 中所有元素相等所需的 <code>最小操作数</code> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minOperations</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        table=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>,n):</span><br><span class="line">            table.append(i+table[i-<span class="number">2</span>])</span><br><span class="line">        <span class="keyword">return</span> table[n-<span class="number">1</span>]</span><br></pre></td></tr></table></figure><h2 id="三、两球之间的磁力"><a href="#三、两球之间的磁力" class="headerlink" title="三、两球之间的磁力"></a>三、两球之间的磁力</h2><p>在代号为 C-137 的地球上，Rick 发现如果他将两个球放在他新发明的篮子里，它们之间会形成特殊形式的磁力。Rick 有 <code>n</code> 个空的篮子，第 <code>i</code> 个篮子的位置在 <code>position[i]</code> ，Morty 想把 <code>m</code> 个球放到这些篮子里，使得任意两球间 最小磁力 最大。</p><p>已知两个球如果分别位于 <code>x</code> 和 <code>y</code> ，那么它们之间的磁力为 <code>|x - y|</code> 。</p><p>给你一个整数数组 <code>position</code> 和一个整数 <code>m</code> ，请你返回最大化的最小磁力。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxDistance</span>(<span class="params">self, p: List[<span class="built_in">int</span>], m: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        p.sort()</span><br><span class="line">        lenp=<span class="built_in">len</span>(p)</span><br><span class="line">        l=<span class="built_in">min</span>([p[i+<span class="number">1</span>]-p[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(lenp-<span class="number">1</span>)]) <span class="comment">#最小答案</span></span><br><span class="line">        r=p[-<span class="number">1</span>]-p[<span class="number">0</span>]                                <span class="comment">#最大答案</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">ans</span>):</span></span><br><span class="line">            count,i,j=<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> j&lt;lenp:</span><br><span class="line">                <span class="keyword">while</span> j&lt;lenp <span class="keyword">and</span> p[j]-p[i]&lt;ans: j+=<span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> j&lt;lenp: count+=<span class="number">1</span></span><br><span class="line">                i=j</span><br><span class="line">            <span class="keyword">return</span> count&gt;= m-<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> l&lt;=r:</span><br><span class="line">            mid=(l+r)//<span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> check(mid): l=mid+<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: r=mid-<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> l-<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 有些不懂，以后再看看</span></span><br></pre></td></tr></table></figure><h2 id="四、吃掉-N-个橘子的最少天数"><a href="#四、吃掉-N-个橘子的最少天数" class="headerlink" title="四、吃掉 N 个橘子的最少天数"></a>四、吃掉 N 个橘子的最少天数</h2><p>厨房里总共有 n 个橘子，你决定每一天选择如下方式之一吃这些橘子：</p><p>吃掉一个橘子。<br>如果剩余橘子数 <code>n</code> 能被 <code>2</code> 整除，那么你可以吃掉 <code>n/2</code> 个橘子。<br>如果剩余橘子数 <code>n</code> 能被 <code>3</code> 整除，那么你可以吃掉 <code>2*(n/3)</code> 个橘子。<br>每天你只能从以上 <code>3</code> 种方案中选择一种方案。</p><p>请你返回吃掉所有 <code>n</code> 个橘子的最少天数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minDays</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"><span class="meta">        @lru_cache(<span class="params">maxsize=<span class="number">2048</span></span>)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bfs</span>(<span class="params">k</span>):</span></span><br><span class="line">            <span class="keyword">if</span> k&lt;=<span class="number">2</span>: <span class="keyword">return</span> k</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> k%<span class="number">6</span>==<span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="built_in">min</span>(bfs(k//<span class="number">3</span>)+<span class="number">1</span>,bfs(k//<span class="number">2</span>)+<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> k%<span class="number">3</span>==<span class="number">0</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="built_in">min</span>(bfs(k//<span class="number">3</span>)+<span class="number">1</span>,bfs(k-<span class="number">1</span>)+<span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">if</span> k%<span class="number">2</span>==<span class="number">0</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="built_in">min</span>(bfs(k//<span class="number">2</span>)+<span class="number">1</span>,bfs(k-<span class="number">1</span>)+<span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">return</span> bfs(k-<span class="number">1</span>)+<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> bfs(n)</span><br><span class="line">                </span><br><span class="line"><span class="comment"># 第一次把第四题做出来，开心ing</span></span><br><span class="line"><span class="comment"># 看了一下其它题解，n-1的情况后期不用考虑</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/bc1d.html"/>
      <url>posts/bc1d.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、整理字符串"><a href="#一、整理字符串" class="headerlink" title="一、整理字符串"></a>一、整理字符串</h2><p>给你一个由大小写英文字母组成的字符串 <code>s</code> 。</p><p>一个整理好的字符串中，两个相邻字符 <code>s[i]</code> 和 <code>s[i + 1]</code> 不会同时满足下述条件：</p><ul><li><code>0</code> &lt;= <code>i</code> &lt;= <code>s.length - 2</code></li><li><code>s[i]</code> 是小写字符，但 <code>s[i + 1]</code> 是相同的大写字符；反之亦然 。</li></ul><p>请你将字符串整理好，每次你都可以从字符串中选出满足上述条件的两个相邻字符并删除，直到字符串整理好为止。</p><p>请返回整理好的 字符串 。题目保证在给出的约束条件下，测试样例对应的答案是唯一的。</p><p>注意：空字符串也属于整理好的字符串，尽管其中没有任何字符</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">makeGood</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        stack=[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">            last=<span class="literal">None</span></span><br><span class="line">            <span class="keyword">if</span> stack: last=stack.pop()</span><br><span class="line">                </span><br><span class="line">            <span class="keyword">if</span> last <span class="keyword">and</span> (<span class="built_in">ord</span>(i)-<span class="number">32</span>==<span class="built_in">ord</span>(last) <span class="keyword">or</span> <span class="built_in">ord</span>(last)-<span class="number">32</span>==<span class="built_in">ord</span>(i)): </span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                stack.extend([last,i])</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join([i <span class="keyword">for</span> i <span class="keyword">in</span> stack <span class="keyword">if</span> i])</span><br><span class="line"></span><br><span class="line"><span class="comment">#熟悉了stack，ord()与32，list.extend()</span></span><br></pre></td></tr></table></figure><h2 id="二、找出第-N-个二进制字符串中的第-K-位"><a href="#二、找出第-N-个二进制字符串中的第-K-位" class="headerlink" title="二、找出第 N 个二进制字符串中的第 K 位"></a>二、找出第 N 个二进制字符串中的第 K 位</h2><p>给你两个正整数 n 和 k，二进制字符串  Sn 的形成规则如下：</p><p><code>S1 = &quot;0&quot;</code><br>当 <code>i &gt; 1</code> 时，<code>Si = Si-1 + &quot;1&quot; + reverse(invert(Si-1))</code><br>其中 <code>+</code>表示串联操作，<code>reverse(x)</code> 返回反转 x 后得到的字符串，而 <code>invert(x)</code> 则会翻转 x 中的每一位（0 变为 1，而 1 变为 0）</p><p>例如，符合上述描述的序列的前 4 个字符串依次是：</p><p>S1 = “0”<br>S2 = “011”<br>S3 = “0111001”<br>S4 = “011100110110001”<br>请你返回  Sn 的 第 k 位字符 ，题目数据保证 k 一定在 Sn 长度范围以内。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findKthBit</span>(<span class="params">self, n: <span class="built_in">int</span>, k: <span class="built_in">int</span></span>) -&gt; str:</span></span><br><span class="line">        s=<span class="string">&#x27;0&#x27;</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>):</span><br><span class="line">            s=s+<span class="string">&#x27;1&#x27;</span>+<span class="string">&#x27;&#x27;</span>.join([<span class="built_in">str</span>(<span class="built_in">int</span>(i)^<span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> s])[::-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> s[k-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 熟悉了 ^1 操作</span></span><br></pre></td></tr></table></figure><h2 id="三、和为目标值的非空不重叠子数组最大数目"><a href="#三、和为目标值的非空不重叠子数组最大数目" class="headerlink" title="三、和为目标值的非空不重叠子数组最大数目"></a>三、和为目标值的非空不重叠子数组最大数目</h2><p>给你一个数组 <code>nums</code> 和一个整数 <code>target</code> 。</p><p>请你返回 非空不重叠 子数组的最大数目，且每个子数组中数字和都为 <code>target</code> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxNonOverlapping</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        pre = <span class="built_in">set</span>([<span class="number">0</span>])  <span class="comment">#这是一个前缀和的集合</span></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="built_in">sum</span> += num</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">sum</span> - target <span class="keyword">in</span> pre: <span class="comment">#有一段和满足要求</span></span><br><span class="line">                res += <span class="number">1</span></span><br><span class="line">                <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">                pre = <span class="built_in">set</span>([<span class="number">0</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                pre.add(<span class="built_in">sum</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># 像560.和为k的子数组,忘了</span></span><br><span class="line"><span class="comment"># 一遍就出来了,思路都固定死了，就是前缀和</span></span><br></pre></td></tr></table></figure><h2 id="四、切棍子的最小成本"><a href="#四、切棍子的最小成本" class="headerlink" title="四、切棍子的最小成本"></a>四、切棍子的最小成本</h2><p>有一根长度为 <code>n</code> 个单位的木棍，棍上从 <code>0</code> 到 <code>n</code> 标记了若干位置。<br>给你一个整数数组 <code>cuts</code> ，其中 <code>cuts[i]</code> 表示你需要将棍子切开的位置。</p><p>你可以按顺序完成切割，也可以根据需要更改切割的顺序。</p><p>每次切割的成本都是当前要切割的棍子的长度，切棍子的总成本是历次切割成本的总和。对棍子进行切割将会把一根木棍分成两根较小的木棍（这两根木棍的长度和就是切割前木棍的长度）。请参阅第一个示例以获得更直观的解释。</p><p>返回切棍子的 <code>最小总成本</code> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minCost</span>(<span class="params">self, n: <span class="built_in">int</span>, cuts: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">import</span> sys   </span><br><span class="line">        sys.setrecursionlimit(<span class="number">10000000</span>)  <span class="comment">#改一下递归深度</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">import</span> functools</span><br><span class="line"><span class="meta">        @functools.lru_cache(<span class="params"><span class="literal">None</span></span>)   </span><span class="comment">#用一下缓存</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dp</span>(<span class="params">i, j</span>):</span></span><br><span class="line">            res = <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)</span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> cuts:</span><br><span class="line">                <span class="keyword">if</span> c &gt; i <span class="keyword">and</span> c &lt; j:</span><br><span class="line">                    res = <span class="built_in">min</span>(res, dp(i, c) + dp(c, j) + j - i)</span><br><span class="line">            <span class="keyword">if</span> res == <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>):</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp(<span class="number">0</span>, n)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 懂了一些，dp的不是表，是函数了，厉害</span></span><br></pre></td></tr></table></figure><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>唔，只做了两道题</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/2c2a.html"/>
      <url>posts/2c2a.html</url>
      
        <content type="html"><![CDATA[<h3 id="一、检查单词是否为句中其他单词的前缀"><a href="#一、检查单词是否为句中其他单词的前缀" class="headerlink" title="一、检查单词是否为句中其他单词的前缀"></a>一、检查单词是否为句中其他单词的前缀</h3><p>给你一个字符串 <code>sentence</code> 作为句子并指定检索词为 <code>searchWord</code> ，其中句子由若干用 单个空格 分隔的单词组成。<br>请你检查检索词 <code>searchWord</code> 是否为句子 <code>sentence</code> 中任意单词的前缀。</p><ul><li>如果 <code>searchWord</code> 是某一个单词的前缀，则返回句子 <code>sentence</code> 中该单词所对应的下标（下标从 <code>1</code> 开始）。</li><li>如果 <code>searchWord</code> 是多个单词的前缀，则返回匹配的第一个单词的下标（最小下标）。</li><li>如果 <code>searchWord</code> 不是任何单词的前缀，则返回 <code>-1</code> 。<br>字符串 <code>S</code> 的 「前缀」是 <code>S</code> 的任何前导连续子字符串。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isPrefixOfWord</span>(<span class="params">self, sentence: <span class="built_in">str</span>, searchWord: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">for</span> i, s <span class="keyword">in</span> <span class="built_in">enumerate</span>(sentence.split()):</span><br><span class="line">            <span class="keyword">if</span> s.startswith(searchWord):</span><br><span class="line">                <span class="keyword">return</span> i+<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="二、定长子串中元音的最大数目"><a href="#二、定长子串中元音的最大数目" class="headerlink" title="二、定长子串中元音的最大数目"></a>二、定长子串中元音的最大数目</h3><p>给你字符串 <code>s</code> 和整数 <code>k</code> 。<br>请返回字符串 <code>s</code> 中长度为 <code>k</code> 的单个子字符串中可能包含的最大元音字母数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxVowels</span>(<span class="params">self, s: <span class="built_in">str</span>, k: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        ans,tmp=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">            <span class="keyword">if</span> s[i] <span class="keyword">in</span> <span class="string">&#x27;aeiou&#x27;</span>: tmp+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> i&gt;=k:</span><br><span class="line">                <span class="keyword">if</span> s[i-k] <span class="keyword">in</span> <span class="string">&#x27;aeiou&#x27;</span>: tmp-=<span class="number">1</span></span><br><span class="line">            ans=<span class="built_in">max</span>(ans,tmp)</span><br><span class="line">        <span class="keyword">return</span> ans   </span><br></pre></td></tr></table></figure><p><strong>小结</strong></p><blockquote><p>不能多想。。好菜</p></blockquote><h3 id="三、二叉树中的伪回文路径"><a href="#三、二叉树中的伪回文路径" class="headerlink" title="三、二叉树中的伪回文路径"></a>三、二叉树中的伪回文路径</h3><p>给你一棵二叉树，每个节点的值为 1 到 9 。我们称二叉树中的一条路径是 「伪回文」的，当它满足：路径经过的所有节点值的排列中，存在一个回文序列。<br>请你返回从根到叶子节点的所有路径中 <strong>伪回文</strong> 路径的数目。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pseudoPalindromicPaths</span> (<span class="params">self, root: TreeNode</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root : <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        self.ans=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">root,tmp</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root : <span class="keyword">return</span> </span><br><span class="line">            helper(root.left,tmp+[root.val])</span><br><span class="line">            helper(root.right,tmp+[root.val])</span><br><span class="line">            tmp.append(root.val)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root.left <span class="keyword">and</span> <span class="keyword">not</span> root.right:</span><br><span class="line">                cnt=<span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> Counter(tmp).values():</span><br><span class="line">                    <span class="keyword">if</span> i%<span class="number">2</span>: cnt+=<span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> cnt&lt;<span class="number">2</span>:self.ans+=<span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        dfs(root,[])</span><br><span class="line">        <span class="keyword">return</span> self.ans</span><br></pre></td></tr></table></figure><h3 id="四、两个子序列的最大点积"><a href="#四、两个子序列的最大点积" class="headerlink" title="四、两个子序列的最大点积"></a>四、两个子序列的最大点积</h3><p>给你两个数组 <code>nums1</code> 和 <code>nums2</code> 。<br>请你返回 <code>nums1</code> 和 <code>nums2</code> 中两个长度相同的 非空 子序列的最大点积。<br>数组的非空子序列是通过删除原数组中某些元素（可能一个也不删除）后剩余数字组成的序列，但不能改变数字间相对顺序。比方说，<code>[2,3,5]</code> 是 <code>[1,2,3,4,5]</code> 的一个子序列而 <code>[1,5,3]</code> 不是。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxDotProduct</span>(<span class="params">self, nums1: List[<span class="built_in">int</span>], nums2: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        m,n=<span class="built_in">len</span>(nums1),<span class="built_in">len</span>(nums2)</span><br><span class="line">        dp=[[<span class="built_in">float</span>(<span class="string">&#x27;-inf&#x27;</span>)]*(n+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(m+<span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,m+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">                dp[i][j]=nums1[i-<span class="number">1</span>]*nums2[j-<span class="number">1</span>]</span><br><span class="line">                dp[i][j]=<span class="built_in">max</span>(dp[i][j],dp[i][j]+dp[i-<span class="number">1</span>][j-<span class="number">1</span>],dp[i-<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> dp[m][n]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>小结</strong></p><blockquote><p>DP题看的时候一点思路没有。。。被菜昏了</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/baeb.html"/>
      <url>posts/baeb.html</url>
      
        <content type="html"><![CDATA[<h3 id="一、在既定时间做作业的学生人数"><a href="#一、在既定时间做作业的学生人数" class="headerlink" title="一、在既定时间做作业的学生人数"></a>一、在既定时间做作业的学生人数</h3><p>给你两个整数数组 <code>startTime</code>（开始时间）和 <code>endTime</code>（结束时间），并指定一个整数 <code>queryTime</code> 作为查询时间。<br>已知，第 <code>i</code> 名学生在 <code>startTime[i]</code> 时开始写作业并于 <code>endTime[i]</code> 时完成作业。<br>请返回在查询时间 <code>queryTime</code> 时正在做作业的学生人数。形式上，返回能够使 <code>queryTime</code> 处于区间 <code>[startTime[i], endTime[i]]</code>（含）的学生人数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">busyStudent</span>(<span class="params">self, startTime: List[<span class="built_in">int</span>], endTime: List[<span class="built_in">int</span>], queryTime: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(startTime[i] &lt;= queryTime &lt;= endTime[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(startTime)))</span><br></pre></td></tr></table></figure><h3 id="二、重新排列句子中的单词"><a href="#二、重新排列句子中的单词" class="headerlink" title="二、重新排列句子中的单词"></a>二、重新排列句子中的单词</h3><p>「句子」是一个用空格分隔单词的字符串。给你一个满足下述格式的句子 <code>text</code> :</p><ul><li>句子的首字母大写</li><li><code>text</code> 中的每个单词都用单个空格分隔。</li></ul><p>请你重新排列 <code>text</code> 中的单词，使所有单词按其长度的升序排列。如果两个单词的长度相同，则保留其在原句子中的相对顺序。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">arrangeWords</span>(<span class="params">self, text: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        li=text.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        li[<span class="number">0</span>]=li[<span class="number">0</span>].lower()</span><br><span class="line">        li.sort(key=<span class="built_in">len</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>.join(li).capitalize()</span><br></pre></td></tr></table></figure><p><strong>小结</strong></p><blockquote><ol><li><code>str.capitalize()</code></li><li><code>.sort(key=len)</code></li></ol></blockquote><h3 id="三、收藏清单"><a href="#三、收藏清单" class="headerlink" title="三、收藏清单"></a>三、收藏清单</h3><p>给你一个数组 <code>favoriteCompanies</code> ，其中 <code>favoriteCompanies[i]</code> 是第 <code>i</code> 名用户收藏的公司清单（下标从 0 开始）。<br>请找出不是其他任何人收藏的公司清单的子集的收藏清单，并返回该清单下标。下标需要按升序排列。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">peopleIndexes</span>(<span class="params">self, favoriteCompanies: List[List[<span class="built_in">str</span>]]</span>) -&gt; List[int]:</span></span><br><span class="line">        ans=[_ <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(favoriteCompanies))]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(favoriteCompanies)-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>,<span class="built_in">len</span>(favoriteCompanies)):</span><br><span class="line">                a,b=<span class="built_in">set</span>(favoriteCompanies[i]),<span class="built_in">set</span>(favoriteCompanies[j])</span><br><span class="line">                <span class="keyword">if</span> a==b <span class="keyword">and</span> i <span class="keyword">in</span> ans:</span><br><span class="line">                    ans.remove(i)</span><br><span class="line">                <span class="keyword">elif</span> a.issubset(b) <span class="keyword">and</span> i <span class="keyword">in</span> ans: </span><br><span class="line">                    ans.remove(i)</span><br><span class="line">                <span class="keyword">elif</span> b.issubset(a) <span class="keyword">and</span> j <span class="keyword">in</span> ans: </span><br><span class="line">                    ans.remove(j)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><p><strong>小结</strong></p><blockquote><ol><li><code>a.issubset(b)</code>，判断a是否是b子集</li><li><code>.remove(i)</code>，若<code>i</code>不存在会报错</li></ol></blockquote><h3 id="四、圆形靶内的最大飞镖数量"><a href="#四、圆形靶内的最大飞镖数量" class="headerlink" title="四、圆形靶内的最大飞镖数量"></a>四、圆形靶内的最大飞镖数量</h3><p>墙壁上挂着一个圆形的飞镖靶。现在请你蒙着眼睛向靶上投掷飞镖。<br>投掷到墙上的飞镖用二维平面上的点坐标数组表示。飞镖靶的半径为 <code>r</code> 。<br>请返回能够落在 <strong>任意</strong> 半径为 <code>r</code> 的圆形靶内或靶上的最大飞镖数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numPoints</span>(<span class="params">self, points: List[List[<span class="built_in">int</span>]], r: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        func=<span class="keyword">lambda</span> o:<span class="built_in">sum</span>(dist(p,o)&lt;=r <span class="keyword">for</span> p <span class="keyword">in</span> points) <span class="comment">#检查包含</span></span><br><span class="line">        ans=<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> p1 <span class="keyword">in</span> points:</span><br><span class="line">            <span class="keyword">for</span> p2 <span class="keyword">in</span> points:                           <span class="comment">#枚举</span></span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span>&lt;dist(p1,p2)&lt;=<span class="number">2</span>*r:                  <span class="comment">#走数学流程</span></span><br><span class="line">                    mid = [(p1[<span class="number">0</span>]+p2[<span class="number">0</span>])/<span class="number">2</span>,(p1[<span class="number">1</span>]+p2[<span class="number">1</span>])/<span class="number">2</span>]</span><br><span class="line">                    d = [(p1[<span class="number">0</span>]-p2[<span class="number">0</span>])/<span class="number">2</span>,(p1[<span class="number">1</span>]-p2[<span class="number">1</span>])/<span class="number">2</span>]</span><br><span class="line">                    k = sqrt(r**<span class="number">2</span>-d[<span class="number">0</span>]**<span class="number">2</span>-d[<span class="number">1</span>]**<span class="number">2</span>)/hypot(*d)</span><br><span class="line">                    o = [mid[<span class="number">0</span>]+d[<span class="number">1</span>]*k,mid[<span class="number">1</span>]-d[<span class="number">0</span>]*k]   <span class="comment">#圆心</span></span><br><span class="line">                    ans=<span class="built_in">max</span>(ans, func(o))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><p>主要思路：<strong>枚举</strong></p><ol><li>枚举points中每两个点，确定圆心。</li><li>更新最大值，输出</li></ol><p><strong>小结：</strong><br> 第四题的<code>枚举</code>+<code>math模块</code>+<code>数学</code>，666。<br> 每天都要好好学习❤❤❤</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/7e6a.html"/>
      <url>posts/7e6a.html</url>
      
        <content type="html"><![CDATA[<h3 id="一、旅行终点站"><a href="#一、旅行终点站" class="headerlink" title="一、旅行终点站"></a>一、旅行终点站</h3><p>给你一份旅游线路图，该线路图中的旅行线路用数组 <code>paths</code> 表示，其中 <code>paths[i] = [cityAi, cityBi]</code> 表示该线路将会从 <code>cityAi</code> 直接前往 <code>cityBi</code> 。请你找出这次旅行的终点站，即没有任何可以通往其他城市的线路的城市。<br>题目数据保证线路图会形成一条不存在循环的线路，因此只会有一个旅行终点站。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">destCity</span>(<span class="params">self, paths: List[List[<span class="built_in">str</span>]]</span>) -&gt; str:</span></span><br><span class="line">        lista=[i[<span class="number">0</span>] <span class="keyword">for</span> i <span class="keyword">in</span> paths]</span><br><span class="line">        listb=[i[<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> paths]</span><br><span class="line">        <span class="keyword">return</span> (<span class="built_in">set</span>(listb)-<span class="built_in">set</span>(lista)).pop()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="二、是否所有-1-都至少相隔-k-个元素"><a href="#二、是否所有-1-都至少相隔-k-个元素" class="headerlink" title="二、是否所有 1 都至少相隔 k 个元素"></a>二、是否所有 1 都至少相隔 k 个元素</h3><p>给你一个由若干 <code>0</code> 和 <code>1</code> 组成的数组 <code>nums</code> 以及整数 <code>k</code>。如果所有 <code>1</code> 都至少相隔 <code>k</code> 个元素，则返回 <code>True</code> ；否则，返回 <code>False</code> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kLengthApart</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; bool:</span></span><br><span class="line">        temp=<span class="built_in">float</span>(<span class="string">&#x27;-inf&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            <span class="keyword">if</span> nums[i]==<span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span> i-temp&lt;=k: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                <span class="keyword">else</span>:temp=i</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><h3 id="三、绝对差不超过限制的最长连续子数组"><a href="#三、绝对差不超过限制的最长连续子数组" class="headerlink" title="三、绝对差不超过限制的最长连续子数组"></a>三、绝对差不超过限制的最长连续子数组</h3><p>给你一个整数数组 <code>nums</code> ，和一个表示限制的整数 <code>limit</code>，请你返回最长连续子数组的长度，该子数组中的任意两个元素之间的绝对差必须小于或者等于 <code>limit</code> 。<br>如果不存在满足条件的子数组，则返回 <code>0</code> 。</p><blockquote><p>话说dp和双指针好像，双指针的话最后一个十几万数的测试用例超时了。。。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestSubarray</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], limit: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        ans=<span class="number">1</span></span><br><span class="line">        a=<span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,a-<span class="number">1</span>):</span><br><span class="line">            minnum,maxnum=<span class="number">10</span>**<span class="number">9</span>,<span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(l+<span class="number">1</span>,a):</span><br><span class="line">                minnum=<span class="built_in">min</span>([nums[l],nums[r],minnum])</span><br><span class="line">                maxnum=<span class="built_in">max</span>([nums[l],nums[r],maxnum])</span><br><span class="line">                <span class="keyword">if</span> maxnum-minnum&lt;=limit:</span><br><span class="line">                    ans=<span class="built_in">max</span>(ans,r-l+<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><p>from copy :</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestSubarray</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], limit: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        i = j = <span class="number">0</span></span><br><span class="line">        st = []</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> j &lt; <span class="built_in">len</span>(nums):</span><br><span class="line">            bisect.insort(st, nums[j])</span><br><span class="line">            <span class="keyword">while</span> st[-<span class="number">1</span>] - st[<span class="number">0</span>] &gt; limit:</span><br><span class="line">                st.remove(nums[i])</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">            ans = <span class="built_in">max</span>(ans, <span class="built_in">len</span>(st))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="四、有序矩阵中的第-k-个最小数组和"><a href="#四、有序矩阵中的第-k-个最小数组和" class="headerlink" title="四、有序矩阵中的第 k 个最小数组和"></a>四、有序矩阵中的第 k 个最小数组和</h3><p>给你一个 <code>m * n</code> 的矩阵 <code>mat</code>，以及一个整数 <code>k</code> ，矩阵中的每一行都以非递减的顺序排列。<br>你可以从每一行中选出 1 个元素形成一个数组。返回所有可能数组中的第 k 个最小数组和。</p><blockquote><p>利用sorted逐行更新。。</p></blockquote><p>from copy:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kthSmallest</span>(<span class="params">self, mat: List[List[<span class="built_in">int</span>]], k: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        ans = [<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> mat:</span><br><span class="line">            ans = <span class="built_in">sorted</span>([a + r <span class="keyword">for</span> a <span class="keyword">in</span> ans <span class="keyword">for</span> r <span class="keyword">in</span> row])[: k]</span><br><span class="line">        <span class="keyword">return</span> ans[-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/bfeb.html"/>
      <url>posts/bfeb.html</url>
      
        <content type="html"><![CDATA[<h3 id="（1）重新格式化字符串"><a href="#（1）重新格式化字符串" class="headerlink" title="（1）重新格式化字符串"></a>（1）重新格式化字符串</h3><p>给你一个混合了数字和字母的字符串 <code>s</code>，其中的字母均为小写英文字母。<br>请你将该字符串重新格式化，使得任意两个相邻字符的类型都不同。也就是说，字母后面应该跟着数字，而数字后面应该跟着字母。<br>请你返回 重新格式化后 的字符串；如果无法按要求重新格式化，则返回一个 空字符串 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reformat</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s: <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        ln,ls=[],[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> i.isdigit():ln.append(i)</span><br><span class="line">            <span class="keyword">else</span>:ls.append(i)</span><br><span class="line">        a,b,ans=<span class="built_in">len</span>(ln),<span class="built_in">len</span>(ls),<span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> a==b+<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">while</span> ls:</span><br><span class="line">                ans+=(ln.pop()+ls.pop())</span><br><span class="line">            <span class="keyword">return</span> ans+ln.pop()</span><br><span class="line">        <span class="keyword">elif</span> b==a+<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">while</span> ln:</span><br><span class="line">                ans+=(ls.pop()+ln.pop())</span><br><span class="line">            <span class="keyword">return</span> ans+ls.pop()</span><br><span class="line">        <span class="keyword">elif</span> b==a:</span><br><span class="line">            <span class="keyword">while</span> ln:</span><br><span class="line">                ans+=(ls.pop()+ln.pop())</span><br><span class="line">            <span class="keyword">return</span> ans</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><h3 id="（2）点菜展示表"><a href="#（2）点菜展示表" class="headerlink" title="（2）点菜展示表"></a>（2）点菜展示表</h3><p>给你一个数组 <code>orders</code>，表示客户在餐厅中完成的订单，确切地说， <code>orders[i]=[customerNamei,tableNumberi,foodItemi]</code> ，其中 <code>customerNamei</code> 是客户的姓名，<code>tableNumberi</code> 是客户所在餐桌的桌号，而 <code>foodItemi</code> 是客户点的餐品名称。<br>请你返回该餐厅的 <strong>点菜展示表</strong> 。在这张表中，表中第一行为标题，其第一列为餐桌桌号 “Table” ，后面每一列都是按字母顺序排列的餐品名称。接下来每一行中的项则表示每张餐桌订购的相应餐品数量，第一列应当填对应的桌号，后面依次填写下单的餐品数量。<br>注意：客户姓名不是点菜展示表的一部分。此外，表中的数据行应该按餐桌桌号升序排列。<br><img src="https://img-blog.csdnimg.cn/20200525095748249.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">displayTable</span>(<span class="params">self, orders: List[List[<span class="built_in">str</span>]]</span>) -&gt; List[List[str]]:</span></span><br><span class="line">        fs=<span class="built_in">set</span>()</span><br><span class="line">        ts=collections.defaultdict(<span class="keyword">lambda</span>:collections.defaultdict(<span class="built_in">int</span>))</span><br><span class="line">        <span class="keyword">for</span> _ ,t,f <span class="keyword">in</span> orders:</span><br><span class="line">            fs.add(f)</span><br><span class="line">            ts[<span class="built_in">int</span>(t)][f]+=<span class="number">1</span></span><br><span class="line">        ans=[[<span class="string">&quot;Table&quot;</span>]]</span><br><span class="line">        <span class="keyword">for</span> f <span class="keyword">in</span> <span class="built_in">sorted</span>(<span class="built_in">list</span>(fs)):  <span class="comment">#菜名</span></span><br><span class="line">            ans[<span class="number">0</span>].append(f)</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">sorted</span>(<span class="built_in">list</span>(ts.keys())):  <span class="comment">#桌号</span></span><br><span class="line">            ans.append([<span class="built_in">str</span>(t)])   </span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(ans[<span class="number">0</span>])):   <span class="comment">#份数</span></span><br><span class="line">                ans[-<span class="number">1</span>].append(<span class="built_in">str</span>(ts[t][ans[<span class="number">0</span>][i]]))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><p><strong>小结</strong></p><blockquote><p>好难。。。</p></blockquote><h3 id="（3）数青蛙"><a href="#（3）数青蛙" class="headerlink" title="（3）数青蛙"></a>（3）数青蛙</h3><p>给你一个字符串 <code>croakOfFrogs</code>，它表示不同青蛙发出的蛙鸣声（字符串 “croak” ）的组合。由于同一时间可以有多只青蛙呱呱作响，所以 <code>croakOfFrogs</code> 中会混合多个 <code>“croak”</code> 。请你返回模拟字符串中所有蛙鸣所需不同青蛙的<strong>最少数目</strong>。<br>注意：要想发出蛙鸣 “croak”，青蛙必须 依序 输出 ‘c’, ’r’, ’o’, ’a’, ’k’ 这 5 个字母。如果没有输出全部五个字母，那么它就不会发出声音。<br>如果字符串 <code>croakOfFrogs</code> 不是由若干有效的 <code>&quot;croak&quot;</code> 字符混合而成，请返回 <code>-1</code> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minNumberOfFrogs</span>(<span class="params">self, cr: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        pre = [<span class="number">0</span>] * <span class="number">5</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> cr:</span><br><span class="line">            <span class="keyword">if</span> c == <span class="string">&#x27;c&#x27;</span>:</span><br><span class="line">                pre[<span class="number">0</span>] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> c == <span class="string">&#x27;r&#x27;</span>:</span><br><span class="line">                pre[<span class="number">0</span>] -= <span class="number">1</span></span><br><span class="line">                pre[<span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> c == <span class="string">&#x27;o&#x27;</span>:</span><br><span class="line">                pre[<span class="number">1</span>] -= <span class="number">1</span></span><br><span class="line">                pre[<span class="number">2</span>] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> c == <span class="string">&#x27;a&#x27;</span>:</span><br><span class="line">                pre[<span class="number">2</span>] -= <span class="number">1</span></span><br><span class="line">                pre[<span class="number">3</span>] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> c == <span class="string">&#x27;k&#x27;</span>:</span><br><span class="line">                pre[<span class="number">3</span>] -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">any</span>(c &lt; <span class="number">0</span> <span class="keyword">for</span> c <span class="keyword">in</span> pre):</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">            res = <span class="built_in">max</span>(res, <span class="built_in">sum</span>(pre))</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">any</span>(c != <span class="number">0</span> <span class="keyword">for</span> c <span class="keyword">in</span> pre):</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><h3 id="（4）生成数组"><a href="#（4）生成数组" class="headerlink" title="（4）生成数组"></a>（4）生成数组</h3><p>给你三个整数 <code>n</code>、<code>m</code> 和 <code>k</code> 。下图描述的算法用于找出正整数数组中最大的元素。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">maximum_value = -<span class="number">1</span></span><br><span class="line">maximum_index = -<span class="number">1</span></span><br><span class="line">search_cost = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (maximum_value &lt; arr[i])&#123;</span><br><span class="line">maximum_value = arr[i]</span><br><span class="line">maximum_index = i</span><br><span class="line">search_cost+=<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> maximum_index</span><br></pre></td></tr></table></figure><p>请你生成一个具有下述属性的数组 arr ：</p><ul><li><code>arr</code> 中有 <code>n</code> 个整数。</li><li><code>1 &lt;= arr[i] &lt;= m</code> 其中 <code>(0 &lt;= i &lt; n)</code> 。</li><li>将上面提到的算法应用于 <code>arr</code> ，<code>search_cost</code> 的值等于 <code>k</code> 。<br>返回上述条件下生成数组 <code>arr</code> 的 方法数 ，由于答案可能会很大，所以 必须 对 <code>10^9 + 7</code> 取余。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numOfArrays</span>(<span class="params">self, n: <span class="built_in">int</span>, m: <span class="built_in">int</span>, k: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        mod = <span class="number">10</span> ** <span class="number">9</span> + <span class="number">7</span></span><br><span class="line"></span><br><span class="line">        dp = [[[<span class="number">0</span>] * (k + <span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(m + <span class="number">1</span>)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, m + <span class="number">1</span>):</span><br><span class="line">            dp[<span class="number">0</span>][i][<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, m + <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">for</span> pre <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, m + <span class="number">1</span>):</span><br><span class="line">                    <span class="keyword">if</span> pre &gt;= j:</span><br><span class="line">                        <span class="keyword">for</span> kk <span class="keyword">in</span> <span class="built_in">range</span>(k + <span class="number">1</span>):</span><br><span class="line">                            dp[i][pre][kk] += dp[i - <span class="number">1</span>][pre][kk]</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">for</span> kk <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, k + <span class="number">1</span>):</span><br><span class="line">                            dp[i][j][kk] += dp[i - <span class="number">1</span>][pre][kk - <span class="number">1</span>]</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m + <span class="number">1</span>):</span><br><span class="line">            res += dp[-<span class="number">1</span>][i][k]</span><br><span class="line">        <span class="keyword">return</span> res % mod</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/d6d.html"/>
      <url>posts/d6d.html</url>
      
        <content type="html"><![CDATA[<h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><hr><h1 id="1-基础"><a href="#1-基础" class="headerlink" title="1.基础"></a>1.基础</h1><hr><blockquote><p><strong>1.1 单片机最小系统</strong></p><ol><li>电源电路</li><li>晶振电路（晶振及电容）</li><li>复位电路</li></ol></blockquote><blockquote><p><strong>1.2 一堆板子</strong><br>8位的51，32位的stm32</p></blockquote><blockquote><p><strong>1.3 软件与硬件</strong></p></blockquote><blockquote><p><strong>1.4 一些大概念</strong></p><p><strong>FPGA</strong>（Field Programmable Gate Array）是在PAL、GAL等可编程器件的基础上进一步发展的产物。它是作为专用集成电路（ASIC）领域中的一种半定制电路而出现的。</p><p><strong>MCU</strong> (Microcontroller Unit)，又称单片微型计算机(Single Chip Microcomputer )或者单片机，是把CPU的频率与规格做适当缩减，并将内存(memory)、计数器(Timer)、USB、A/D转换、UART、PLC、DMA等周边接口，甚至LCD驱动电路都整合在单一芯片上，形成芯片级的计算机。</p><p><strong>译码器</strong> (decoder)是一类多输入多输出组合逻辑电路器件，其可以分为：变量译码和显示译码两类。</p><p><strong>CMOS</strong> (Complementary Metal Oxide Semiconducto)，互补金属氧化物半导体。它是指制造大规模集成电路芯片用的一种技术或用这种技术制造出来的芯片，是电脑主板上的一块可读写的RAM芯片。</p><p><strong>SoC</strong> (System on Chip)</p><p><strong>NPU</strong> (Neural-network Processing Unit)</p><p><strong>GND</strong> (Ground)代表地线或0线.GND就是公共端的意思，也可以说是地。但这个地并不是真正意义上的地。是出于应用而假设的一个地，对于电源来说，它就是一个电源的负极。它与大地是不同的。</p><p><strong>耦合</strong> (Coupling)，就是把某一电路的能量输送（或转换）到其他的电路中去。</p><p><strong>电感器</strong> (Inductor)，是能够把电能转化为磁能而存储起来的元件</p></blockquote><blockquote><p><strong>1.5 电路板上的一些概念</strong></p><p>在电子电路中，<strong>VCC</strong>是电路的供电电压, <strong>VDD</strong>是芯片的工作电压。<br><strong>VSS</strong>：S=series 表示公共连接的意思，通常指电路公共接地端电压；</p></blockquote><h1 id="2-项目"><a href="#2-项目" class="headerlink" title="2.项目"></a>2.项目</h1><hr><blockquote><p><strong>2.1 值得参考的项目:</strong></p></blockquote><h1 id="3-实践"><a href="#3-实践" class="headerlink" title="3.实践"></a>3.实践</h1><hr><blockquote><p><strong>3.1 显示屏实践</strong><br>家里有一个旧显示屏<br><code>PAL/NTSC</code> <code>TFT LED</code> <code>7英寸</code></p></blockquote><blockquote><p><strong>3.2 做一个小巧的可充电LED</strong></p></blockquote><blockquote><p><strong>3.3 磁悬浮</strong></p></blockquote><h1 id="4-单片机入门"><a href="#4-单片机入门" class="headerlink" title="4.单片机入门"></a>4.单片机入门</h1><hr><blockquote><p><strong>4.1 点亮LED</strong> <code>7.24</code></p><p>学会用<code>面包板</code>,<code>arduinoIDE</code></p></blockquote><blockquote><p><strong>4.2 LED跑马灯</strong> <code>7.24</code></p><p>5个<code>analog in</code>引脚，12个<code>digital pwm</code>引脚</p></blockquote><blockquote><p><strong>4.3 使用电位器</strong> <code>7.26</code></p><p>一般接相连的两个脚</p></blockquote><blockquote><p><strong>4.3 使用1602A</strong> <code>7.26</code></p><p>4位连接法和8位连接法<br>arduino有个库<code>LiquidCrystal.h</code>，简单实现显示<br>熟悉一下16个引脚:</p></blockquote><table><thead><tr><th>引脚</th><th>缩写</th><th>作用</th><th>引脚</th><th>缩写</th><th>作用</th></tr></thead><tbody><tr><td>1</td><td><strong>VSS</strong></td><td>接电源地</td><td>6</td><td><strong>E</strong></td><td>使能</td></tr><tr><td>2</td><td><strong>VDD</strong></td><td>接电源正</td><td>7-14</td><td><strong>D0~D7</strong></td><td>数据端口</td></tr><tr><td>3</td><td><strong>V0</strong></td><td>偏压信号</td><td>15</td><td><strong>A</strong></td><td>背光正极</td></tr><tr><td>4</td><td><strong>RS</strong></td><td>命令/数据</td><td>16</td><td><strong>K</strong></td><td>背光负极</td></tr><tr><td>5</td><td><strong>RW</strong></td><td>读写</td><td></td><td></td><td></td></tr></tbody></table><blockquote><p><strong>4.9 制作串口下载电路</strong></p><p>用USB的5V电压做电源，等面包板，LED,机芯到了。然后照引脚连接。<br>厂家默认在机芯中写入的检验灯程序。</p></blockquote><h1 id="5-其它"><a href="#5-其它" class="headerlink" title="5.其它"></a>5.其它</h1><hr><blockquote><p><strong>5.1 资料</strong></p><p>杜洋的《爱上单片机》，觉得不错，微信读书上有。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 硬件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/7bab.html"/>
      <url>posts/7bab.html</url>
      
        <content type="html"><![CDATA[<h3 id="windows命令："><a href="#windows命令：" class="headerlink" title="windows命令："></a>windows命令：</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>cls</code></td><td></td></tr><tr><td><code>help</code></td><td></td></tr><tr><td><code>dir</code></td><td></td></tr><tr><td><code>TREE</code></td><td>显示目录结构</td></tr><tr><td><code>COPY</code></td><td></td></tr><tr><td><code>MOVE</code></td><td></td></tr><tr><td><code>DEL</code></td><td></td></tr><tr><td><code>MD</code></td><td>创建文件夹</td></tr><tr><td><code>RD</code></td><td>删除文件夹</td></tr></tbody></table><h3 id="windows批处理文件："><a href="#windows批处理文件：" class="headerlink" title="windows批处理文件："></a>windows批处理文件：</h3><ul><li>一次性运行一批CMD命令，可以写在文本文档中</li><li>以<code>bat</code>为后缀名，双击可执行</li></ul><h3 id="Linux："><a href="#Linux：" class="headerlink" title="Linux："></a>Linux：</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>cd</code></td><td></td></tr><tr><td><code>pwd</code></td><td>显示当前所在路径</td></tr><tr><td><code>ls</code></td><td>显示当前路径文件列表</td></tr><tr><td><code>date</code></td><td></td></tr><tr><td><code>bc</code></td><td>计算器，<code>quit</code>退出</td></tr><tr><td><code>man</code></td><td>显示命令的帮助</td></tr><tr><td><code>cp</code> <code>mv</code> <code>rm</code></td><td>文件复制、移动、删除</td></tr><tr><td><code>mkdir</code> <code>rmdir</code></td><td>创建新目录，删除空目录</td></tr></tbody></table><hr><table><thead><tr><th>击键</th><th>描述</th></tr></thead><tbody><tr><td><code>TAB</code></td><td>自动补全命令</td></tr><tr><td><code>CTRL+C</code></td><td>终止当前命令</td></tr><tr><td><code>CTRL+D</code></td><td>退出终端</td></tr></tbody></table><hr><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>chmod</code></td><td>修改属性</td></tr><tr><td><code>cat</code></td><td>查看文件内容</td></tr><tr><td><code>touch t.txt</code></td><td>创建一个叫<code>t.txt</code>的文件</td></tr><tr><td><code>rm t.txt</code></td><td>删除一个叫<code>t.txt</code>的文件，删除文件可以直接用<code>rm</code></td></tr><tr><td><code>rm -rf m</code></td><td>删除一个叫<code>m</code>的文件夹</td></tr></tbody></table><blockquote><p><strong>cd 中的路径操作：</strong><br><code>cd /</code> 返回根目录（最高级）<br><code>cd ..</code>返回上级目录<br><code>cd m</code> 与 <code>cd ./m</code>相同<br><code>cd ~</code>普通用户相当于<code>cd /home/当前用户名</code>，root用户相当于 <code>cd /root</code></p></blockquote><blockquote><p><strong>绝对路径</strong>由 <code>/</code> 开始写起，如<code>/home/user</code></p></blockquote><blockquote><p>权限不足时<code>sudo -i</code>进入<strong>超级用户模式</strong></p></blockquote><h3 id="linux文件属性"><a href="#linux文件属性" class="headerlink" title="linux文件属性"></a>linux文件属性</h3><p>在Linux中我们可以使用<code>ll</code>或者<code>ls –l</code>命令来显示一个文件的属性以及文件所属的用户和组</p><p>现在文件夹m有如下信息：<code>drwxr-xr-x 4 root root 4096 Sep  6 03:51 m/</code></p><blockquote><p>第一个字符代表文件是目录、文件或链接文件等。<br><code>d</code>表示为目录，<code>-</code>表示为文件</p></blockquote><blockquote><p>接下来的字符中，三个为一组。且均为 <code>rwx</code> 的三个参数的组合。其中，<code>[ r ]</code>代表可读(read)、<code>[ w ]</code>代表可写(write)、<code>[ x ]</code>代表可执行(execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号<code>[ - ]</code>而已。<br><img src="https://www.runoob.com/wp-content/uploads/2014/06/363003_1227493859FdXT.png"></p></blockquote><hr><blockquote><p>关于文件属性为XXX的解释：<br><code>rwxrw----</code>  &lt;=&gt;  <code>111110000</code>  &lt;=&gt; <code>760</code></p></blockquote><blockquote><p><code>chmod  XXX  文件名</code><br>–&gt;修改文件为XXX属性</p></blockquote><blockquote><p><code>chmod  [-R]  XXX  目录名</code><br>–&gt;修改文件夹的属性，这里-R参数指示递归修改，将目录下所有文件的属性均修改为xxx</p></blockquote><p>更多信息：<a href="https://www.runoob.com/linux/linux-file-attr-permission.html">https://www.runoob.com/linux/linux-file-attr-permission.html</a></p><h3 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h3><p>安装vim: <code>sudo apt-get install vim</code></p><p><code>vim 文件名</code>：<br>直接打开或新建一个文件</p><p>三种工作模式：</p><ul><li><strong>查看模式</strong></li><li><strong>编辑模式</strong>，在查看模式下按下<code>i</code> or <code>o</code> or <code>q</code>进入，<code>Esc</code>退出</li><li><strong>命令模式</strong>，在查看模式下按下<code>:</code>进入</li></ul><table><thead><tr><th>查看模式下</th><th>描述</th></tr></thead><tbody><tr><td><code>0</code></td><td>移动到当前行开头</td></tr><tr><td><code>$</code></td><td>移动到当前行末尾</td></tr><tr><td><code>gg</code></td><td>移动到文件开头</td></tr><tr><td><code>G</code></td><td>移动到文件末尾</td></tr><tr><td><code>[n]G</code></td><td>移动到第n行</td></tr><tr><td><code>[n]space</code></td><td></td></tr><tr><td><code>[n]Enter</code></td><td></td></tr><tr><td><code>dd</code> <code>[n]dd</code></td><td>删除行</td></tr><tr><td><code>yy</code> <code>[n]yy</code></td><td>复制行</td></tr><tr><td><code>p</code></td><td>粘贴</td></tr><tr><td><code>u</code></td><td>撤销</td></tr></tbody></table><hr><table><thead><tr><th>命令模式下</th><th>描述</th></tr></thead><tbody><tr><td><code>w</code></td><td>保存</td></tr><tr><td><code>q</code> <code>q!</code></td><td>退出,强制退出</td></tr><tr><td><code>wq</code></td><td>保存退出</td></tr><tr><td><code>set nu</code></td><td>显示行号</td></tr><tr><td><code>set nonu</code></td><td></td></tr><tr><td><code>syntax on</code></td><td>显示语法高亮</td></tr></tbody></table><h3 id="shell基础"><a href="#shell基础" class="headerlink" title="shell基础"></a>shell基础</h3><p>shell: 提供了用户与内核交互的接口</p><p>一般情况下 vim建立的文本文件属性值为<code>644</code>，需要添加<code>x</code>属性 <code>chmod 755 ~~~</code></p><p>变量是一个名字，不是一个值，用<code>$</code>来取值</p><table><thead><tr><th>指令</th><th>描述</th></tr></thead><tbody><tr><td><code>echo</code></td><td>打印一行，自动换行</td></tr><tr><td><code>printf</code></td><td></td></tr><tr><td><code>var=num</code></td><td>变量不区分类型，<code>=</code>前后不能有空格</td></tr></tbody></table><hr><p>运行shell脚本:<br>① <code>chmod +x ./test.sh</code>  #使脚本具有执行权限<br>② <code>./test.sh</code>  #执行脚本</p><p>部分摘自：<a href="https://www.runoob.com/linux/linux-shell.html">https://www.runoob.com/linux/linux-shell.html</a></p><h4 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h4><p>关系运算符只支持数字，不支持字符串，除非字符串的值是数字。</p><table><thead><tr><th>运算符</th><th>说明</th></tr></thead><tbody><tr><td><code>-eq</code></td><td>两数相等返回true</td></tr><tr><td><code>-ne</code></td><td></td></tr><tr><td><code>-gt</code> <code>-ge</code></td><td><code>&gt;</code> <code>&gt;=</code></td></tr><tr><td><code>-lt</code> <code>-le</code></td><td><code>&lt;</code> <code>&lt;=</code></td></tr></tbody></table><h3 id="课堂作业："><a href="#课堂作业：" class="headerlink" title="课堂作业："></a>课堂作业：</h3><p>一、写出在Linux终端下，如下操作序列的命令行</p><p>（1）回到家目录<br>&emsp;&emsp;&emsp;<code>cd /home</code></p><p>（2）在家目录下建立test目录<br>&emsp;&emsp;&emsp;<code>mkdir test</code></p><p>（3）在其中建立t.txt文件（touch   t.txt），建立目录m<br>&emsp;&emsp;&emsp;<code>touch t.txt &amp;&amp; mkdir m</code></p><p>（4）将t.txt复制5份到m中，分别命名为t1.txt~t5.txt<br>&emsp;&emsp;&emsp;<code>cp t.txt m/t1.txt &amp;&amp; cp t.txt m/t2.txt &amp;&amp; cp t.txt m/t3.txt &amp;&amp; cp t.txt m/t4.txt &amp;&amp;cp t.txt m/t5.txt</code></p><p>（5）复制m目录为n目录<br>&emsp;&emsp;&emsp;<code>cp -r m n</code></p><p>（6）去掉m目录的三个x属性，出现什么情况？描述一下，再修改回来<br>&emsp;&emsp;&emsp;<code>chmod 644 m</code><br>&emsp;&emsp;&emsp;<code>文件无法打开</code><br>&emsp;&emsp;&emsp;<code>chmod 755 m</code><br>&emsp;说明：<code>rwxr-xr-x</code>的755变成644 </p><p>（7）修改n目录属性，使其及其下面的所有文件均具有最大权限（777）。<br>&emsp;&emsp;&emsp;<code>chmod -R 777 n</code><br>&emsp;注意：那个R区分大小写</p><p>（8）进入/tmp目录，选取一个文件，cp到你的m目录<br>&emsp;&emsp;&emsp;<code>cp /tmp/temp.txt m</code></p><hr><p>二、用shell写一个猜价格脚本</p><p>提示用户输入一个价格上限，然后根据上限数值产生一个合适的随机数价格。</p><p>然后提示用户输入猜测值。提示用户输入的猜测值与真实值的高低，直到用户猜中为止。</p><p>注：shell中，可以使用$RANDOM获得一个随机整数。<br><img src="https://img-blog.csdnimg.cn/20200913130551384.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center" alt="代码"></p><p><img src="https://img-blog.csdnimg.cn/20200913130551391.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center" alt="结果"></p><p><strong>注意：</strong> </p><ul><li><code>[</code> <code>]</code>左右要有空格</li><li><code>&quot;$num&quot;</code>，<code>&quot;$x&quot;</code> 的双引号都可以去掉</li><li>shell算术运算符有<code>==</code>，没有<code>&gt;</code> <code>&lt;</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大二 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/8ab2.html"/>
      <url>posts/8ab2.html</url>
      
        <content type="html"><![CDATA[<h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><p>本着做一个万能墙去开发一个小程序，<br>基本逻辑，前端完成了，删除、回复消息功能还没做。。</p><p>然后发现社交功能不对个人主体开放，上线不了只能体验。<br>到此记，<code>10.24</code></p><h1 id="1-基础"><a href="#1-基础" class="headerlink" title="1.基础"></a>1.基础</h1><p><strong>学习过程</strong>：</p><ol><li>学堂在线相关课程的学习</li><li>微信官方文档的查看</li><li>动手实践，百度</li></ol><p><strong>相关网站</strong>：</p><ul><li>微信开发管理平台：<a href="https://mp.weixin.qq.com/">https://mp.weixin.qq.com</a></li><li>微信官方文档：<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/">https://developers.weixin.qq.com/miniprogram/dev/framework/</a></li></ul><p>基本每个界面都有以下4个文件：<code>wxml</code> , <code>wxss</code> , <code>js</code> , <code>json</code></p><p><strong>部分代码</strong>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 发送消息到云端数据库的代码</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app=getApp()</span><br><span class="line"><span class="keyword">const</span> db=wx.cloud.database()</span><br><span class="line"><span class="comment">//省略其它</span></span><br><span class="line">  send: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that=<span class="built_in">this</span></span><br><span class="line">    <span class="built_in">console</span>.log(that.data.detail)</span><br><span class="line">    <span class="built_in">console</span>.log(app.globalData.openid)</span><br><span class="line">    <span class="keyword">if</span> (that.data.detail==<span class="string">&quot;&quot;</span>)&#123;</span><br><span class="line">      wx.showModal(&#123;</span><br><span class="line">        title: <span class="string">&#x27;提示&#x27;</span>,</span><br><span class="line">        content: <span class="string">&#x27;提交内容不能为空&#x27;</span>,</span><br><span class="line">        showCancel: <span class="literal">false</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    db.collection(<span class="string">&#x27;info&#x27;</span>).add(&#123;</span><br><span class="line">      data:&#123;</span><br><span class="line">        content: that.data.detail,</span><br><span class="line">        total_likes: <span class="number">0</span>,</span><br><span class="line">        face_url: app.globalData.userInfo.avatarUrl,</span><br><span class="line">        send_time: <span class="keyword">new</span> <span class="built_in">Date</span>().toString(),</span><br><span class="line">        username: app.globalData.userInfo.nickName</span><br><span class="line">      &#125;,</span><br><span class="line">      success:<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">        wx.showModal(&#123;</span><br><span class="line">          title: <span class="string">&#x27;提示&#x27;</span>,</span><br><span class="line">          content: <span class="string">&#x27;恭喜提交成功&#x27;</span>,</span><br><span class="line">          showCancel: <span class="literal">false</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)&#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从云端数据库获取消息的代码</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> db=wx.cloud.database()</span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    list: []</span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that =<span class="built_in">this</span></span><br><span class="line">    db.collection(<span class="string">&#x27;info&#x27;</span>).get(&#123;</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">        that.setData(&#123; <span class="attr">list</span>: res.data&#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--将消息便于查看的html--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">class</span>=<span class="string">&#x27;scbg&#x27;</span> <span class="attr">scroll-y</span>=<span class="string">&#x27;true&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;list&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;itemName&quot;</span> <span class="attr">wx:for-index</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;box&#x27;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;firstblock&#x27;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&#x27;touxiang&#x27;</span> <span class="attr">src</span>=<span class="string">&#x27;&#123;&#123;itemName.face_url&#125;&#125;&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;person&#x27;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;name&#x27;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&#x27;showname&#x27;</span>&gt;</span>&#123;&#123;itemName.username&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;tel&#x27;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&#x27;showtime&#x27;</span>&gt;</span>&#123;&#123;itemName.send_time&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;secondblock&#x27;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span>&#123;&#123;itemName.content&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;thirdblock&#x27;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">class</span>=<span class="string">&#x27;like&#x27;</span> <span class="attr">src</span>=<span class="string">&#x27;/images/like.png&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&#x27;num&#x27;</span>&gt;</span>&#123;&#123;itemName.total_likes&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>一个导图</strong>：<br><img src="https://img-blog.csdnimg.cn/20201024155225768.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center"></p><h1 id="2-小结"><a href="#2-小结" class="headerlink" title="2.小结"></a>2.小结</h1><p><strong>学习了</strong></p><ul><li>微信小程序开发的基本流程，</li><li>html，css</li><li>js，json，mongdb数据库，</li></ul><p><strong>项目流程</strong>：<br>基本最小逻辑实现 <code>--&gt;</code> 基本实现 <code>--&gt;</code> 发展功能</p>]]></content>
      
      
      <categories>
          
          <category> 应用开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 小程序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/bd56.html"/>
      <url>posts/bd56.html</url>
      
        <content type="html"><![CDATA[<ol><li>经济学：关于资源稀缺性的配置。</li><li>如何定义一个概念：通常用外延更宽的事物来定义。</li><li><strong>机会成本</strong>：为得到某种东西，而放弃的可能收益。</li><li><strong>沉没成本</strong>：指以往发生的，但与当前决策无关的费用。</li><li>禀赋效应：大多数人对于损失和获得的敏感程度不对称。<blockquote><p>假设你现在捡到了100元，你很开心；<br>走着走着，你刚捡到的100元，不知道什么时候掉了。<br>请问，这个时候你的心情？<br>大多数人的心情是痛苦的。<br>可实际上什么都没变。</p></blockquote></li></ol><p>这也适用于销售策略中：减少客户的损失厌恶。<br>7. 博弈论因素：参与者，规则，支付。<br>限制规则来改变博弈。<br>8. 纳什均衡：非合作博弈均衡。<br>如竞争者的商品定价均衡，囚徒困境。</p><blockquote><p>课程最后：<strong>考虑非货币机会成本，忽略沉没成本，对未来行为更加实际。</strong></p></blockquote><p><strong>小结</strong><br>😝😝😝<br><strong>人生就像是在每一个瞬间连续起舞，暮然四顾时常常惊觉：“已经到这里了吗？”</strong></p>]]></content>
      
      
      <categories>
          
          <category> e-class </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mooc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/ec3f.html"/>
      <url>posts/ec3f.html</url>
      
        <content type="html"><![CDATA[<p>代码包含</p><ul><li>use-api.py </li><li>post.py</li><li>get-token.py</li></ul><h3 id="use-api-py"><a href="#use-api-py" class="headerlink" title="use-api.py"></a>use-api.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> post</span><br><span class="line"></span><br><span class="line">name = <span class="string">&quot; &quot;</span> </span><br><span class="line">password = <span class="string">&quot; &quot;</span></span><br><span class="line">api_url = <span class="string">&quot; &quot;</span> <span class="comment"># api地址</span></span><br><span class="line">image_path = <span class="string">r&quot;timg.jpg&quot;</span>  <span class="comment"># 图像文件完整路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 发送请求</span></span><br><span class="line">r = post.main(name, password, api_url, image_path)</span><br><span class="line">print(r)</span><br></pre></td></tr></table></figure><h3 id="post-py"><a href="#post-py" class="headerlink" title="post.py"></a>post.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> get_token</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">name, password, api_url, image_path</span>):</span></span><br><span class="line">    image_name = image_path.split(<span class="string">&#x27;\\&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># 查看本地是否存在token</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(<span class="string">&quot;token.txt&quot;</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;token.txt&quot;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            token = f.read()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 调用get_token.py中的函数获取token</span></span><br><span class="line">        token = get_token.main(name, password)</span><br><span class="line">        <span class="comment"># 缓存token以便下次使用</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;token.txt&quot;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(token)</span><br><span class="line">    <span class="keyword">if</span> token == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;token获取错误&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        header = &#123;</span><br><span class="line">                <span class="string">&quot;X-Auth-Token&quot;</span>: token,</span><br><span class="line">                &#125;</span><br><span class="line">        files = &#123;</span><br><span class="line">                <span class="string">&quot;images&quot;</span>: (image_name, <span class="built_in">open</span>(image_path,<span class="string">&#x27;rb&#x27;</span>),<span class="string">&#x27;image/png&#x27;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">        z = requests.post(</span><br><span class="line">                    api_url,</span><br><span class="line">                    headers = header,</span><br><span class="line">                    files=files,</span><br><span class="line">                    verify=<span class="literal">False</span>,</span><br><span class="line">                    )</span><br><span class="line">        <span class="keyword">if</span> z.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">return</span> z.text</span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">len</span>(z.text) != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> z.text</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;程序错误&quot;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    name = <span class="string">&quot; &quot;</span>         <span class="comment"># 用户名</span></span><br><span class="line">    password = <span class="string">&quot; &quot;</span> <span class="comment"># 密码</span></span><br><span class="line">    api_url = <span class="string">&quot; &quot;</span> <span class="comment"># api地址</span></span><br><span class="line">    image_path = <span class="string">r&quot;test.jpg&quot;</span>  <span class="comment"># 图像文件完整路径</span></span><br><span class="line">    r = main(name, password, api_url, image_path)</span><br><span class="line">    print(r)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="get-token-py"><a href="#get-token-py" class="headerlink" title="get-token.py"></a>get-token.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">name, password, domain_name=<span class="string">&quot;&quot;</span>, region=<span class="string">&quot;cn-north-4&quot;</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> domain_name == <span class="string">&quot;&quot;</span>:</span><br><span class="line">        domain_name = name</span><br><span class="line">    urls = <span class="string">&quot;https://iam.&quot;</span> + region + <span class="string">&quot;.myhuaweicloud.com/v3/auth/tokens&quot;</span></span><br><span class="line">    header = &#123;</span><br><span class="line">        <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;PostmanRuntime/7.24.1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json;charset=utf8&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    json_data = &#123;</span><br><span class="line">        <span class="string">&quot;auth&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;identity&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;methods&quot;</span>: [<span class="string">&quot;password&quot;</span>],</span><br><span class="line">                <span class="string">&quot;password&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;user&quot;</span>: &#123;</span><br><span class="line">                        <span class="string">&quot;name&quot;</span>: name,</span><br><span class="line">                        <span class="string">&quot;password&quot;</span>: password,</span><br><span class="line">                        <span class="string">&quot;domain&quot;</span>: &#123;</span><br><span class="line">                            <span class="string">&quot;name&quot;</span>: domain_name,</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;scope&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;project&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;name&quot;</span>: region</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    z = requests.post(</span><br><span class="line">                    url = urls,</span><br><span class="line">                    headers = header,</span><br><span class="line">                    json = json_data,</span><br><span class="line">                    verify = <span class="literal">False</span>,</span><br><span class="line">                    )</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> z.status_code == <span class="number">201</span>:</span><br><span class="line">        <span class="keyword">return</span> z.headers[<span class="string">&quot;X-Subject-Token&quot;</span>]</span><br><span class="line">    <span class="keyword">elif</span> z.status_code == <span class="number">401</span>:</span><br><span class="line">        print(z.text)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(z.status_code)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    name = <span class="string">&#x27; &#x27;</span>         <span class="comment"># 用户名</span></span><br><span class="line">    password = <span class="string">&#x27; &#x27;</span>     <span class="comment"># 密码</span></span><br><span class="line"><span class="comment">#    domain_name = &#x27; &#x27;  # 可选，所属账号，默认为用户名</span></span><br><span class="line"><span class="comment">#    region=&quot;cn-north-4&quot;     # 可选，使用区域</span></span><br><span class="line">    token = main(name, password)</span><br><span class="line">    <span class="keyword">if</span> token != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        print(token)</span><br></pre></td></tr></table></figure><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><blockquote><ol><li>将name,password,api_url更改，即可进行API的调用。</li><li>一段代码： <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">z=request.post(api_url,headers=header,files=files,verify=<span class="literal">False</span>)</span><br><span class="line"><span class="keyword">if</span> z.status_code ==<span class="number">200</span>:</span><br><span class="line">    <span class="keyword">return</span> z.text</span><br></pre></td></tr></table></figure></li><li>比较难理解的是那个get-token，查阅Modelarts文档的json格式。<br>再利用requests进行post</li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> 深度学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> modelarts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/98e0.html"/>
      <url>posts/98e0.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>第一题：<a href="https://leetcode-cn.com/problems/matrix-diagonal-sum/">https://leetcode-cn.com/problems/matrix-diagonal-sum/</a><br>第二题：<a href="https://leetcode-cn.com/problems/number-of-ways-to-split-a-string/">https://leetcode-cn.com/problems/number-of-ways-to-split-a-string/</a><br>第三题：<a href="https://leetcode-cn.com/problems/shortest-subarray-to-be-removed-to-make-array-sorted/">https://leetcode-cn.com/problems/shortest-subarray-to-be-removed-to-make-array-sorted/</a><br>第四题：<a href="https://leetcode-cn.com/problems/count-all-possible-routes/">https://leetcode-cn.com/problems/count-all-possible-routes/</a></p></blockquote><h3 id="1-矩阵对角线元素的和"><a href="#1-矩阵对角线元素的和" class="headerlink" title="(1)矩阵对角线元素的和"></a>(1)矩阵对角线元素的和</h3><p>给你一个正方形矩阵 <code>mat</code>，请你返回矩阵对角线元素的和。</p><p>输入：<code>mat = [[1,2,3],[4,5,6],[7,8,9]]</code><br>输出：<code>25</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">diagonalSum</span>(<span class="params">self, mat: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        l=<span class="built_in">len</span>(mat)</span><br><span class="line">        prim=<span class="built_in">sum</span>([mat[i][i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l)])</span><br><span class="line">        seco=<span class="built_in">sum</span>([mat[i][l-i-<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l)])</span><br><span class="line">        <span class="keyword">if</span> l%<span class="number">2</span>==<span class="number">0</span>: </span><br><span class="line">            <span class="keyword">return</span> prim+seco</span><br><span class="line">        <span class="keyword">else</span>: </span><br><span class="line">            <span class="keyword">return</span> prim+seco-mat[l//<span class="number">2</span>][l//<span class="number">2</span>]</span><br></pre></td></tr></table></figure><h3 id="2-分割字符串的方案数"><a href="#2-分割字符串的方案数" class="headerlink" title="(2)分割字符串的方案数"></a>(2)分割字符串的方案数</h3><p>给你一个二进制串 <code>s</code>  （一个只包含 0 和 1 的字符串），我们可以将 <code>s</code> 分割成 3 个 非空 字符串 s1, s2, s3 （s1 + s2 + s3 = s）。</p><p>请你返回分割 <code>s</code> 的方案数，满足 s1，s2 和 s3 中字符 ‘1’ 的数目相同。</p><p>由于答案可能很大，请将它对 <code>10^9 + 7</code> 取余后返回。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numWays</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; int:</span>     </span><br><span class="line">        mod=<span class="number">10</span>**<span class="number">9</span> + <span class="number">7</span></span><br><span class="line">        len_s=<span class="built_in">len</span>(s)</span><br><span class="line">        helper=[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(len_s):</span><br><span class="line">            helper.append(helper[i]+(s[i]==<span class="string">&#x27;1&#x27;</span>))</span><br><span class="line">            </span><br><span class="line">        cnt=helper[len_s]</span><br><span class="line">        <span class="keyword">if</span> cnt%<span class="number">3</span> : <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> cnt: <span class="keyword">return</span> (len_s-<span class="number">1</span>)*(len_s-<span class="number">2</span>)//<span class="number">2</span>%mod</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> helper.count(cnt//<span class="number">3</span>)*helper.count(cnt//<span class="number">3</span>*<span class="number">2</span>)%mod</span><br><span class="line"></span><br><span class="line"><span class="comment"># helper就很灵性</span></span><br></pre></td></tr></table></figure><h3 id="3-删除最短的子数组使剩余数组有序"><a href="#3-删除最短的子数组使剩余数组有序" class="headerlink" title="(3)删除最短的子数组使剩余数组有序"></a>(3)删除最短的子数组使剩余数组有序</h3><p>给你一个整数数组 <code>arr</code> ，请你删除一个子数组（可以为空），使得 <code>arr</code> 中剩下的元素是 非递减 的。</p><p>一个子数组指的是原数组中连续的一个子序列。</p><p>请你返回满足题目要求的最短子数组的长度。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findLengthOfShortestSubarray</span>(<span class="params">self, arr: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        len_arr=<span class="built_in">len</span>(arr)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># k 用于计算非递减的个数</span></span><br><span class="line">        k=len_arr-<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> k&gt;<span class="number">0</span> <span class="keyword">and</span> arr[k-<span class="number">1</span>]&lt;=arr[k]: k-=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> k==<span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        r=k</span><br><span class="line">        j=<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> j&lt;len_arr-<span class="number">1</span>: <span class="comment"># j 从0到倒数第二个元素</span></span><br><span class="line">            ci=bisect_left(arr[k:],arr[j])</span><br><span class="line">            t=len_arr-((len_arr-k-ci)+j+<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> r&gt;t: r=t</span><br><span class="line">            <span class="keyword">if</span> arr[j]&gt;arr[j+<span class="number">1</span>]: <span class="keyword">break</span></span><br><span class="line">            j+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> r</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不懂</span></span><br></pre></td></tr></table></figure><h3 id="4-统计所有可行路径"><a href="#4-统计所有可行路径" class="headerlink" title="(4)统计所有可行路径"></a>(4)统计所有可行路径</h3><p>给你一个 <strong>互不相同</strong> 的整数数组，其中 <code>locations[i]</code> 表示第 <code>i</code> 个城市的位置。同时给你 <code>start</code>，<code>finish</code> 和 <code>fuel</code> 分别表示出发城市、目的地城市和你初始拥有的汽油总量</p><p>每一步中，如果你在城市 <code>i</code> ，你可以选择任意一个城市 <code>j</code> ，满足  <code>j != i</code> 且 <code>0 &lt;= j &lt; locations.length</code> ，并移动到城市 <code>j</code> 。从城市 <code>i</code> 移动到 <code>j</code> 消耗的汽油量为 <code>|locations[i] - locations[j]|</code>，<code>|x|</code> 表示 <code>x</code> 的绝对值。</p><p>请注意， <code>fuel</code> 任何时刻都 <strong>不能</strong> 为负，且你 <strong>可以</strong> 经过任意城市超过一次（包括 start 和 finish ）。</p><p>请你返回从 <code>start</code> 到 <code>finish</code> 所有可能路径的数目。</p><p>由于答案可能很大， 请将它对 <code>10^9 + 7</code> 取余后返回。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countRoutes</span>(<span class="params">self, locations: List[<span class="built_in">int</span>], start: <span class="built_in">int</span>, finish: <span class="built_in">int</span>, fuel: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        dp = &#123;&#125;</span><br><span class="line">        n = <span class="built_in">len</span>(locations)</span><br><span class="line">        mod = <span class="number">10</span>**<span class="number">9</span>+<span class="number">7</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">c, s</span>):</span></span><br><span class="line">            <span class="keyword">if</span> c==<span class="number">0</span> <span class="keyword">and</span> s==finish: <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">            k = (c, s)</span><br><span class="line">            <span class="keyword">if</span> k <span class="keyword">in</span> dp: <span class="keyword">return</span> dp[k]</span><br><span class="line">            <span class="keyword">if</span> s==finish:</span><br><span class="line">                r=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r=<span class="number">0</span></span><br><span class="line">            </span><br><span class="line">            i = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> i&lt;n:</span><br><span class="line">                <span class="keyword">if</span> i!=s:</span><br><span class="line">                    d = locations[i]-locations[s]</span><br><span class="line">                    <span class="keyword">if</span> d&lt;<span class="number">0</span>: d=-d</span><br><span class="line">                    <span class="keyword">if</span> c&gt;=d:</span><br><span class="line">                        r += dfs(c-d, i)</span><br><span class="line">                        r %= mod</span><br><span class="line">                i+=<span class="number">1</span></span><br><span class="line">            dp[k] = r</span><br><span class="line">            <span class="keyword">return</span> r</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> dfs(fuel, start)</span><br><span class="line"></span><br><span class="line"><span class="comment">#不懂</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/8178.html"/>
      <url>posts/8178.html</url>
      
        <content type="html"><![CDATA[<h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><p>感谢学长，老师</p><h1 id="1-基础"><a href="#1-基础" class="headerlink" title="1.基础"></a>1.基础</h1><h2 id="python模块"><a href="#python模块" class="headerlink" title="python模块"></a>python模块</h2><p>httpserver: <a href="https://docs.python.org/zh-cn/3.8/library/http.server.html">https://docs.python.org/zh-cn/3.8/library/http.server.html</a></p><h2 id="树莓派"><a href="#树莓派" class="headerlink" title="树莓派"></a>树莓派</h2><p>系统配置–&gt;网络配置–&gt;环境搭建–&gt;开发</p><p><code>ifconfig</code> ——查看IP地址 <code>eth0</code> <code>lo</code> <code>wlan0</code></p><p>连接方式：</p><ul><li><code>ssh user@192.168.1.102</code> ,可远程连接树莓派，进行命令行操作</li><li>VNC server 进行连接，IP,username,password同ssh</li></ul><p><code>ls /dev/tty*</code> 查看端口</p><h2 id="内网外网"><a href="#内网外网" class="headerlink" title="内网外网"></a>内网外网</h2><p>内网是从路由器以下开始的，ip都以192开头。<br>外网不经过路由器和交换机就可以上网的网络。</p><h1 id="2-代码"><a href="#2-代码" class="headerlink" title="2.代码"></a>2.代码</h1><h2 id="server-py"><a href="#server-py" class="headerlink" title="server.py"></a>server.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --coding:utf-8--</span></span><br><span class="line"><span class="keyword">from</span> http.server <span class="keyword">import</span> BaseHTTPRequestHandler, HTTPServer</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> serial</span><br><span class="line"><span class="comment">#from car_controler import FourWheelDriveCar</span></span><br><span class="line"><span class="comment">#from camera_controler import Camera</span></span><br><span class="line"> </span><br><span class="line">port=<span class="string">&#x27;/dev/ttyUSB0&#x27;</span></span><br><span class="line">rate=<span class="number">9600</span></span><br><span class="line">ser=serial.Serial(port,rate,timeout=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CarServer</span>(<span class="params">BaseHTTPRequestHandler</span>):</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#    carControler = FourWheelDriveCar()</span></span><br><span class="line"><span class="comment">#    cameraControler = Camera()</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_host_ip</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        This method is used for getting local ip address</span></span><br><span class="line"><span class="string">        The car server will deploy on this ip</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            serverSocket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</span><br><span class="line">            serverSocket.connect((<span class="string">&quot;8.8.8.8&quot;</span>, <span class="number">80</span>))</span><br><span class="line">            localIP = serverSocket.getsockname()[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="keyword">return</span> localIP</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_GET</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        Define the car control GUI for client</span></span><br><span class="line"><span class="string">        For the first edition, it will only return direction contol GUI</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        localIP = CarServer.get_host_ip(self)</span><br><span class="line"> </span><br><span class="line">        <span class="comment"># When this GET method is called, then should init the car</span></span><br><span class="line">        <span class="comment"># self.carControler.reset()</span></span><br><span class="line"> </span><br><span class="line">        <span class="comment"># Read control page html file from control.html</span></span><br><span class="line">        controlPageFile = <span class="built_in">open</span>(<span class="string">&quot;index.html&quot;</span>)</span><br><span class="line">        controlPageGUI = controlPageFile.read()</span><br><span class="line">        controlPageFile.close()</span><br><span class="line">        controlPageGUI = controlPageGUI.replace(</span><br><span class="line">            <span class="string">&quot;requestAddress&quot;</span>, <span class="string">&quot;http://&quot;</span> + localIP + <span class="string">&quot;:9090/&quot;</span>)</span><br><span class="line">        controlPageGUI = controlPageGUI.replace(</span><br><span class="line">            <span class="string">&quot;cameraAddress&quot;</span>, <span class="string">&quot;http://&quot;</span> + localIP + <span class="string">&quot;:8080/&quot;</span>)</span><br><span class="line"> </span><br><span class="line">        self.send_response(<span class="number">200</span>)</span><br><span class="line">        self.send_header(<span class="string">&quot;Content-type&quot;</span>, <span class="string">&quot;text/html&quot;</span>)</span><br><span class="line">        self.end_headers()</span><br><span class="line">        self.wfile.write(controlPageGUI.encode())</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_POST</span>(<span class="params">self</span>):</span></span><br><span class="line">        length = <span class="built_in">int</span>(self.headers[<span class="string">&#x27;Content-Length&#x27;</span>])</span><br><span class="line">        qs = self.rfile.read(length)</span><br><span class="line">        direction = qs.decode()</span><br><span class="line">        print(direction)</span><br><span class="line">        ser.write(<span class="string">&#x27;&#x27;</span>.encode())</span><br><span class="line"></span><br><span class="line">        self.send_response(<span class="number">200</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    raspCarServer = CarServer</span><br><span class="line">    hostIP = raspCarServer.get_host_ip(raspCarServer)</span><br><span class="line">    hostPort = <span class="number">9090</span></span><br><span class="line">    myServer = HTTPServer((hostIP, hostPort), raspCarServer)</span><br><span class="line"> </span><br><span class="line">    print(time.asctime(), <span class="string">&quot;Server Starts - %s:%s&quot;</span> % (hostIP, hostPort))</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        myServer.serve_forever()</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><h2 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a><em>index.html</em></h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">directionBtnDown</span>(<span class="params">direction</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> url = <span class="string">&quot;requestAddress&quot;</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">        request.open(<span class="string">&quot;POST&quot;</span>, url);</span></span><br><span class="line"> </span><br><span class="line">        request.send(direction)</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">directionBtnUp</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> url = <span class="string">&quot;requestAddress&quot;</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">        request.open(<span class="string">&quot;POST&quot;</span>, url);</span></span><br><span class="line"><span class="javascript">        request.send(<span class="string">&quot;S&quot;</span>)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">span</span><span class="selector-class">.car</span> &#123;</span></span><br><span class="line">        position: absolute;</span><br><span class="line">        margin-top: 30%;</span><br><span class="line">        height: 480px;   </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"><span class="css">    <span class="selector-tag">span</span><span class="selector-class">.camera</span> &#123;</span></span><br><span class="line">        position: absolute;</span><br><span class="line">        margin-top: 5%;</span><br><span class="line">        margin-left: 290px;</span><br><span class="line">        height: 480px;</span><br><span class="line">        width: 640px;</span><br><span class="line">        background-color: blue</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"><span class="css">    <span class="selector-tag">span</span><span class="selector-class">.camera_control</span> &#123;</span></span><br><span class="line">        position: absolute;</span><br><span class="line">        margin-top: 30%;</span><br><span class="line">        margin-left: 950px;</span><br><span class="line">        height: 480px;</span><br><span class="line">        background-color: blue</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="css">    <span class="selector-tag">button</span><span class="selector-class">.top</span> &#123;</span></span><br><span class="line">        position: absolute;</span><br><span class="line">        height: 50px;</span><br><span class="line">        width: 90px;</span><br><span class="line">        margin-left: 90px</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"><span class="css">    <span class="selector-tag">button</span><span class="selector-class">.left</span> &#123;</span></span><br><span class="line">        position: absolute;</span><br><span class="line">        height: 50px;</span><br><span class="line">        width: 90px;</span><br><span class="line">        margin-top: 50px;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"><span class="css">    <span class="selector-tag">button</span><span class="selector-class">.right</span> &#123;</span></span><br><span class="line">        position: absolute;</span><br><span class="line">        height: 50px;</span><br><span class="line">        width: 90px;</span><br><span class="line">        margin-top: 50px;</span><br><span class="line">        margin-left: 180px</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"><span class="css">    <span class="selector-tag">button</span><span class="selector-class">.bottom</span> &#123;</span></span><br><span class="line">        position: absolute;</span><br><span class="line">        height: 50px;</span><br><span class="line">        width: 90px;</span><br><span class="line">        margin-top: 100px;</span><br><span class="line">        margin-left: 90px</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>control page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;car_control&quot;</span> <span class="attr">class</span>=<span class="string">&quot;car&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;top drectionBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;F&quot;</span> <span class="attr">onmousedown</span>=<span class="string">&quot;directionBtnDown(&#x27;w&#x27;)&quot;</span> <span class="attr">onmouseup</span>=<span class="string">&quot;directionBtnUp()&quot;</span>&gt;</span>F<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;left drectionBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;L&quot;</span> <span class="attr">onmousedown</span>=<span class="string">&quot;directionBtnDown(&#x27;a&#x27;)&quot;</span> <span class="attr">onmouseup</span>=<span class="string">&quot;directionBtnUp()&quot;</span>&gt;</span>L<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;right drectionBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;R&quot;</span> <span class="attr">onmousedown</span>=<span class="string">&quot;directionBtnDown(&#x27;d&#x27;)&quot;</span> <span class="attr">onmouseup</span>=<span class="string">&quot;directionBtnUp()&quot;</span>&gt;</span>R<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;bottom drectionBtn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;B&quot;</span> <span class="attr">onmousedown</span>=<span class="string">&quot;directionBtnDown(&#x27;x&#x27;)&quot;</span> <span class="attr">onmouseup</span>=<span class="string">&quot;directionBtnUp()&quot;</span>&gt;</span>B<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后在树莓派上：<code>sudo python3 server.py</code> </p><p>去网页<code>http://192.168.1.102:9090/</code>，实现内网控制小车。</p><h1 id="3-小结"><a href="#3-小结" class="headerlink" title="3.小结"></a>3.小结</h1><p>下一步，内网穿透或。。。</p>]]></content>
      
      
      <categories>
          
          <category> 硬件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/ea97.html"/>
      <url>posts/ea97.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>HTTP是一个请求-响应协议，是两点间传输超文本数据的约定和规范。</p></blockquote><h2 id="HTTP状态码"><a href="#HTTP状态码" class="headerlink" title="HTTP状态码"></a>HTTP状态码</h2><table><thead><tr><th>状态码</th><th>描述</th></tr></thead><tbody><tr><td>1XX</td><td>表示目前是协议处理中间状态</td></tr><tr><td>2XX</td><td>成功，报文已接受且正确处理</td></tr><tr><td>3XX</td><td>重定向，资源位置发生变动</td></tr><tr><td>4XX</td><td>客户端错误，请求报文有误，服务器无法处理</td></tr><tr><td>5XX</td><td>服务器处理请求时发生错误</td></tr></tbody></table><h2 id="HTTP报文"><a href="#HTTP报文" class="headerlink" title="HTTP报文"></a>HTTP报文</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GET /admin_ui/rdx/core/images/close.png HTTP/1.1</span><br><span class="line">Accept: */*</span><br><span class="line">Referer: http://xxx.xxx.xxx.xxx/menu/neo</span><br><span class="line">Accept-Language: en-US</span><br><span class="line">User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; WOW64; Trident/7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET4.0C; .NET4.0E)</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Host: xxx.xxx.xxx.xxx</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Cookie: startupapp=neo; is_cisco_platform=0; rdx_pagination_size=250%20Per%20Page; SESSID=deb31b8eb9ca68a514cf55777744e339</span><br></pre></td></tr></table></figure><h2 id="HTTP版本"><a href="#HTTP版本" class="headerlink" title="HTTP版本"></a>HTTP版本</h2><table><thead><tr><th>版本</th><th>信息</th></tr></thead><tbody><tr><td>1.0</td><td>每发起一次请求，都要建立一次TCP链接（三次握手）</td></tr><tr><td>1.1</td><td>①提出了长连接通信方式，减少TCP连接开销 。②管道网络传输，减少整体效应时间</td></tr><tr><td>2.0</td><td></td></tr></tbody></table><blockquote><p>http无状态、明文传输、不安全</p></blockquote><blockquote><p>http无法验证报文完整性、不验证通信方身份</p></blockquote><h2 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h2><p>在TCP和HTTP网络层之间加入了SSL/TLS安全协议<br>①加密（Encryption)<br>②身份认证（Authentication)<br>③数据一致性 （Data integrity)</p>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/e960.html"/>
      <url>posts/e960.html</url>
      
        <content type="html"><![CDATA[<h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><hr><p>本文将用到以下工具：</p><ul><li>requests</li><li>re</li><li>面向对象</li><li>pyqt5</li><li>pyinstaller</li></ul><p>暂时爬取网站： <a href="https://huaban.com/favorite/beauty">https://huaban.com/favorite/beauty</a></p><h1 id="1-探究过程"><a href="#1-探究过程" class="headerlink" title="1.探究过程"></a>1.探究过程</h1><hr><h2 id="1-1-第一个难题："><a href="#1-1-第一个难题：" class="headerlink" title="1.1 第一个难题："></a>1.1 第一个难题：</h2><blockquote><p>关于爬到的html与f12得到的有区别，所以re写<code>pattern</code>不能凭着F12<br><strong>目标</strong>：找到一个合适的<code>pattern</code>便于找到url</p></blockquote><blockquote><p>所谓查看网页源代码，就是别人服务器发送到浏览器的原封不动的代码。这是爬虫获得的代码<br>你那些在源码中找不到的代码（元素），那是在浏览器执行js动态生成的，这些能在审查元素中看到<br>通过审查元素就,,,,看到就是浏览器处理过的最终的html代码。</p></blockquote><p>然后试了试更换头信息，</p><p><img src="https://img-blog.csdnimg.cn/20200801215657860.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70"></p><blockquote><p>就离谱，requests.get过来的基本没找到<code>&lt;div&gt;</code>标签，F12检查元素全是<code>&lt;div&gt;</code>标签<br>感觉：爬到的和F12到的是两个东西</p></blockquote><h2 id="1-2-第二个难题："><a href="#1-2-第二个难题：" class="headerlink" title="1.2 第二个难题："></a>1.2 第二个难题：</h2><blockquote><p>从得到的text中找出图片的地址</p></blockquote><p>先用 <a href="http://www.bejson.com/">http://www.bejson.com/</a> 进行text分析，发现图片的地址为<br><code>https://hbimg.huabanimg.com/</code>+<code>key</code></p><h2 id="1-3-第三个难题："><a href="#1-3-第三个难题：" class="headerlink" title="1.3 第三个难题："></a>1.3 第三个难题：</h2><blockquote><p>关于得到数据的不完整性，<br><strong>目标</strong>：找出<code>url_next</code></p></blockquote><p>爬到的东西只有前面一些图片，经查询好像是一种关于<strong>动态网页异步更新</strong>的技术<br>参考： <a href="https://zhuanlan.zhihu.com/p/27346009">https://zhuanlan.zhihu.com/p/27346009</a><br>(当然网站表面没有页，表面的url也没有变）</p><p><img src="https://img-blog.csdnimg.cn/2020080121565813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70"></p><p>经查询，向下翻页时XHR会多出请求，url地址已给出<br>是时候更改1.0版本的代码，让它找到更多的图片🎈</p><p>经过第一个问题的折磨，容易理解：</p><ul><li>虽然（翻页后的）url，用浏览器无法访问，但get可以爬到</li></ul><h1 id="2-基础知识"><a href="#2-基础知识" class="headerlink" title="2.基础知识"></a>2.基础知识</h1><hr><h2 id="2-1-关于requests"><a href="#2-1-关于requests" class="headerlink" title="2.1 关于requests"></a>2.1 关于requests</h2><h3 id="开始使用第一步："><a href="#开始使用第一步：" class="headerlink" title="开始使用第一步："></a>开始使用第一步：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">r=requests.get(<span class="string">&quot;http://&quot;</span>)</span><br><span class="line">r.status_code                     <span class="comment">#en,返回200表示成功</span></span><br></pre></td></tr></table></figure><h3 id="开始使用第二步："><a href="#开始使用第二步：" class="headerlink" title="开始使用第二步："></a>开始使用第二步：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">r.encoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line">r.text                            <span class="comment">#en,返回网站的html</span></span><br></pre></td></tr></table></figure><h3 id="其它："><a href="#其它：" class="headerlink" title="其它："></a>其它：</h3><p><code>r.apparent_encoding</code>  【从内容分析出响应内容编码方式，返回一个编码方式字符串】<br><code>r.raise_for_status</code>   【如果不是200，返回异常码】</p><blockquote><p>七个主要方法：</p><ul><li><code>requests.request(method,url,**kwargs)</code></li><li><code>requests.get(url,**kwargs)</code>, headers中伪装头信息</li><li>requests.post()</li><li>requests.put()</li><li>requests.patch()</li><li>requests.head()</li><li>requests.delete()</li></ul></blockquote><h2 id="2-2-关于re"><a href="#2-2-关于re" class="headerlink" title="2.2 关于re"></a>2.2 关于re</h2><p><a href="https://x-varywow.github.io/posts/10df.html">https://x-varywow.github.io/posts/10df.html</a></p><h2 id="2-3-关于面向对象"><a href="#2-3-关于面向对象" class="headerlink" title="2.3 关于面向对象"></a>2.3 关于面向对象</h2><p><code>if __name__ == &#39;__main__&#39;</code><br>表示：只有当该文件作为一个独立的脚本运行时才会被调用。<br>换句话说，如果在其它文件中导入此文件，那么条件中的语句不被执行。</p><h1 id="3-代码实现"><a href="#3-代码实现" class="headerlink" title="3.代码实现"></a>3.代码实现</h1><hr><p>1.0版本代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">pwd=<span class="string">&quot;C:/temp/temp&quot;</span></span><br><span class="line">url = <span class="string">&quot;https://huaban.com/favorite/beauty/&quot;</span> <span class="comment">#这是你要爬取的页面url</span></span><br><span class="line">url_img = <span class="string">&quot;https://hbimg.huabanimg.com/&quot;</span> <span class="comment">#这是它放图片的url前缀</span></span><br><span class="line">num=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#伪装头信息</span></span><br><span class="line">head = &#123;<span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36 Edg/84.0.522.49&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download</span>(<span class="params">file,url</span>):</span></span><br><span class="line">    print(<span class="string">&quot;开始下载：&quot;</span>,file,url)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url,stream=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fd:</span><br><span class="line">            <span class="keyword">for</span> chunk <span class="keyword">in</span> r.iter_content():</span><br><span class="line">                fd.write(chunk)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">&quot;下载失败了&quot;</span>,e)</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">url</span>):</span></span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    print(<span class="string">&quot;*******************************************&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;你的请求网址是：&quot;</span>,url)</span><br><span class="line">    </span><br><span class="line">    r=requests.get(url,headers=head)</span><br><span class="line">    pattern=re.<span class="built_in">compile</span>(<span class="string">&#x27;&#123;&quot;pin_id&quot;:(\d*?),.*?&quot;key&quot;:&quot;(.*?)&quot;,.*?&quot;like_count&quot;:(\d*?),.*?&quot;repin_count&quot;:(\d*?),.*?&#125;&#x27;</span>,re.S)</span><br><span class="line">    pid=<span class="number">0</span></span><br><span class="line">    items=re.findall(pattern,r.text)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        pid,key,like_cnt,repin_cnt=item</span><br><span class="line">        print(<span class="string">&quot;开始下载第&#123;&#125;张图片&quot;</span>.<span class="built_in">format</span>(num))</span><br><span class="line">        </span><br><span class="line">        pic_url=url_img+key    <span class="comment">#图片的url地址</span></span><br><span class="line">        filename=pwd+<span class="built_in">str</span>(pid)+<span class="string">&quot;.jpg&quot;</span>  <span class="comment">#文件保存的名字</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> os.path.isfile(filename):</span><br><span class="line">            print(<span class="string">&quot;文件存在：&quot;</span>,filename)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        </span><br><span class="line">        download(filename,pic_url)</span><br><span class="line">        num+=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(pwd):</span><br><span class="line">    os.makedirs(pwd)</span><br><span class="line">main(url)</span><br></pre></td></tr></table></figure><p>1.1版本代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">pwd=<span class="string">&quot;C:/temp/temp&quot;</span></span><br><span class="line">url = <span class="string">&quot;http://huaban.com/favorite/beauty/&quot;</span></span><br><span class="line">url_img = <span class="string">&quot;https://hbimg.huabanimg.com/&quot;</span></span><br><span class="line">url_next=<span class="string">&quot;https://huaban.com/favorite/beauty?kdbpp4xg&amp;max=&quot;</span></span><br><span class="line">num=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#伪装头信息</span></span><br><span class="line">head = &#123;<span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36 Edg/84.0.522.49&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download</span>(<span class="params">file,url</span>):</span></span><br><span class="line">    print(<span class="string">&quot;开始下载：&quot;</span>,file,url)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url,stream=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fd:</span><br><span class="line">            <span class="keyword">for</span> chunk <span class="keyword">in</span> r.iter_content():</span><br><span class="line">                fd.write(chunk)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">&quot;下载失败了&quot;</span>,e)</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">url</span>):</span></span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    print(<span class="string">&quot;*******************************************&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;你的请求网址是：&quot;</span>,url)</span><br><span class="line">    </span><br><span class="line">    r=requests.get(url,headers=head)</span><br><span class="line">    pattern=re.<span class="built_in">compile</span>(<span class="string">&#x27;&#123;&quot;pin_id&quot;:(\d*?),.*?&quot;key&quot;:&quot;(.*?)&quot;,.*?&quot;like_count&quot;:(\d*?),.*?&quot;repin_count&quot;:(\d*?),.*?&#125;&#x27;</span>,re.S)</span><br><span class="line">    pid=<span class="number">0</span></span><br><span class="line">    items=re.findall(pattern,r.text)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        pid,key,like_cnt,repin_cnt=item</span><br><span class="line">        print(<span class="string">&quot;开始下载第&#123;&#125;张图片&quot;</span>.<span class="built_in">format</span>(num))</span><br><span class="line">        </span><br><span class="line">        pic_url=url_img+key    <span class="comment">#图片的url地址</span></span><br><span class="line">        filename=pwd+<span class="built_in">str</span>(pid)+<span class="string">&quot;.jpg&quot;</span>  <span class="comment">#文件保存的名字</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> os.path.isfile(filename):</span><br><span class="line">            print(<span class="string">&quot;文件存在：&quot;</span>,filename)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        </span><br><span class="line">        download(filename,pic_url)</span><br><span class="line">        num+=<span class="number">1</span></span><br><span class="line">    main(url_next+pid+<span class="string">&quot;&amp;limit=100&amp;wfl=1&quot;</span>)    <span class="comment">#比1.0多出的地方，参考问题3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(pwd):</span><br><span class="line">    os.makedirs(pwd)</span><br><span class="line">main(url)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="4-小结"><a href="#4-小结" class="headerlink" title="4.小结"></a>4.小结</h1><hr><p><code>2020.8.1</code><br> 啦啦啦， <code>1.1</code>版本成功，激动ing<br>今天还试了试beautifulsoup，fiddler，没领悟~</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/7754.html"/>
      <url>posts/7754.html</url>
      
        <content type="html"><![CDATA[<h2 id="unimatrix"><a href="#unimatrix" class="headerlink" title="unimatrix"></a>unimatrix</h2><p>Python script to simulate the display from “The Matrix” in terminal.</p><p><a href="https://github.com/will8211/unimatrix">https://github.com/will8211/unimatrix</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1:</span></span><br><span class="line">pip install git+https://github.com/will8211/unimatrix.git</span><br><span class="line"><span class="comment"># 2:如果提示缺少curses</span></span><br><span class="line">pip install windows-curses</span><br><span class="line"><span class="comment"># 3:运行</span></span><br><span class="line">unimatrix -n -s 96 -l o</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/c3aa.html"/>
      <url>posts/c3aa.html</url>
      
        <content type="html"><![CDATA[<p><code>Pandas</code> 是 Python 的<strong>核心数据分析支持库</strong>，是 Python 中统计计算生态系统的重要组成部分。</p><h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><p>一维的<code>Series</code>和二维的  <code>DataFrame</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]，index=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 0    1</span></span><br><span class="line"><span class="comment"># 1    2</span></span><br><span class="line"><span class="comment"># 2    3</span></span><br><span class="line"><span class="comment"># dtype: int64</span></span><br></pre></td></tr></table></figure><p><strong>创建方法:</strong></p><ol><li>同上</li><li>字典</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Empty DataFrame</span></span><br><span class="line"><span class="comment"># Columns: []</span></span><br><span class="line"><span class="comment"># Index: []</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dates=pd.date_range(<span class="string">&#x27;20200511&#x27;</span>,periods=<span class="number">3</span>)</span><br><span class="line">dates</span><br><span class="line"></span><br><span class="line"><span class="comment"># DatetimeIndex([&#x27;2020-05-11&#x27;, &#x27;2020-05-12&#x27;, &#x27;2020-05-13&#x27;], dtype=&#x27;datetime64[ns]&#x27;, freq=&#x27;D&#x27;)</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(np.random.randn(<span class="number">3</span>,<span class="number">4</span>),index=dates,columns=<span class="built_in">list</span>(<span class="string">&#x27;abcd&#x27;</span>))</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th>a</th><th>b</th><th>c</th><th>d</th></tr></thead><tbody><tr><td>2020-05-11</td><td>-1.712588</td><td>0.403376</td><td>-0.152608</td><td>-0.428465</td></tr><tr><td>2020-05-12</td><td>-1.259988</td><td>-0.310385</td><td>-0.816578</td><td>0.321397</td></tr><tr><td>2020-05-13</td><td>-0.444678</td><td>-1.894342</td><td>0.172485</td><td>0.717187</td></tr></tbody></table><h3 id="1-查看数据"><a href="#1-查看数据" class="headerlink" title="(1)查看数据"></a>(1)查看数据</h3><ul><li><code>df.head()</code>，k值默认为5.</li><li><code>df.tail()</code>，k值默认为5</li><li><code>df.index</code></li><li><code>df.columns</code></li></ul><h3 id="2-选择"><a href="#2-选择" class="headerlink" title="(2)选择"></a>(2)选择</h3><ol><li>获取单列，<code>df.a</code>与<code>df[&#39;a&#39;]</code>等效</li><li>获取行，用 [ ] 切片行</li><li>按标签选择</li><li>按位置选择</li></ol><h3 id="3-操作"><a href="#3-操作" class="headerlink" title="(3)操作"></a>(3)操作</h3><ol><li><code>Series</code>操作类似字典类型，含：保留字<code>in</code>操作、<code>.get(key,default=None)</code>方法</li><li><code>.reindex()</code>，改变或重排<code>Series</code>或<code>DataFrame</code>索引数据输入输出</li><li><code>.drop()</code>，删除<code>Series</code>或<code>DataFrame</code>指定行或列索引，默认0轴(竖的)</li></ol><h3 id="4-运算"><a href="#4-运算" class="headerlink" title="(4)运算"></a>(4)运算</h3><ol><li><strong>算术运算</strong>根据行列索引，补齐后运算，运算默认产生浮点数。</li><li>补齐时缺项填充NaN(空值)</li><li>不同维度数据间运算为广播运算</li><li><code>+</code> 或 <code>b.add(a,fill_value=NaN)</code></li><li><strong>比较运算</strong></li></ol><h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><ol><li><code>.sort_index(axis=0,ascending=True)</code>，根据索引排序，默认升序</li><li><code>Series.sort_values(axis=0,ascending=True)</code><br><code>DataFrame.sort_values(by,axis=0,ascending=True)</code></li></ol><h2 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h2><h6 id="CSV："><a href="#CSV：" class="headerlink" title="CSV："></a>CSV：</h6><ul><li><code>df.to_csv(&#39;___.csv&#39;)</code></li><li><code>pd.read_csv(&#39;___.csv&#39;)</code></li></ul><h6 id="Excel："><a href="#Excel：" class="headerlink" title="Excel："></a>Excel：</h6><ul><li><code>df.to_excel(&#39;___.xlsx&#39;, sheet_name=&#39;Sheet1&#39;)</code></li><li><code>pd.read_excel(&#39;___.xlsx&#39;, &#39;Sheet1&#39;, index_col=None, na_values=[&#39;NA&#39;])</code></li></ul><h2 id="统计分析"><a href="#统计分析" class="headerlink" title="统计分析"></a>统计分析</h2><ol><li>对数据<code>.describe()</code>，能得到很多信息。</li><li><code>.cov()</code>，计算协方差矩阵。</li><li><code>.corr()</code>，计算相关系数矩阵。</li></ol><p><strong>实践</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">b=pd.DataFrame(np.arange(<span class="number">20</span>).reshape(<span class="number">4</span>,<span class="number">5</span>),index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;d&#x27;</span>])</span><br><span class="line">b.describe()</span><br></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }<pre><code>.dataframe tbody tr th &#123;    vertical-align: top;&#125;.dataframe thead th &#123;    text-align: right;&#125;</code></pre><p></style></p><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>4.000000</td>      <td>4.000000</td>      <td>4.000000</td>      <td>4.000000</td>      <td>4.000000</td>    </tr>    <tr>      <th>mean</th>      <td>7.500000</td>      <td>8.500000</td>      <td>9.500000</td>      <td>10.500000</td>      <td>11.500000</td>    </tr>    <tr>      <th>std</th>      <td>6.454972</td>      <td>6.454972</td>      <td>6.454972</td>      <td>6.454972</td>      <td>6.454972</td>    </tr>    <tr>      <th>min</th>      <td>0.000000</td>      <td>1.000000</td>      <td>2.000000</td>      <td>3.000000</td>      <td>4.000000</td>    </tr>    <tr>      <th>25%</th>      <td>3.750000</td>      <td>4.750000</td>      <td>5.750000</td>      <td>6.750000</td>      <td>7.750000</td>    </tr>    <tr>      <th>50%</th>      <td>7.500000</td>      <td>8.500000</td>      <td>9.500000</td>      <td>10.500000</td>      <td>11.500000</td>    </tr>    <tr>      <th>75%</th>      <td>11.250000</td>      <td>12.250000</td>      <td>13.250000</td>      <td>14.250000</td>      <td>15.250000</td>    </tr>    <tr>      <th>max</th>      <td>15.000000</td>      <td>16.000000</td>      <td>17.000000</td>      <td>18.000000</td>      <td>19.000000</td>    </tr>  </tbody></table></div><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>本文基于官方文档，和mooc一门课的笔记。<br>还很杂乱，需要重学时再整理。</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
            <tag> 数据分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/2e8f.html"/>
      <url>posts/2e8f.html</url>
      
        <content type="html"><![CDATA[<p>本文基于<a href="https://readthedocs.org/projects/intermediatepythongithubio/downloads/pdf/latest/"><em>Intermediate Python</em></a>学习过程中摘要与实践。<br>感谢此书作者，书的更新日期：Jul 11, 2020.</p><blockquote><p><em>blueprint</em>-(伪代码)<br><em>parentheses</em>-(括号)<br><em>clause</em>-(从句)</p></blockquote><h2 id="args-and-kwargs"><a href="#args-and-kwargs" class="headerlink" title="*args and **kwargs"></a><em>*args and **kwargs</em></h2><p>When you do not know beforehand how many arguments can be passed to your function,<br>use it:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_var_args</span>(<span class="params">f_arg,*argv</span>):</span></span><br><span class="line">    print(<span class="string">&quot;first normal arg:&quot;</span>,f_arg)</span><br><span class="line">    <span class="keyword">for</span> arg <span class="keyword">in</span> argv:</span><br><span class="line">        print(<span class="string">&quot;another arg through *argv:&quot;</span>,arg)</span><br><span class="line">test_var_args(<span class="string">&#x27;python&#x27;</span>,<span class="string">&#x27;hello&#x27;</span>,<span class="string">&#x27;wow&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#--&gt;first normal arg: python</span></span><br><span class="line"><span class="comment">#--&gt;another arg through *argv: hello</span></span><br><span class="line"><span class="comment">#--&gt;another arg through *argv: wow</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_args_kwargs</span>(<span class="params">arg1,arg2,arg3</span>):</span></span><br><span class="line">    print(<span class="string">&quot;arg1:&quot;</span>,arg1)</span><br><span class="line">    print(<span class="string">&quot;arg2:&quot;</span>,arg2)</span><br><span class="line">    print(<span class="string">&quot;arg3&quot;</span>,arg3)</span><br><span class="line">kwargs=&#123;<span class="string">&quot;arg3&quot;</span>:<span class="number">3</span>,<span class="string">&quot;arg2&quot;</span>:<span class="string">&quot;two&quot;</span>,<span class="string">&quot;arg1&quot;</span>:<span class="number">5</span>&#125;</span><br><span class="line">test_args_kwargs(**kwargs)</span><br><span class="line"></span><br><span class="line"><span class="comment">#--&gt;arg1: 5</span></span><br><span class="line"><span class="comment">#--&gt;arg2: two</span></span><br><span class="line"><span class="comment">#--&gt;arg3 3</span></span><br></pre></td></tr></table></figure><p> <code>*args</code> is used to send a non-keyworded variable length argument list to the function.<br> <code>**kwargs</code> allows you to pass <strong>keyworded</strong> variable length of arguments to a function.<br> The <strong>order</strong> is <code>some_func(fargs, *args, **kwargs)</code></p><p> The most common use case is when making function decorators.</p><h2 id="Debugging"><a href="#Debugging" class="headerlink" title="Debugging"></a><em>Debugging</em></h2><p>You can run a script from the commandline using the <strong>Python debugger</strong>(pdb). Here is an example:<br><code>$ python -m pdb my_script.py</code><br>Running from inside a script:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pdb</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_bread</span>():</span></span><br><span class="line">    pdb.set_trace()</span><br><span class="line">    <span class="keyword">return</span>  <span class="string">&quot; i dont have time&quot;</span></span><br><span class="line">print(make_bread())</span><br></pre></td></tr></table></figure><p>You would <strong>enter the debugger pattern</strong> as soon as you run it. Now it’s time to learn some of the commands of the debugger.<br><strong>Commands</strong>:</p><ul><li><p><code>c</code>: continue execution</p></li><li><p><code>w</code>: shows the context of the current line it is executing.</p></li><li><p><code>a</code>: print the argument list of the current function</p></li><li><p><code>s</code>: execute the current line and stop at the first possible occasion</p></li><li><p><code>n</code>: continue execution until the next line in the current function is reached or it returns</p></li></ul><h2 id="Generators"><a href="#Generators" class="headerlink" title="Generators"></a><em>Generators</em></h2><p>According to Wikipedia, an iterator is an object that enables a programmer to traverse a container, particularly lists. </p><h6 id="可迭代对象"><a href="#可迭代对象" class="headerlink" title="可迭代对象"></a>可迭代对象</h6><p>An <strong>iterable</strong> is any object in Python which has an <code>__iter__</code> or a <code>__getitem__</code> method<br>defined which returns an iterator or can take indexes.</p><h6 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h6><p>An <strong>iterator</strong> is any object in Python which has a  <code>__next__</code> method defined. </p><h6 id="迭代"><a href="#迭代" class="headerlink" title="迭代"></a>迭代</h6><p>When we use a loop to loop over something it is called <strong>iteration</strong>.</p><h6 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h6><ul><li><strong>Generators</strong> are iterators, but you can only iterate over them once.</li><li>It’s because they do <strong>not store all the values in memory</strong>, they generate the values on the fly.</li><li>Most of the time generators are implemented as functions.</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generator_function</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        <span class="keyword">yield</span> i</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> generator_function():</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generator_function</span>():</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line"><span class="keyword">yield</span> i</span><br><span class="line">gen = generator_function()</span><br><span class="line">print(<span class="built_in">next</span>(gen))  <span class="comment">#--&gt;0</span></span><br><span class="line">print(<span class="built_in">next</span>(gen))  <span class="comment">#--&gt;1</span></span><br><span class="line">print(<span class="built_in">next</span>(gen))  <span class="comment">#--&gt;error</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># after yielding all the values next() caused a StopIteration error</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">my_string = <span class="string">&quot;Yasoob&quot;</span></span><br><span class="line">my_iter = <span class="built_in">iter</span>(my_string)</span><br><span class="line"><span class="built_in">next</span>(my_iter)</span><br><span class="line"></span><br><span class="line"><span class="comment"># str是个可迭代对象，但不是迭代器</span></span><br><span class="line"><span class="comment"># 用iter()函数</span></span><br></pre></td></tr></table></figure><h2 id="Map-Filter-and-Reduce"><a href="#Map-Filter-and-Reduce" class="headerlink" title="Map, Filter and Reduce"></a><em>Map, Filter and Reduce</em></h2><p>菜鸟教程链接：<a href="https://www.runoob.com/python/python-func-map.html">map</a> <a href="https://www.runoob.com/python/python-func-filter.html">filter</a> <a href="https://www.runoob.com/python/python-func-reduce.html">reduce</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">items = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">squared = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> items:</span><br><span class="line">    squared.append(i**<span class="number">2</span>)</span><br><span class="line"><span class="comment">#       ||</span></span><br><span class="line"><span class="comment">#       ||</span></span><br><span class="line"><span class="comment">#       \/</span></span><br><span class="line">items = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">squared = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x**<span class="number">2</span>, items))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multiply</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> (x*x)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> (x+x)</span><br><span class="line">funcs = [multiply, add]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    value = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x(i), funcs))</span><br><span class="line"></span><br><span class="line"><span class="comment"># use map even a list of functions</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">number_list = <span class="built_in">range</span>(-<span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line">less_than_zero = <span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x &lt; <span class="number">0</span>, number_list))</span><br><span class="line">print(less_than_zero)</span><br><span class="line"></span><br><span class="line"><span class="comment">#--&gt;[-5, -4, -3, -2, -1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#If map &amp; filter do not appear beautiful to you</span></span><br><span class="line"><span class="comment"># then you can read about list/dict/tuple comprehensions.(推导式)</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">product = <span class="number">1</span></span><br><span class="line"><span class="built_in">list</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">list</span>:</span><br><span class="line">    product = product * num</span><br><span class="line"><span class="comment">#       ||</span></span><br><span class="line"><span class="comment">#       ||</span></span><br><span class="line"><span class="comment">#       \/</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">product = reduce((<span class="keyword">lambda</span> x, y: x * y), [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure><h2 id="Decorators"><a href="#Decorators" class="headerlink" title="Decorators"></a><em>Decorators</em></h2><p>Decorators are a significant part of Python. In simple words: they are functions which modify the functionality of other functions. They help to make our code shorter and more Pythonic.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hi</span>(<span class="params">name=<span class="string">&quot;yasoob&quot;</span></span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hi &quot;</span> + name</span><br><span class="line">print(hi())</span><br><span class="line"><span class="comment"># output: &#x27;hi yasoob&#x27;</span></span><br><span class="line"><span class="comment"># 我们甚⾄可以将⼀个函数赋值给⼀个变量，⽐如</span></span><br><span class="line">greet = hi</span><br><span class="line"><span class="comment"># 我们这⾥没有在使⽤⼩括号，因为我们并不是在调⽤hi函数</span></span><br><span class="line"><span class="comment"># ⽽是在将它放在greet变量⾥头。我们尝试运⾏下这个</span></span><br><span class="line">print(greet())</span><br><span class="line"><span class="comment"># output: &#x27;hi yasoob&#x27;</span></span><br><span class="line"><span class="comment"># 如果我们删掉旧的hi函数，看看会发⽣什么！</span></span><br><span class="line"><span class="keyword">del</span> hi</span><br><span class="line">print(hi())</span><br><span class="line"><span class="comment">#outputs: NameError</span></span><br><span class="line">print(greet())</span><br><span class="line"><span class="comment">#outputs: &#x27;hi yasoob&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ======Everything in python is a object=====</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hi</span>(<span class="params">name=<span class="string">&quot;yasoob&quot;</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">greet</span>():</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;now you are in the greet() function&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">welcome</span>():</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;now you are in the welcome() function&quot;</span></span><br><span class="line">    <span class="keyword">if</span> name == <span class="string">&quot;yasoob&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> greet</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> welcome</span><br><span class="line">a = hi()</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#--&gt;function greet at 0x7f2143c01500&gt;</span></span><br><span class="line"><span class="comment">#上⾯清晰地展示了`a`现在指向到hi()函数中的greet()函数</span></span><br><span class="line"><span class="comment">#现在试试这个</span></span><br><span class="line">print(a())</span><br><span class="line"><span class="comment">#--&gt;now you are in the greet() function</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#=====在函数中定义函数，返回函数=====</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hi</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hi yasoob!&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">doSomethingBeforeHi</span>(<span class="params">func</span>):</span></span><br><span class="line">    print(<span class="string">&quot;I am doing some boring work before executing hi()&quot;</span>)</span><br><span class="line">    print(func())</span><br><span class="line">doSomethingBeforeHi(hi)</span><br><span class="line"><span class="comment">#--&gt;I am doing some boring work before executing hi()</span></span><br><span class="line"><span class="comment"># hi yasoob!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#=====将函数作为参数传给另一个函数=====</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">a_new_decorator</span>(<span class="params">a_func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapTheFunction</span>():</span></span><br><span class="line">        print(<span class="string">&quot;I am doing some boring work before executing a_func()&quot;</span>)</span><br><span class="line">        a_func()</span><br><span class="line">        print(<span class="string">&quot;I am doing some boring work after executing a_func()&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> wrapTheFunction</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">a_function_requiring_decoration</span>():</span></span><br><span class="line">    print(<span class="string">&quot;I am the function which needs some decoration&quot;</span>)</span><br><span class="line"></span><br><span class="line">a_function_requiring_decoration()</span><br><span class="line"><span class="comment">#outputs: &quot;I am the function which needs some decoration&quot;</span></span><br><span class="line">a_function_requiring_decoration = a_new_decorator(a_function_requiring_decoration)</span><br><span class="line"><span class="comment">#now a_function_requiring_decoration is wrapped by wrapTheFunction()</span></span><br><span class="line">a_function_requiring_decoration()</span><br><span class="line"><span class="comment">#outputs:I am doing some boring work before executing a_func()</span></span><br><span class="line"><span class="comment"># I am the function which needs some decoration</span></span><br><span class="line"><span class="comment"># I am doing some boring work after executing a_func()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###一个简单的装饰器，相当于赋给函数一个经修饰的函数</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@a_new_decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">a_function_requiring_decoration</span>():</span></span><br><span class="line">    print(<span class="string">&quot;I am the function which needs some decoration&quot;</span>)</span><br><span class="line">a_function_requiring_decoration()</span><br><span class="line"><span class="comment">#outputs: I am doing some boring work before executing a_func()</span></span><br><span class="line"><span class="comment"># I am the function which needs some decoration to remove my foul smell</span></span><br><span class="line"><span class="comment"># I am doing some boring work after executing a_func()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#重点理解一下 @ 符号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#但此时a_function_requiring_decoration.__name__变成了wrapTheFunction</span></span><br><span class="line"><span class="comment">#这时就有了functools.wraps，下面是蓝本：</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># blueprint</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator_name</span>(<span class="params">f</span>):</span></span><br><span class="line"><span class="meta">    @wraps(<span class="params">f</span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decorated</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> can_run: </span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Function will not run&quot;</span></span><br><span class="line">        <span class="keyword">return</span> f(*args, **kwargs)</span><br><span class="line">    <span class="keyword">return</span> decorated</span><br><span class="line"><span class="meta">@decorator_name</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">    <span class="keyword">return</span>(<span class="string">&quot;Function is running&quot;</span>)</span><br><span class="line"></span><br><span class="line">can_run = <span class="literal">True</span></span><br><span class="line">print(func())</span><br><span class="line"><span class="comment"># Output: Function is running</span></span><br><span class="line">can_run = <span class="literal">False</span></span><br><span class="line">print(func())</span><br><span class="line"><span class="comment"># Output: Function will not run</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Mutation"><a href="#Mutation" class="headerlink" title="Mutation"></a><em>Mutation</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">foo = [<span class="string">&#x27;hi&#x27;</span>]</span><br><span class="line">print(foo)</span><br><span class="line"><span class="comment">#--&gt;[&#x27;hi&#x27;]</span></span><br><span class="line"></span><br><span class="line">bar = foo</span><br><span class="line">bar += [<span class="string">&#x27;bye&#x27;</span>]</span><br><span class="line">print(foo)</span><br><span class="line"><span class="comment">#--&gt;[&#x27;hi&#x27;, &#x27;bye&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#将一个变量赋值为另一个可变类型变量时，对数据的改动会反映在两个变量上</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#python可变类型（mutable）：列表，字典</span></span><br><span class="line"><span class="comment">#python不可变类型：数字，字符串，元组</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_to</span>(<span class="params">num, target=[]</span>):</span></span><br><span class="line">    target.append(num)</span><br><span class="line">    <span class="keyword">return</span> target</span><br><span class="line">add_to(<span class="number">1</span>)</span><br><span class="line"><span class="comment"># Output: [1]</span></span><br><span class="line">add_to(<span class="number">2</span>)</span><br><span class="line"><span class="comment"># Output: [1, 2]</span></span><br><span class="line">add_to(<span class="number">3</span>)</span><br><span class="line"><span class="comment"># Output: [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#在Python中当函数被定义时，默认参数只会运算⼀次</span></span><br></pre></td></tr></table></figure><h2 id="Enumerate"><a href="#Enumerate" class="headerlink" title="Enumerate"></a><em>Enumerate</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">my_list = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;grapes&#x27;</span>, <span class="string">&#x27;pear&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> index,name <span class="keyword">in</span> <span class="built_in">enumerate</span>(my_list,<span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span> index,name</span><br><span class="line"></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># 1 apple</span></span><br><span class="line"><span class="comment"># 2 banana</span></span><br><span class="line"><span class="comment"># 3 grapes</span></span><br><span class="line"><span class="comment"># 4 pear</span></span><br></pre></td></tr></table></figure><h2 id="Object-introspection"><a href="#Object-introspection" class="headerlink" title="Object introspection"></a><em>Object introspection</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span>(<span class="built_in">object</span>)</span><br><span class="line"><span class="comment"># It returns a list of attributes and methods belonging to an object</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">type</span>(<span class="built_in">object</span>)</span><br><span class="line"><span class="comment"># It returns the type of an object.</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">id</span>(<span class="built_in">object</span>)</span><br><span class="line"><span class="comment"># It returns the unique ids of various objects.</span></span><br></pre></td></tr></table></figure><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a><em>异常处理</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    file = <span class="built_in">open</span>(<span class="string">&#x27;test.txt&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line"><span class="keyword">except</span> Exception:</span><br><span class="line">    <span class="comment"># 打印⼀些异常⽇志，如果你想要的话</span></span><br><span class="line">    <span class="keyword">raise</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># try/else 在try不出现异常时触发</span></span><br></pre></td></tr></table></figure><h2 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a><em>Classes</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cal</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="comment"># pi is a class variable</span></span><br><span class="line">    pi = <span class="number">3.142</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, radius</span>):</span></span><br><span class="line">        <span class="comment"># self.radius is an instance variable</span></span><br><span class="line">        self.radius = radius</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">area</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.pi * (self.radius ** <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">a = Cal(<span class="number">32</span>)</span><br><span class="line">a.area()</span><br><span class="line"><span class="comment"># Output: 3217.408</span></span><br><span class="line">a.pi</span><br><span class="line"><span class="comment"># Output: 3.142</span></span><br><span class="line">a.pi = <span class="number">43</span></span><br><span class="line">a.pi</span><br><span class="line"><span class="comment"># Output: 43</span></span><br><span class="line"></span><br><span class="line">b = Cal(<span class="number">44</span>)</span><br><span class="line">b.area()</span><br><span class="line"><span class="comment"># Output: 6082.912</span></span><br><span class="line">b.pi</span><br><span class="line"><span class="comment"># Output: 3.142</span></span><br><span class="line">b.pi = <span class="number">50</span></span><br><span class="line">b.pi</span><br><span class="line"><span class="comment"># Output: 50</span></span><br></pre></td></tr></table></figure><h2 id="Function-caching"><a href="#Function-caching" class="headerlink" title="Function caching"></a><em>Function caching</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"><span class="meta">@lru_cache(<span class="params">maxsize=<span class="number">32</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n&lt;<span class="number">2</span>:<span class="keyword">return</span> n</span><br><span class="line">    <span class="keyword">return</span> fib(n-<span class="number">1</span>)+fib(n-<span class="number">2</span>)</span><br><span class="line">print([fib(n) <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">40</span>)])</span><br><span class="line"></span><br><span class="line">fib.cache_clear()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#这是一个被相同参数频繁调用的I/O密集的函数</span></span><br><span class="line"><span class="comment">#使用lru_cache可以使这段代码的运行时间从53.6s变为0s(笔者自测)</span></span><br></pre></td></tr></table></figure><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>本文漏掉了<code>set结构</code> <code>Ternary Operators(三元运算符）</code> <code>装饰器的高级应用</code><br><code>Global &amp; Return</code>(尽量return多值代替global)<br><code>__slots__魔法</code> <code>Virtual Environment</code> <code>Collections</code><br><code>推导式</code> <code>lambda 参数:操作</code> <code>Python C extensions</code><br><code>for/else</code>(else会在for循环正常结束时执行)<br><code>open函数</code> <code>Targeting Python 2+3</code> <code>Coroutines(协程)</code><br><code>上下文管理器</code></p><p>唔，终于弄完了😀————————<em><code>2020.8.9</code></em></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/befa.html"/>
      <url>posts/befa.html</url>
      
        <content type="html"><![CDATA[<h2 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h2><p><code>HEXO</code>是一个由 node.js 提供动力的静态站点生成器。它为 web 开发提供了强大的 API 来集成现有的 npm 包，并通过编程将某些内容插入到文章中。</p><h2 id="1-EJS-是什么？"><a href="#1-EJS-是什么？" class="headerlink" title="1.EJS 是什么？"></a>1.EJS 是什么？</h2><p>“E” 代表什么？可以表示 “可嵌入（Embedded）”，也可以是“高效（Effective）”、“优雅（Elegant）”或者是“简单（Easy）”。EJS 是一套简单的模板语言，帮你利用普通的 JavaScript 代码生成 HTML 页面。EJS 没有如何组织内容的教条；也没有再造一套迭代和控制流语法；有的只是普通的 JavaScript 代码而已。</p><h2 id="2-图标"><a href="#2-图标" class="headerlink" title="2.图标"></a>2.图标</h2><p><a href="http://www.fontawesome.com.cn/faicons/">http://www.fontawesome.com.cn/faicons/</a></p><p>直接 <code>fas fa-name</code> 就可以应用图标了</p><h2 id="部分代码"><a href="#部分代码" class="headerlink" title="部分代码"></a><em>部分代码</em></h2><p>以下为ejs,</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (site.categories &amp;&amp; site.categories.length &gt; <span class="number">0</span>) &#123; %&gt;</span><br><span class="line">&lt;%- partial(<span class="string">&#x27;_widget/category-radar&#x27;</span>) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"></span><br><span class="line">&lt;% <span class="keyword">if</span> (site.tags &amp;&amp; site.tags.length &gt; <span class="number">0</span>) &#123; %&gt;</span><br><span class="line">&lt;%- partial(<span class="string">&#x27;_widget/tag-wordcloud&#x27;</span>) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h2 id="3-网站重构"><a href="#3-网站重构" class="headerlink" title="3.网站重构"></a>3.网站重构</h2><p>//2020.11.30 hexo更新，改动改崩了，所以重构一个，wuwuwu~</p><p>//以后好好写博客，不再整了，够用就行。</p><blockquote><p>做事之前先备份</p></blockquote><p>参考网站：</p><ul><li><a href="https://www.jianshu.com/p/0a8d738a5620">https://www.jianshu.com/p/0a8d738a5620</a></li><li><a href="https://hexo.io/">https://hexo.io/</a></li><li><a href="https://github.com/blinkfox/hexo-theme-matery">https://github.com/blinkfox/hexo-theme-matery</a></li></ul><p>步骤：</p><ol><li>nodejs，git准备</li><li><code>npm install hexo-cli -g</code></li><li><code>hexo init blog</code> hexo初始化你的blog文件夹（需新建）</li><li><code>cd blog</code></li><li><code>npm install</code> </li><li><code>hexo s</code> 开启本地服务<blockquote><p>已完成初步，即默认的landscape主题</p></blockquote></li><li>添加matery主题，参照参考网站3</li><li>修改自己的matery主题</li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/9568.html"/>
      <url>posts/9568.html</url>
      
        <content type="html"><![CDATA[<h2 id="heappush-heap-item"><a href="#heappush-heap-item" class="headerlink" title="heappush(heap, item)"></a><em>heappush(heap, item)</em></h2><p>将 <code>item</code> 的值加入 <code>heap</code> 中，保持堆的不变性。</p><h2 id="heappop-heap"><a href="#heappop-heap" class="headerlink" title="heappop(heap)"></a><em>heappop(heap)</em></h2><p>弹出并返回 <code>heap</code> 的最小的元素，保持堆的不变性。</p><h2 id="heappushpop-heap-item"><a href="#heappushpop-heap-item" class="headerlink" title="heappushpop(heap, item)"></a><em>heappushpop(heap, item)</em></h2><p>将 <code>item</code> 放入堆中，然后弹出并返回 <code>heap</code> 的最小元素。</p><h2 id="heapify-x"><a href="#heapify-x" class="headerlink" title="heapify(x)"></a><em>heapify(x)</em></h2><p>将<code>list x</code> 转换成堆，原地，线性时间内。</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/ed64.html"/>
      <url>posts/ed64.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>第一题：<a href="https://leetcode-cn.com/problems/richest-customer-wealth/">https://leetcode-cn.com/problems/richest-customer-wealth/</a><br>第二题：<a href="https://leetcode-cn.com/problems/find-the-most-competitive-subsequence/">https://leetcode-cn.com/problems/find-the-most-competitive-subsequence/</a><br>第三题：<a href="https://leetcode-cn.com/problems/minimum-moves-to-make-array-complementary/">https://leetcode-cn.com/problems/minimum-moves-to-make-array-complementary/</a><br>第四题：<a href="https://leetcode-cn.com/problems/minimize-deviation-in-array/">https://leetcode-cn.com/problems/minimize-deviation-in-array/</a></p></blockquote><h2 id="二、找出最具竞争力的子序列"><a href="#二、找出最具竞争力的子序列" class="headerlink" title="二、找出最具竞争力的子序列"></a>二、找出最具竞争力的子序列</h2><p><strong>输入</strong>：<code>nums = [3,5,2,6]</code>, <code>k = 2</code><br><strong>输出</strong>：<code>[2,6]</code><br><strong>解释</strong>：在所有可能的子序列集合 <code>&#123;[3,5], [3,2], [3,6], [5,2], [5,6], [2,6]&#125;</code> 中，<code>[2,6]</code> 最具竞争力。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mostCompetitive</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; List[int]:</span></span><br><span class="line">        stack=[nums[<span class="number">0</span>]]</span><br><span class="line">        count=<span class="built_in">len</span>(nums)-k <span class="comment">#最多可删除</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums[<span class="number">1</span>:]:</span><br><span class="line">            <span class="keyword">while</span> stack <span class="keyword">and</span> i&lt;stack[-<span class="number">1</span>] <span class="keyword">and</span> count:</span><br><span class="line">                stack.pop()</span><br><span class="line">                count-=<span class="number">1</span></span><br><span class="line">            stack.append(i)</span><br><span class="line">        <span class="keyword">return</span> stack[:k]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 单调栈</span></span><br><span class="line"><span class="comment"># 用那个count和栈来简化问题</span></span><br></pre></td></tr></table></figure><h2 id="三、使数组互补的最少操作次数"><a href="#三、使数组互补的最少操作次数" class="headerlink" title="三、使数组互补的最少操作次数"></a>三、使数组互补的最少操作次数</h2><p>给你一个长度为 偶数 <code>n</code> 的整数数组 <code>nums</code> 和一个整数 <code>limit</code> 。每一次操作，你可以将 <code>nums</code> 中的任何整数替换为 <code>1</code> 到 <code>limit</code> 之间的另一个整数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minMoves</span>(<span class="params">self, A, limit</span>):</span></span><br><span class="line">        n = <span class="built_in">len</span>(A)</span><br><span class="line">        count = [<span class="number">0</span>] * (limit * <span class="number">2</span> + <span class="number">2</span>)</span><br><span class="line">        mi = [<span class="number">0</span>] * (limit * <span class="number">2</span> + <span class="number">2</span>)</span><br><span class="line">        ma = [<span class="number">0</span>] * (limit * <span class="number">2</span> + <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(n / <span class="number">2</span>):</span><br><span class="line">            a, b = A[i], A[~i]</span><br><span class="line">            count[a + b] += <span class="number">1</span></span><br><span class="line">            mi[<span class="built_in">min</span>(a, b)] += <span class="number">1</span></span><br><span class="line">            ma[<span class="built_in">max</span>(a, b) + limit + <span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">3</span>, limit * <span class="number">2</span> + <span class="number">1</span>):</span><br><span class="line">            ma[i] += ma[i - <span class="number">1</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(limit * <span class="number">2</span> - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            mi[i] += mi[i + <span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span>(n / <span class="number">2</span> - count[i] + mi[i] + ma[i] <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">2</span>, limit * <span class="number">2</span> + <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#copy</span></span><br></pre></td></tr></table></figure><h2 id="四、数组的最小偏移量"><a href="#四、数组的最小偏移量" class="headerlink" title="四、数组的最小偏移量"></a>四、数组的最小偏移量</h2><p>给你一个由 <code>n</code> 个正整数组成的数组 <code>nums</code> 。</p><p>你可以对数组的任意元素执行任意次数的两类操作：</p><ul><li>如果元素是 <strong>偶数</strong> ，<strong>除以</strong> <code>2</code></li><li>例如，如果数组是 <code>[1,2,3,4]</code> ，那么你可以对最后一个元素执行此操作，使其变成 <code>[1,2,3,2]</code></li><li>如果元素是 <strong>奇数</strong> ，<strong>乘上</strong> <code>2</code></li><li>例如，如果数组是 <code>[1,2,3,4]</code> ，那么你可以对第一个元素执行此操作，使其变成 <code>[2,2,3,4]</code></li></ul><p>数组的 <strong>偏移量</strong> 是数组中任意两个元素之间的 <strong>最大差值</strong> 。</p><p>返回数组在执行某些操作之后可以拥有的 <strong>最小偏移量</strong> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumDeviation</span>(<span class="params">self, A</span>):</span></span><br><span class="line">        n = <span class="built_in">len</span>(A)</span><br><span class="line">        heap = []</span><br><span class="line">        <span class="keyword">for</span> a <span class="keyword">in</span> A:</span><br><span class="line">            a2 = a</span><br><span class="line">            <span class="keyword">while</span> a2 % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">                a2 &gt;&gt;= <span class="number">1</span></span><br><span class="line">            heapq.heappush(heap, [a2, a])</span><br><span class="line">        res = <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)</span><br><span class="line">        ma = <span class="built_in">max</span>(a <span class="keyword">for</span> a, a0 <span class="keyword">in</span> heap)</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            a, a0 = heapq.heappop(heap)</span><br><span class="line">            res = <span class="built_in">min</span>(res, ma - a)</span><br><span class="line">            <span class="keyword">if</span> a % <span class="number">2</span> == <span class="number">1</span> <span class="keyword">or</span> a &lt; a0:</span><br><span class="line">                a *= <span class="number">2</span></span><br><span class="line">                ma = <span class="built_in">max</span>(ma, a)</span><br><span class="line">                heapq.heappush(heap, [a, a0])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment">#copy</span></span><br></pre></td></tr></table></figure><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p><code>11.29</code> 好久了，又一次被吊打。。。</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/2e65.html"/>
      <url>posts/2e65.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>第一题：<a href="https://leetcode-cn.com/problems/check-array-formation-through-concatenation/">https://leetcode-cn.com/problems/check-array-formation-through-concatenation/</a><br>第二题：<a href="https://leetcode-cn.com/problems/count-sorted-vowel-strings/">https://leetcode-cn.com/problems/count-sorted-vowel-strings/</a><br>第三题：<a href="https://leetcode-cn.com/problems/furthest-building-you-can-reach/">https://leetcode-cn.com/problems/furthest-building-you-can-reach/</a><br>第四题：<a href="https://leetcode-cn.com/problems/kth-smallest-instructions/">https://leetcode-cn.com/problems/kth-smallest-instructions/</a></p></blockquote><h2 id="一、能否连接形成数组"><a href="#一、能否连接形成数组" class="headerlink" title="一、能否连接形成数组"></a>一、能否连接形成数组</h2><p>输入：<code>arr</code> = [91,4,64,78], <code>pieces</code> = [[78],[4,64],[91]]<br>输出：<code>true</code><br>解释：依次连接 [91]、[4,64] 和 [78]</p><p>输入：<code>arr</code> = [49,18,16], <code>pieces</code> = [[16,18,49]]<br>输出：false<br>解释：即便数字相符，也不能重新排列 <code>pieces[0]</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canFormArray</span>(<span class="params">self, arr: List[<span class="built_in">int</span>], pieces: List[List[<span class="built_in">int</span>]]</span>) -&gt; bool:</span></span><br><span class="line">        <span class="keyword">for</span> piece <span class="keyword">in</span> pieces:</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> piece:</span><br><span class="line">                <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> arr: </span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            pre=arr.index(i[<span class="number">0</span>])</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> i[<span class="number">1</span>:]:</span><br><span class="line">                cur=arr.index(x)</span><br><span class="line">                <span class="keyword">if</span> cur-pre!=<span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                pre+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 有些繁杂，可以优化map</span></span><br></pre></td></tr></table></figure><h2 id="二、统计字典序元音字符串的数目"><a href="#二、统计字典序元音字符串的数目" class="headerlink" title="二、统计字典序元音字符串的数目"></a>二、统计字典序元音字符串的数目</h2><p><code>n=1 return 5</code>  [“a”,”e”,”i”,”o”,”u”]<br><code>n=2 return 15</code> [“aa”,”ae”,”ai”,”ao”,”au”,”ee”,”ei”,”eo”,”eu”,”ii”,”io”,”iu”,”oo”,”ou”,”uu”]</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法一：暴力模拟</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countVowelStrings</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        d=&#123;<span class="number">1</span>:[],<span class="number">2</span>:[<span class="number">1</span>],<span class="number">3</span>:[<span class="number">2</span>,<span class="number">1</span>],<span class="number">4</span>:[<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>],<span class="number">5</span>:[<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]&#125;</span><br><span class="line">        ans=[<span class="number">5</span>]</span><br><span class="line">        tmp=ans.copy()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> ans:</span><br><span class="line">                tmp+=d[j]</span><br><span class="line">            ans=tmp.copy()</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(ans)</span><br><span class="line"></span><br><span class="line"><span class="comment">#一开始有点炸，运行中ans变了，for也变了</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法二：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countVowelStrings</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        dp=[<span class="number">1</span>]*<span class="number">5</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">                <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(j+<span class="number">1</span>,<span class="number">5</span>):</span><br><span class="line">                    dp[j]+=dp[x]</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(dp)</span><br><span class="line"></span><br><span class="line"><span class="comment">#好好学一下,hzx</span></span><br></pre></td></tr></table></figure><h2 id="三、可以到达的最远建筑"><a href="#三、可以到达的最远建筑" class="headerlink" title="三、可以到达的最远建筑"></a>三、可以到达的最远建筑</h2><p>给你一个整数数组 <code>heights</code> ，表示建筑物的高度。另有一些砖块 <code>bricks</code> 和梯子 <code>ladders</code> 。</p><p>你从建筑物 <code>0</code> 开始旅程，不断向后面的建筑物移动，期间可能会用到砖块或梯子。</p><p>当从建筑物 <code>i</code> 移动到建筑物 <code>i+1</code>（下标 从 <code>0</code> 开始 ）时：</p><ul><li>如果当前建筑物的高度 <strong>大于或等于</strong> 下一建筑物的高度，则不需要梯子或砖块</li><li>如果当前建筑的高度 <strong>小于</strong> 下一个建筑的高度，您可以使用 <code>一架梯子</code> 或 <code>(h[i+1] - h[i])</code> 个砖块</li></ul><p>如果以最佳方式使用给定的梯子和砖块，返回你可以到达的最远建筑物的下标（下标 从 <code>0</code> 开始 ）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># TLE dfs</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">furthestBuilding</span>(<span class="params">self, heights: List[<span class="built_in">int</span>], bricks: <span class="built_in">int</span>, ladders: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">cur,bricks,ladders</span>):</span></span><br><span class="line">            <span class="keyword">if</span> bricks&lt;<span class="number">0</span>: <span class="keyword">return</span> cur-<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> ladders&lt;<span class="number">0</span>: <span class="keyword">return</span> cur-<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> cur+<span class="number">1</span>==<span class="built_in">len</span>(heights): <span class="keyword">return</span> cur</span><br><span class="line">            </span><br><span class="line">            height=heights[cur+<span class="number">1</span>]-heights[cur]</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> height&lt;<span class="number">0</span>: <span class="keyword">return</span> dfs(cur+<span class="number">1</span>,bricks,ladders)  <span class="comment"># 一：直接走</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">max</span>(dfs(cur+<span class="number">1</span>,bricks-height,ladders),dfs(cur+<span class="number">1</span>,bricks,ladders-<span class="number">1</span>))</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dfs(<span class="number">0</span>,bricks,ladders)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#优先队列+贪心</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">furthestBuilding</span>(<span class="params">self, heights: List[<span class="built_in">int</span>], bricks: <span class="built_in">int</span>, ladders: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        n = <span class="built_in">len</span>(heights)</span><br><span class="line">        <span class="comment"># 由于我们需要维护最大的 l 个值，因此使用小根堆</span></span><br><span class="line">        q = <span class="built_in">list</span>()</span><br><span class="line">        <span class="comment"># 需要使用砖块的 delta h 的和</span></span><br><span class="line">        sumH = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n):</span><br><span class="line">            deltaH = heights[i] - heights[i - <span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> deltaH &gt; <span class="number">0</span>:</span><br><span class="line">                heapq.heappush(q, deltaH)</span><br><span class="line">                <span class="comment"># 如果优先队列已满，需要拿出一个其中的最小值，改为使用砖块</span></span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(q) &gt; ladders:</span><br><span class="line">                    sumH += heapq.heappop(q)</span><br><span class="line">                <span class="keyword">if</span> sumH &gt; bricks:</span><br><span class="line">                    <span class="keyword">return</span> i - <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#设置一个优先队列来当梯子</span></span><br><span class="line"><span class="comment">#。。。。。。。。。。。。。。。。。。。</span></span><br></pre></td></tr></table></figure><h2 id="四、第-K-条最小指令"><a href="#四、第-K-条最小指令" class="headerlink" title="四、第 K 条最小指令"></a>四、第 K 条最小指令</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 优先确定高位 + 组合计数</span></span><br><span class="line"><span class="comment"># 分解成小问题</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kthSmallestPath</span>(<span class="params">self, destination: List[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; str:</span></span><br><span class="line">        v,h=destination</span><br><span class="line">        self.ans=<span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">v,h,k</span>):</span></span><br><span class="line">            <span class="keyword">if</span> h==<span class="number">0</span>:</span><br><span class="line">                self.ans+=<span class="string">&quot;V&quot;</span>*v</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                tmp=comb(h+v-<span class="number">1</span>,h-<span class="number">1</span>)  <span class="comment">#高位为h的个数</span></span><br><span class="line">                <span class="keyword">if</span> k&gt;tmp:</span><br><span class="line">                    self.ans+=<span class="string">&quot;V&quot;</span>    </span><br><span class="line">                    f(v-<span class="number">1</span>,h,k-tmp)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    self.ans+=<span class="string">&quot;H&quot;</span></span><br><span class="line">                    f(v,h-<span class="number">1</span>,k)</span><br><span class="line">        f(v,h,k)</span><br><span class="line">        <span class="keyword">return</span> self.ans</span><br></pre></td></tr></table></figure><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p><code>11.1</code></p><p>困难可以学会很多啊，很多时候并不能事事如愿。</p><p>最近看了《大话西游之大圣娶亲》，<br>有感动，更多的无奈与自嘲，<br>他好像一条狗啊，那个落寞的背影取经去了…</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/eea4.html"/>
      <url>posts/eea4.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>第一题：<a href="https://leetcode-cn.com/problems/slowest-key/">https://leetcode-cn.com/problems/slowest-key/</a><br>第二题：<a href="https://leetcode-cn.com/problems/arithmetic-subarrays/">https://leetcode-cn.com/problems/arithmetic-subarrays/</a><br>第三题：<a href="https://leetcode-cn.com/problems/path-with-minimum-effort/">https://leetcode-cn.com/problems/path-with-minimum-effort/</a><br>第四题：<a href="https://leetcode-cn.com/problems/rank-transform-of-a-matrix/">https://leetcode-cn.com/problems/rank-transform-of-a-matrix/</a></p></blockquote><h2 id="一、按键持续时间最长的键"><a href="#一、按键持续时间最长的键" class="headerlink" title="一、按键持续时间最长的键"></a>一、按键持续时间最长的键</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">slowestKey</span>(<span class="params">self, releaseTimes: List[<span class="built_in">int</span>], keysPressed: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        ans,t=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        tmp=[releaseTimes[<span class="number">0</span>]]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(releaseTimes)-<span class="number">1</span>):</span><br><span class="line">            tmp.append(releaseTimes[i+<span class="number">1</span>]-releaseTimes[i])</span><br><span class="line">        <span class="comment">#print(tmp)</span></span><br><span class="line">        <span class="keyword">for</span> i,time <span class="keyword">in</span> <span class="built_in">enumerate</span>(tmp):</span><br><span class="line">            <span class="keyword">if</span> time&gt;t: </span><br><span class="line">                ans,t=keysPressed[i],time</span><br><span class="line">            <span class="keyword">elif</span> time==t: </span><br><span class="line">                ans=<span class="built_in">max</span>(keysPressed[i],ans)</span><br><span class="line">            <span class="comment">#print(ans,t)</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><h2 id="二、等差子数组"><a href="#二、等差子数组" class="headerlink" title="二、等差子数组"></a>二、等差子数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">checkArithmeticSubarrays</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], l: List[<span class="built_in">int</span>], r: List[<span class="built_in">int</span>]</span>) -&gt; List[bool]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">arr</span>):</span></span><br><span class="line">            tmp=arr[<span class="number">1</span>]-arr[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(arr)-<span class="number">2</span>):</span><br><span class="line">                <span class="keyword">if</span> arr[i+<span class="number">2</span>]-arr[i+<span class="number">1</span>]!=tmp:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(r)):</span><br><span class="line">            t=nums[l[i]:r[i]+<span class="number">1</span>]</span><br><span class="line">            t.sort()</span><br><span class="line">            <span class="comment">#print(i,t)</span></span><br><span class="line">            ans.append(check(t))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><h2 id="三、-最小体力消耗路径"><a href="#三、-最小体力消耗路径" class="headerlink" title="三、 最小体力消耗路径"></a>三、 最小体力消耗路径</h2><p>你准备参加一场远足活动。给你一个二维 <code>rows x columns</code> 的地图 <code>heights</code> ，其中 <code>heights[row][col]</code> 表示格子 <code>(row, col)</code> 的高度。一开始你在最左上角的格子 <code>(0, 0)</code> ，且你希望去最右下角的格子 <code>(rows-1, columns-1)</code> （注意下标从 0 开始编号）。你每次可以往 <strong>上</strong>，<strong>下</strong>，<strong>左</strong>，<strong>右</strong> 四个方向之一移动，你想要找到耗费 <strong>体力</strong> 最小的一条路径。</p><p>一条路径耗费的 <strong>体力值</strong> 是路径上相邻格子之间 <strong>高度差绝对值</strong> 的 <strong>最大值</strong> 决定的。</p><p>请你返回从左上角走到右下角的最小 <strong>体力消耗值</strong> 。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dfs回溯超时</span></span><br><span class="line"><span class="comment"># 目的性不强，hhh</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumEffortPath</span>(<span class="params">self, heights: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        </span><br><span class="line">        self.ans=<span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)</span><br><span class="line">        rows,cols=<span class="built_in">len</span>(heights),<span class="built_in">len</span>(heights[<span class="number">0</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">x,y,travel,hp</span>):</span></span><br><span class="line">            <span class="keyword">if</span> x==rows-<span class="number">1</span> <span class="keyword">and</span> y==cols-<span class="number">1</span>: </span><br><span class="line">                self.ans=<span class="built_in">min</span>(self.ans,hp)</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">for</span> nx,ny <span class="keyword">in</span> [(x,y-<span class="number">1</span>),(x,y+<span class="number">1</span>),(x-<span class="number">1</span>,y),(x+<span class="number">1</span>,y)]:</span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span>&lt;=nx&lt;rows <span class="keyword">and</span> <span class="number">0</span>&lt;=ny&lt;cols:</span><br><span class="line">                    <span class="keyword">if</span> (nx,ny) <span class="keyword">not</span> <span class="keyword">in</span> travel:</span><br><span class="line">                        travel.append((nx,ny))</span><br><span class="line">                        dfs(nx,ny,travel,<span class="built_in">max</span>(hp,<span class="built_in">abs</span>(heights[nx][ny]-heights[x][y])))</span><br><span class="line">                        travel.pop()</span><br><span class="line">        dfs(<span class="number">0</span>,<span class="number">0</span>,[(<span class="number">0</span>,<span class="number">0</span>)],<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> self.ans</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># copy的bfs+二分:</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumEffortPath</span>(<span class="params">self, heights: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        m, n = <span class="built_in">len</span>(heights), <span class="built_in">len</span>(heights[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        mat = [[<span class="number">0</span>]*n <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(m)]</span><br><span class="line"></span><br><span class="line">        l, r = <span class="number">0</span>, <span class="number">999999</span></span><br><span class="line">        <span class="keyword">while</span> l &lt; r:</span><br><span class="line">            mid = (l + r)//<span class="number">2</span></span><br><span class="line">            mat = [[<span class="number">0</span>]*n <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(m)]</span><br><span class="line">            mat[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">            queue = deque([(<span class="number">0</span>, <span class="number">0</span>)])</span><br><span class="line">            <span class="keyword">while</span> queue:</span><br><span class="line">                i, j = queue.popleft()</span><br><span class="line">                <span class="keyword">for</span> x, y <span class="keyword">in</span> [(i+<span class="number">1</span>, j), (i-<span class="number">1</span>, j), (i, j+<span class="number">1</span>), (i, j-<span class="number">1</span>)]:</span><br><span class="line">                    <span class="keyword">if</span> <span class="number">0</span>&lt;=x&lt;m <span class="keyword">and</span> <span class="number">0</span>&lt;=y&lt;n <span class="keyword">and</span> mat[x][y]==<span class="number">0</span> <span class="keyword">and</span> <span class="built_in">abs</span>(heights[i][j] - heights[x][y]) &lt;= mid:</span><br><span class="line">                        queue.append((x, y))</span><br><span class="line">                        mat[x][y] = <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> mat[-<span class="number">1</span>][-<span class="number">1</span>] == <span class="number">1</span>:</span><br><span class="line">                r = mid</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                l = mid + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> l</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="四、矩阵转换后的秩"><a href="#四、矩阵转换后的秩" class="headerlink" title="四、矩阵转换后的秩"></a>四、矩阵转换后的秩</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># copy: 全排序+并查集</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">matrixRankTransform</span>(<span class="params">self, matrix: List[List[<span class="built_in">int</span>]]</span>) -&gt; List[List[int]]:</span> </span><br><span class="line">        R, C = <span class="built_in">len</span>(matrix), <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        res = [[<span class="number">0</span>]*C <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(R)]</span><br><span class="line">        countR, countC = [<span class="number">0</span>]*R, [<span class="number">0</span>]*C</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 按元素大小分别存储元素坐标</span></span><br><span class="line">        ls = collections.defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">for</span> r, row <span class="keyword">in</span> <span class="built_in">enumerate</span>(matrix): </span><br><span class="line">            <span class="keyword">for</span> c, val <span class="keyword">in</span> <span class="built_in">enumerate</span>(row): </span><br><span class="line">                ls[val].append((r, c))</span><br><span class="line">                </span><br><span class="line">        <span class="comment"># 并查集用于合并行或列相同的元素</span></span><br><span class="line">        union = <span class="built_in">list</span>(<span class="built_in">range</span>(LIM*<span class="number">2</span>))</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">find</span>(<span class="params">i</span>):</span> </span><br><span class="line">            <span class="keyword">if</span> union[i] == i: <span class="keyword">return</span> i</span><br><span class="line">            union[i] = find(union[i])</span><br><span class="line">            <span class="keyword">return</span> union[i]</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 按val从小到大遍历</span></span><br><span class="line">        pool = collections.defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">for</span> val <span class="keyword">in</span> <span class="built_in">sorted</span>(ls.keys()): </span><br><span class="line"></span><br><span class="line">            <span class="comment"># 用并查集合并行和列相同的元素并分组</span></span><br><span class="line">            <span class="keyword">for</span> r, c <span class="keyword">in</span> ls[val]: </span><br><span class="line">                union[find(r)] = find(c+LIM)</span><br><span class="line">            pool.clear()</span><br><span class="line">            <span class="keyword">for</span> r, c <span class="keyword">in</span> ls[val]: </span><br><span class="line">                pool[find(r)].append((r, c))</span><br><span class="line"></span><br><span class="line">                </span><br><span class="line">            <span class="comment"># 行和列相同的元素，共享相同的rank</span></span><br><span class="line">            <span class="keyword">for</span> group <span class="keyword">in</span> pool.values(): </span><br><span class="line">                rank = <span class="built_in">max</span>(<span class="built_in">max</span>((countR[r], countC[c])) <span class="keyword">for</span> r, c <span class="keyword">in</span> group) + <span class="number">1</span></span><br><span class="line">                <span class="keyword">for</span> r, c <span class="keyword">in</span> group: </span><br><span class="line">                    countR[r] = countC[c] = res[r][c] = rank</span><br><span class="line"></span><br><span class="line">                    <span class="comment"># 重置并查集</span></span><br><span class="line">                    union[r] = r</span><br><span class="line">                    union[c+LIM] = c+LIM</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/e9cc.html"/>
      <url>posts/e9cc.html</url>
      
        <content type="html"><![CDATA[<h2 id="lru-cache"><a href="#lru-cache" class="headerlink" title="_lru_cache_"></a>_lru_cache_</h2><p><code>@functools.lru_cache(maxsize=128, typed=False)</code><br>一个为函数提供缓存功能的装饰器，缓存 maxsize 组传入参数，在下次以相同参数调用时直接返回上一次的结果。用以<strong>节约高开销或I/O函数的调用时间</strong>。</p><ul><li>如果 maxsize 设为 None，LRU 特性将被禁用且缓存可无限增长。</li><li>如果 typed 设置为true，不同类型的函数参数将被分别缓存。例如， f(3) 和 f(3.0) 将被视为不同而分别缓存。</li></ul>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/6db0.html"/>
      <url>posts/6db0.html</url>
      
        <content type="html"><![CDATA[<h2 id="0-介绍"><a href="#0-介绍" class="headerlink" title="0.介绍"></a>0.介绍</h2><p>使用 JavaScript，HTML 和 CSS 构建跨平台的桌面应用程序</p><h2 id="1-基础"><a href="#1-基础" class="headerlink" title="1.基础"></a>1.基础</h2><p>官方文档：<a href="http://www.electronjs.org/docs">http://www.electronjs.org/docs</a></p><p>构建一个demo：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/demopark/electron-api-demos-Zh_CN</span><br><span class="line">$ <span class="built_in">cd</span> electron-api-demos-Zh_CN</span><br><span class="line">$ npm install</span><br><span class="line">$ npm start</span><br></pre></td></tr></table></figure><p>Hello World!<br>We are using Node.js 12.16.3, Chromium 85.0.4183.93, and Electron 10.1.1.</p><h2 id="js库"><a href="#js库" class="headerlink" title="js库"></a>js库</h2><p><code>React</code> 是一个用于构建用户界面的 JAVASCRIPT 库。</p><p>React 主要用于构建UI，很多人认为 React 是 MVC 中的 V（视图）。</p><p>React 起源于 Facebook 的内部项目，用来架设 Instagram 的网站，并于 2013 年 5 月开源。</p><p><code>Vue.js</code>是一套构建用户界面的渐进式框架。</p><p>Vue 只关注视图层， 采用自底向上增量开发的设计。</p><p>Vue 的目标是通过尽可能简单的 API 实现响应的数据绑定和组合的视图组件。</p><blockquote><p>Electron 可以让你使用纯 JavaScript 调用丰富的原生(操作系统) APIs 来创造桌面应用。 你可以把它看作一个 Node. js 的变体，它专注于桌面应用而不是 Web 服务器端。</p></blockquote><blockquote><p><strong>两个核心:</strong><br>main-process<br>render-process</p></blockquote><blockquote><p><strong>三个部分:</strong><br><strong>chromium</strong>: for making web pages<br><strong>nodejs</strong>: for filesystems and networks<br><strong>native apis</strong>: for three systems</p></blockquote><p>应用架构：多窗口，单窗口</p><p>Electron在主进程和渲染进程中提供了大量API去帮助开发桌面应用程序， 在主进程和渲染进程中，你可以通过require的方式将其包含在模块中以此，获取Electron的API</p>]]></content>
      
      
      <categories>
          
          <category> 应用开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> electron </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/c6f.html"/>
      <url>posts/c6f.html</url>
      
        <content type="html"><![CDATA[<h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a><em>指针</em></h2><hr><h3 id="指针变量"><a href="#指针变量" class="headerlink" title="指针变量"></a>指针变量</h3><p><strong>指针是个变量，存放内存单元的地址。</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt; </span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123;    </span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">10</span>;  <span class="comment">//在内存中开辟一块空间    </span></span><br><span class="line">    <span class="keyword">int</span> *p = &amp;a; <span class="comment">//对变量a取址,赋值给指针变量p               </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>野指针</strong>——就是指针指向的位置是不可知的。指针变量如果在定义时未初始化，其值是随机的，这意味着此时的解引用，是去访问一个不确定的地址，其结果是不可知的。</p><p><strong>空指针</strong>——指针的值为NULL。</p></blockquote><hr><h3 id="指针类型"><a href="#指针类型" class="headerlink" title="指针类型"></a>指针类型</h3><p><strong>指针类型，决定了指针每移动一次所跨越的字节。</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a=<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span> *p=&amp;a;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p %p&quot;</span>,p,p+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//000000000061FE14 000000000061FE18</span></span><br><span class="line"><span class="comment">//移动了4个字节</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// type * 会定义一个变量为指针类型</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a=<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">short</span> *p=(<span class="keyword">short</span>*)&amp;a;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p %p&quot;</span>,p,p+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//000000000061FE14 000000000061FE16</span></span><br><span class="line"><span class="comment">//移动了2个字节</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//(type *)是指针的类型转变</span></span><br></pre></td></tr></table></figure><hr><h3 id="指针解引用，是在访问内存"><a href="#指针解引用，是在访问内存" class="headerlink" title="指针解引用，是在访问内存"></a>指针解引用，是在访问内存</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a=<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span>*      p= &amp;a;</span><br><span class="line">    *p=<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//可以看见定义时*符号可以在type与p间随意放</span></span><br><span class="line"><span class="comment">//解引用会访问指针类型相关的字节</span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>* pstr=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="keyword">while</span>(*pstr)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,*<span class="built_in">string</span>++);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h3 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h3><blockquote><p>为什么要用指针：</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">nicejob</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">    a=a*<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数对传递参数的操作仅仅是对拷贝的操作</span></span><br><span class="line"><span class="comment">//这时使用指针来改变函数外的值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> nicejob(<span class="keyword">int</span>* a)&#123;</span><br><span class="line">    *a=*a*<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*a通过解引用访问内存</span></span><br></pre></td></tr></table></figure><blockquote><p>随便找个变量放地址是可行的，如 <code>int p=&amp;a;</code><br>但为什么，还麻烦的用<code> int * p</code>呢？</p></blockquote><blockquote><p>为什么使用指针类型：</p><ol><li> 不容易混淆</li><li> 指针类型给出了指针改变的实际字节偏移量</li></ol></blockquote><hr><h3 id="二级指针，函数指针"><a href="#二级指针，函数指针" class="headerlink" title="二级指针，函数指针"></a>二级指针，函数指针</h3><p><strong>一级指针</strong>用途：</p><ul><li>可以利用一级指针改变函数外部的变量，还可以跨进程改变变量（外挂就是这么搞的）。</li><li>一级指针可以存储数组的首地址，并通过指针或者下标访问元素。</li><li>一级指针作为函数的返回值，返回地址；注意：不能返回指向栈的地址，因为函数执行完，变量就被回收了。</li><li>函数的参数有副本机制，传递实参时，新建一个变量，容纳传递过来的实参。特例：数组在函数参数中拒绝副本机制，数组作为参数时数组的首地址。</li><li>return也有副本机制，返回值保存在CPU寄存器中，因此函数的返回值不能取地址。</li><li>为什么指针要有类型，因为类型可以让编译器知道如何解析，还有步长。</li></ul><p><strong>二级指针</strong>，在二维数组中常见：<br><code>array[2][1]</code>等价的指针表示法：<code>*(*(array+2)+1)</code></p><p>函数指针：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &gt; y ? x : y;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">/* p 是函数指针 */</span></span><br><span class="line">    <span class="keyword">int</span> (* p)(<span class="keyword">int</span>, <span class="keyword">int</span>) = &amp; max; <span class="comment">// &amp;可以省略</span></span><br><span class="line">    <span class="keyword">int</span> a, b, c, d;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入三个数字:&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp; a, &amp; b, &amp; c);</span><br><span class="line"> </span><br><span class="line">    d = p(p(a, b), c);  <span class="comment">//等价d = max(max(a, b), c)</span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;最大的数字是: %d\n&quot;</span>, d);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="结构指针"><a href="#结构指针" class="headerlink" title="结构指针"></a>结构指针</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LEN 20</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">names</span> &#123;</span>          <span class="comment">//结构声明</span></span><br><span class="line">    <span class="keyword">char</span> first[LEN];</span><br><span class="line">    <span class="keyword">char</span> last[LEN];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">guy</span> &#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">names</span> <span class="title">handle</span>;</span> <span class="comment">//嵌套结构</span></span><br><span class="line">    <span class="keyword">float</span> income;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">guy</span> <span class="title">fellow</span>[2]=</span>&#123;  <span class="comment">//结构数组变量</span></span><br><span class="line">        &#123;</span><br><span class="line">            &#123;<span class="string">&quot;li&quot;</span>,<span class="string">&quot;hua&quot;</span>&#125;,</span><br><span class="line">            <span class="number">12000.00</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &#123;<span class="string">&quot;liu&quot;</span>,<span class="string">&quot;bei&quot;</span>&#125;,</span><br><span class="line">            <span class="number">23000.00</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">guy</span>* <span class="title">him</span>;</span> <span class="comment">//指向结构的指针</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;address #1: %p #2: %p\n&quot;</span>,&amp;fellow[<span class="number">0</span>],&amp;fellow[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    him=&amp;fellow[<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;pointer #1: %p #2: %p\n&quot;</span>,him,him+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;him-&gt;income is $%.2f\n(*him).income is $%.2f&quot;</span>,him-&gt;income,(*him).income);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">// address #1: 000000000061FDC0 #2: 000000000061FDEC</span></span><br><span class="line"><span class="comment">// pointer #1: 000000000061FDC0 #2: 000000000061FDEC</span></span><br><span class="line"><span class="comment">// him-&gt;income is $12000.00</span></span><br><span class="line"><span class="comment">// (*him).income is $12000.00</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="存储类"><a href="#存储类" class="headerlink" title="存储类"></a><em>存储类</em></h2><p><strong>auto</strong> 是局部变量的默认存储类, 限定变量只能在函数内部使用；</p><p><strong>register</strong> 代表了寄存器变量，不在内存中使用；</p><p><strong>static</strong> 是全局变量的默认存储类,表示变量在程序生命周期内可见；</p><p><strong>extern</strong> 表示全局变量，即对程序内所有文件可见，类似于Java中的public关键字；</p><h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a><em>枚举</em></h2><p>1、先定义枚举类型，再定义枚举变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">DAY</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">      MON=<span class="number">1</span>, TUE, WED, THU, FRI, SAT, SUN</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">DAY</span> <span class="title">day</span>;</span></span><br></pre></td></tr></table></figure><p>2、定义枚举类型的同时定义枚举变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">DAY</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">      MON=<span class="number">1</span>, TUE, WED, THU, FRI, SAT, SUN</span><br><span class="line">&#125; day;</span><br></pre></td></tr></table></figure><p>3、省略枚举名称，直接定义枚举变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">      MON=<span class="number">1</span>, TUE, WED, THU, FRI, SAT, SUN</span><br><span class="line">&#125; day;</span><br></pre></td></tr></table></figure><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a><em>字符串</em></h2><p><strong>定义</strong>：以 <code>null</code> 字符 <code>&#39;\0&#39;</code> 终止的一维字符数组。</p><p><code>&lt;string.h&gt;</code>中常用函数</p><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td><code>strcpy(s1,s2)</code></td><td>复制s2到s1</td></tr><tr><td><code>strcat(s1, s2)</code></td><td>连接s2到s1末尾</td></tr><tr><td><code>strlen()</code></td><td></td></tr><tr><td><code>strcmp(s1, s2)</code></td><td>比较s1、s2大小</td></tr><tr><td><code>strchr(s1, ch)</code></td><td>返回一个指针，指向字符串 s1 中字符 ch 的第一次出现的位置。</td></tr><tr><td><code>strstr(s1, s2)</code></td><td>返回一个指针，指向字符串 s1 中字符串 s2 的第一次出现的位置。</td></tr><tr><td><code>void *memset(void * str,int c,size_t n)</code></td><td>复制字符c 到str所指向的的前n个字符</td></tr></tbody></table><h2 id="stdio-h"><a href="#stdio-h" class="headerlink" title="stdio.h"></a><em>stdio.h</em></h2><table><thead><tr><th>函数原型</th><th>说明</th></tr></thead><tbody><tr><td><code>int fclose(FILE *stream)</code></td><td>关闭流 stream。刷新所有的缓冲区。</td></tr><tr><td><code>int fflush(FILE *stream)</code></td><td>刷新流 stream 的输出缓冲区。</td></tr><tr><td><code>void rewind(FILE *stream)</code></td><td>设置文件位置为给定流 stream 的文件的开头。</td></tr><tr><td><code>int printf(const char *format, ...)</code></td><td>发送格式化输出到标准输出 stdout。</td></tr><tr><td><code>int sprintf(char *str, const char *format, ...)</code></td><td>发送格式化输出到字符串。</td></tr><tr><td><code>int fgetc(FILE *stream)</code></td><td>从指定的流 stream 获取下一个字符（一个无符号字符），并把位置标识符往前移动。</td></tr><tr><td><code>char *fgets(char *str, int n, FILE *stream)</code></td><td>从指定的流 stream 读取一行，并把它存储在 str 所指向的字符串内。当读取 (n-1) 个字符时，或者读取到换行符时，或者到达文件末尾时，它会停止，具体视情况而定。</td></tr><tr><td><code>int snprintf(char *str, size_t size, const char *format, ...)</code></td><td>格式字符串到 str 中。</td></tr></tbody></table><hr><table><thead><tr><th>输入</th><th>输出</th><th>说明</th></tr></thead><tbody><tr><td><code>scanf()</code></td><td><code>printf()</code></td><td></td></tr><tr><td><code>fscanf(stdin,...)</code></td><td><code>fprintf(stdout,...)</code></td><td></td></tr><tr><td><code>getchar()</code></td><td><code>putchar()</code></td><td></td></tr><tr><td><code>gets()</code></td><td><code>puts()</code></td><td>遇到换行符结束</td></tr><tr><td><code>int getc(FILE *stream)</code></td><td></td><td>从文件读取字符，fgetc与getc差不多</td></tr><tr><td><code>fgets(str,n,fp)</code></td><td><code>fputs(str,fp)</code></td><td>最多只能读入n-1个字符到str，可存储<code>\n</code></td></tr><tr><td><code>gets_s(words,STLEN)</code></td><td></td><td></td></tr><tr><td></td><td><code>fprintf()</code></td><td><code>int fprintf(FILE *stream, const char *format, ...)</code></td></tr></tbody></table><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//snprintf</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> buffer[<span class="number">50</span>];</span><br><span class="line">    <span class="keyword">char</span>* s = <span class="string">&quot;runoobcom&quot;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 读取字符串并存储在 buffer 中</span></span><br><span class="line">    <span class="keyword">int</span> j = <span class="built_in">snprintf</span>(buffer, <span class="number">6</span>, <span class="string">&quot;%s\n&quot;</span>, s);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 输出 buffer及字符数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;string:%s \n character count = %d\n&quot;</span>, buffer, j);</span><br><span class="line">    <span class="comment">//不能完全存入时snprintf返回-1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="stdlib-h"><a href="#stdlib-h" class="headerlink" title="stdlib.h"></a><em>stdlib.h</em></h2><table><thead><tr><th>函数原型</th><th>说明</th></tr></thead><tbody><tr><td><code>double atof(const char *str)</code></td><td>把参数 str 所指向的字符串转换为一个浮点数（类型为 double 型）</td></tr><tr><td><code>int atoi(const char *str)</code></td><td></td></tr><tr><td><code>void *calloc(size_t nitems, size_t size)</code></td><td>分配所需的内存空间，并返回一个指向它的指针</td></tr><tr><td><code>void *malloc(size_t size)</code></td><td>malloc 和 calloc 之间的不同点是，malloc 不会设置内存为零，而 calloc 会设置分配的内存为零。</td></tr><tr><td><code>void free(void *ptr)</code></td><td>释放内存</td></tr><tr><td><code>void exit(int status)</code></td><td>立即终止调用进程<code>？？？</code></td></tr><tr><td><code>void qsort(void *base,nitems,size,func</code></td><td></td></tr></tbody></table><p>size_t 在这是一个库定义的变量类型，无符号整型。</p><p>关于动态内存:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">char</span> *str;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">/* 最初的内存分配 */</span></span><br><span class="line">   str = (<span class="keyword">char</span> *) <span class="built_in">malloc</span>(<span class="number">15</span>);  <span class="comment">//强制指针类型转变，读度1</span></span><br><span class="line">   <span class="built_in">strcpy</span>(str, <span class="string">&quot;runoob&quot;</span>);</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;String = %s,  Address = %u\n&quot;</span>, str, str);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//String = runoob,  Address = 3662685808</span></span><br><span class="line"> </span><br><span class="line">   <span class="comment">/* 重新分配内存 */</span></span><br><span class="line">   str = (<span class="keyword">char</span> *) <span class="built_in">realloc</span>(str, <span class="number">25</span>);</span><br><span class="line">   <span class="built_in">strcat</span>(str, <span class="string">&quot;.com&quot;</span>);</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;String = %s,  Address = %u\n&quot;</span>, str, str);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//String = runoob.com,  Address = 3662685808</span></span><br><span class="line"> </span><br><span class="line">   <span class="built_in">free</span>(str);</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">return</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="文件读写"><a href="#文件读写" class="headerlink" title="文件读写"></a><em>文件读写</em></h2><p>挑一段代码看看，，，，</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    FILE  *fp; <span class="comment">//创建 （文件指针类型） 变量 </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">3</span>][<span class="number">30</span>],temp[<span class="number">30</span>];</span><br><span class="line">    <span class="keyword">int</span> i,j,k,n=<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;input your strings:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        gets(str[i]);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        k=i;</span><br><span class="line">        <span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;n;j++)</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">strcmp</span>(str[k],str[j])&gt;<span class="number">0</span>)</span><br><span class="line">                k=j;</span><br><span class="line">        <span class="keyword">if</span>(k!=i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">strcpy</span>(temp,str[i]);</span><br><span class="line">            <span class="built_in">strcpy</span>(str[i],str[k]);</span><br><span class="line">            <span class="built_in">strcpy</span>(str[k],temp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;                 <span class="comment">//字符排序</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//函数原型 FILE *fopen( const char * filename, const char * mode );</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//单目运算符的优先级比双目的高</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>((fp=fopen(<span class="string">&quot;C:\\intel\\c.txt&quot;</span>,<span class="string">&quot;ab+&quot;</span>))==<span class="literal">NULL</span>) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\nCannot open file\nstrike any key exit\n&quot;</span>);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nthe new:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">fputs</span>(str[i],fp);</span><br><span class="line">        <span class="built_in">fputs</span>(<span class="string">&quot;\n&quot;</span>,fp);     <span class="comment">//写入内容</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,str[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(fp);   <span class="comment">//关闭文件</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="预处理器"><a href="#预处理器" class="headerlink" title="预处理器"></a><em>预处理器</em></h2><table><thead><tr><th>指令</th><th>描述</th></tr></thead><tbody><tr><td><code>#define</code></td><td>定义宏</td></tr><tr><td><code>#include</code></td><td>包含一个源代码文件</td></tr><tr><td><code>#undef</code></td><td>取消已定义的宏</td></tr><tr><td><code>#ifdef</code></td><td>如果宏已经定义，则返回真</td></tr><tr><td><code>#ifndef</code></td><td>如果宏没有定义，则返回真</td></tr><tr><td><code>#if</code></td><td>如果给定条件为真，则编译下面代码</td></tr><tr><td><code>#else</code></td><td>#if 的替代方案</td></tr><tr><td><code>#elif</code></td><td>如果前面的 #if 给定条件不为真，当前条件为真，则编译下面代码</td></tr><tr><td><code>#endif</code></td><td>结束一个 #if……#else 条件编译块</td></tr><tr><td><code>#error</code></td><td>当遇到标准错误时，输出错误消息</td></tr><tr><td><code>#pragma</code></td><td>使用标准化方法，向编译器发布特殊的命令到编译器中</td></tr></tbody></table><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一个课堂上的例子，避免函数库的嵌套调用</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __slnname__g_A__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>  __slnname_g_A__</span></span><br><span class="line"><span class="keyword">int</span> g_A = <span class="number">1</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><h2 id="命令行参数"><a href="#命令行参数" class="headerlink" title="命令行参数"></a><em>命令行参数</em></h2><p>命令行参数是使用 <code>main()</code> 函数参数来处理的，其中，<code>argc</code> 是指传入参数的个数，<code>argv[]</code> 是一个指针数组，指向传递给程序的每个参数。</p><ol><li><code>argv[0]</code> = _____.exe，<code>argv[1]</code> = 参数一，<code>argv[2]</code> = 参数二 ………</li><li>项目属性，调试中，可以更改命令行参数。cmd 中可直接输入命令行参数，如<code>a.exe argv1</code></li><li>程序中<code>argc</code>，<code>argv</code>已经是确定的值。</li></ol><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a><em>题目</em></h2><ol><li>分别统计纯英文文本文件中<strong>每一个字符个数</strong>、<strong>单词总的个数</strong>；要求统计结果输出到另外一个文件中，源文件和结果文件名均<strong>由命令行参数指定</strong>.</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span> </span>&#123;</span><br><span class="line"><span class="keyword">char</span> *in = argv[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">char</span> *out = argv[<span class="number">2</span>];</span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"></span><br><span class="line">FILE *fpout, *fpin;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ((fpin = fopen(in, <span class="string">&quot;r&quot;</span>)) == <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;输入文件打开失败\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> count[<span class="number">128</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">c = fgetc(fpin);</span><br><span class="line"><span class="keyword">int</span> flag = <span class="number">1</span>; <span class="comment">//flag表示读到字母或数字时是否可以cnt++</span></span><br><span class="line"><span class="keyword">while</span> (c != EOF) &#123;</span><br><span class="line"><span class="keyword">if</span> ( ((<span class="string">&#x27;0&#x27;</span> &lt;= c) &amp;&amp; (c &lt;= <span class="string">&#x27;9&#x27;</span>)) || ((<span class="string">&#x27;a&#x27;</span> &lt;= c) &amp;&amp; (c&lt;= <span class="string">&#x27;z&#x27;</span>)) || ((<span class="string">&#x27;A&#x27;</span> &lt;= c) &amp;&amp; (c &lt;= <span class="string">&#x27;Z&#x27;</span>)) )&#123;</span><br><span class="line"><span class="keyword">if</span> (flag)</span><br><span class="line">cnt++;</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %c\n&quot;</span>, flag,c);</span><br><span class="line">count[c] += <span class="number">1</span>;</span><br><span class="line">c = fgetc(fpin);</span><br><span class="line">&#125;</span><br><span class="line">fclose(fpin);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ((fpout = fopen(out, <span class="string">&quot;w&quot;</span>)) == <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;输出文件打开失败\n&quot;</span>);</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">fprintf</span>(fpout, <span class="string">&quot;单词个数为: %d\n&quot;</span>, cnt);</span><br><span class="line"></span><br><span class="line"><span class="built_in">fprintf</span>(fpout, <span class="string">&quot;\n===================================\n\n&quot;</span>);</span><br><span class="line"><span class="built_in">fprintf</span>(fpout, <span class="string">&quot;字符 \t 个数\n&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">128</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (count[i] &gt; <span class="number">0</span>)</span><br><span class="line"><span class="built_in">fprintf</span>(fpout, <span class="string">&quot;%3c: \t %d\n&quot;</span>, i, count[i]);</span><br><span class="line">&#125;</span><br><span class="line">fclose(fpout);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="all-fine"><a href="#all-fine" class="headerlink" title="all fine"></a><em>all fine</em></h2>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大一 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/7dd2.html"/>
      <url>posts/7dd2.html</url>
      
        <content type="html"><![CDATA[<h3 id="bisect"><a href="#bisect" class="headerlink" title="bisect"></a>bisect</h3><ul><li><code>bisect.bisect_left(a,x,lo=0,hi=len(a))</code></li></ul><ol><li>在 a 中找到 x 合适的插入点以<strong>维持有序</strong>。</li><li>如果 x 已经在 a 里存在，那么插入点会在已存在元素左边。</li><li>如果 a 是<code>list</code>，则返回值可以是 <code>list.insert()</code> 的第一个参数。</li><li>返回的<code>i</code>可以将数组 a 分成两部分。左侧是 <code>all(val &lt; x for val in a[lo:i])</code> ，右侧是 <code>all(val &gt;= x for val in a[i:hi])</code></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> bisect</span><br><span class="line">arr=[<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>]</span><br><span class="line">x=<span class="number">8</span></span><br><span class="line">bisect.bisect_left(arr,x)</span><br><span class="line"><span class="comment"># --&gt; 3</span></span><br></pre></td></tr></table></figure><ul><li><code>bisect.bisect_right(a, x, lo=0, hi=len(a))</code></li><li><code>bisect.bisect(a, x, lo=0, hi=len(a))</code><br>类似于 <code>bisect_left()</code>，但是返回的插入点是 a 中已存在元素 x 的右侧。</li></ul><h3 id="insort"><a href="#insort" class="headerlink" title="insort"></a>insort</h3><ul><li><code>bisect.insort_left(a, x, lo=0, hi=len(a))</code></li></ul><ol><li>相当于 a.<strong>insert</strong>(bisect.bisect_left(a, x, lo, hi), x)</li><li>注意搜索是 O(log n) 的，插入却是 O(n) 的。</li></ol><ul><li><code>bisect.insort_right(a, x, lo=0, hi=len(a))</code></li><li><code>bisect.insort(a, x, lo=0, hi=len(a))</code><br>类似于 <code>insort_left()</code>，但是把 x 插入到 a 中已存在元素 x 的右侧。</li></ul><h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">grade</span>(<span class="params">score, breakpoints=[<span class="number">60</span>,<span class="number">90</span>], grades=<span class="string">&#x27;FA&#x27;</span></span>):</span></span><br><span class="line">    i = bisect(breakpoints, score)</span><br><span class="line">    <span class="keyword">return</span> grades[i]</span><br><span class="line"></span><br><span class="line">[grade(score) <span class="keyword">for</span> score <span class="keyword">in</span> [<span class="number">33</span>,<span class="number">99</span>,<span class="number">90</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># output: [&#x27;F&#x27;,  &#x27;A&#x27;, &#x27;A&#x27;]</span></span><br></pre></td></tr></table></figure><p>官方文档：<a href="https://docs.python.org/zh-cn/3.8/library/bisect.html?highlight=bisect#module-bisect">https://docs.python.org/zh-cn/3.8/library/bisect.html?highlight=bisect#module-bisect</a></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/2199.html"/>
      <url>posts/2199.html</url>
      
        <content type="html"><![CDATA[<h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><p><a href="https://www.arduino.cn/thread-1066-1-1.html">https://www.arduino.cn/thread-1066-1-1.html</a><br><a href="https://www.jianshu.com/u/9dcb33c9d805">https://www.jianshu.com/u/9dcb33c9d805</a></p><h1 id="1-项目结构"><a href="#1-项目结构" class="headerlink" title="1.项目结构"></a>1.项目结构</h1><h2 id="setup"><a href="#setup" class="headerlink" title="setup()"></a>setup()</h2><hr><p>Arduino控制器<strong>通电或复位</strong>后，即会开始执行setup() 函数中的程序，该部分只会执行一次。<br>通常我们会在setup() 函数中<strong>完成Arduino的初始化设置，如配置I/O口状态，初始化串口等</strong>操作。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 给13号引脚连接的设备设置一个别名“led”</span></span><br><span class="line"><span class="keyword">int</span> led = <span class="number">13</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在板子启动或者复位重启后， setup部分的程序只会运行一次</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="comment">// 将“led”引脚设置为输出状态</span></span><br><span class="line">  pinMode(led, OUTPUT);     </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// setup部分程序运行完后，loop部分的程序会不断重复运行</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  digitalWrite(led, HIGH);   <span class="comment">// 点亮LED</span></span><br><span class="line">  delay(<span class="number">1000</span>);           <span class="comment">// 等待一秒钟</span></span><br><span class="line">  digitalWrite(led, LOW);   <span class="comment">// 通过将引脚电平拉低，关闭LED</span></span><br><span class="line">  delay(<span class="number">1000</span>);           <span class="comment">// 等待一秒钟</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="loop"><a href="#loop" class="headerlink" title="loop()"></a>loop()</h2><hr><p>在setup() 函数中的程序执行完后，Arduino会接着执行loop() 函数中的程序。而loop()函数是一个死循环，其中的程序会不断的重复运行。<br>通常我们会在loop() 函数中<strong>完成程序的主要功能，如驱动各种模块，采集数据等</strong>。</p><h2 id="main"><a href="#main" class="headerlink" title="main()"></a>main()</h2><hr><p>在进行Arduino开发时，没有像传统C/C++程序使用入口函数main。实际上<strong>main函数存在于Arduino核心库中，且仍然是程序的入口</strong>。<br>在Arduino核心库中可见main.cpp文件，其内容如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Arduino.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Declared weak in Arduino.h to allow user redefinitions.</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">atexit</span><span class="params">(<span class="keyword">void</span> (* <span class="comment">/*func*/</span> )())</span> </span>&#123; <span class="keyword">return</span> <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Weak empty variant initialization function.</span></span><br><span class="line"><span class="comment">// May be redefined by variant files.</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initVariant</span><span class="params">()</span> __<span class="title">attribute__</span><span class="params">((weak))</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initVariant</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setupUSB</span><span class="params">()</span> __<span class="title">attribute__</span><span class="params">((weak))</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setupUSB</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line"></span><br><span class="line">    initVariant();</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> defined(USBCON)</span></span><br><span class="line">    USBDevice.attach();</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    setup();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (;;) &#123;</span><br><span class="line">        loop();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//进行串口事件判断</span></span><br><span class="line">        <span class="keyword">if</span> (serialEventRun) serialEventRun();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="2-数字输入输出"><a href="#2-数字输入输出" class="headerlink" title="2.数字输入输出"></a>2.数字输入输出</h1><h2 id="pinMode-pin-mode"><a href="#pinMode-pin-mode" class="headerlink" title="pinMode(pin, mode)"></a>pinMode(pin, mode)</h2><hr><p>在使用输入或输出功能前，你需要先通过pinMode() 函数<strong>配置引脚的模式</strong>为输入模式或输出模式。</p><ul><li>参数<code>pin</code>为指定配置的引脚编号</li><li>参数<code>mode</code>为指定的配置模式</li><li>通常可用模式有三种:<ul><li><strong>INPUT</strong> 输入模式</li><li><strong>OUTPUT</strong> 输出模式</li><li><strong>INPUT_PULLUP</strong> 输入上拉模式</li></ul></li></ul><h2 id="digitalWrite-pin-value"><a href="#digitalWrite-pin-value" class="headerlink" title="digitalWrite(pin, value)"></a>digitalWrite(pin, value)</h2><hr><p>引脚配置成输出模式后，可使用digitalWrite() 让其输出高电平或者是低电平。</p><p>Arduino中输出的低电平为0V，输出的高电平为当前Arduino的工作电压。</p><h2 id="digitalRead-pin"><a href="#digitalRead-pin" class="headerlink" title="digitalRead(pin)"></a>digitalRead(pin)</h2><hr><p>返回得到的信号状态。</p><h1 id="3-模拟输入输出"><a href="#3-模拟输入输出" class="headerlink" title="3.模拟输入输出"></a>3.模拟输入输出</h1><h2 id="analogRead-pin"><a href="#analogRead-pin" class="headerlink" title="analogRead(pin)"></a>analogRead(pin)</h2><hr><p>模拟输入引脚是带有ADC（Analog-to-Digital Converter，模数转换器）功能的引脚。</p><p>它可以将外部输入的模拟信号转换为芯片运算时可以识别的数字信号，从而实现<strong>读入模拟值</strong>的功能。</p><p>Arduino Uno模拟输入功能有10位精度，即可以将0～5V的电压信号转换为0～1023的整数形式表示。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">光敏电阻检测环境光</span></span><br><span class="line"><span class="comment">http://www.arduino.cn/</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// 初始化串口</span></span><br><span class="line">  Serial.begin(<span class="number">9600</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// 读出当前光线强度，并输出到串口显示</span></span><br><span class="line">  <span class="keyword">int</span> sensorValue = analogRead(A0);</span><br><span class="line">  Serial.println(sensorValue);</span><br><span class="line">  delay(<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="analogWrite-pin-value"><a href="#analogWrite-pin-value" class="headerlink" title="analogWrite(pin,value)"></a>analogWrite(pin,value)</h2><hr><p>使用analogWrite() 函数实现PWM（脉冲宽度调制，一种模拟控制的方法）<strong>输出</strong>功能。<br>在Arduino Uno中，提供PWM功能的引脚为3、5、6、9、10、11。</p><p>在analogWrite() 和analogRead() 函数内部，已经完成了引脚的初始化，因此不用在Setup() 函数中进行初始化操作。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Fading</span></span><br><span class="line"><span class="comment">通过analogWrite() 函数实现呼吸灯效果</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ledPin = <span class="number">9</span>;    <span class="comment">// LED连接在9号引脚上</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span>  </span>&#123; </span><br><span class="line">  <span class="comment">// Setup部分不进行任何处理</span></span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span>  </span>&#123; </span><br><span class="line">  <span class="comment">// 从暗到亮，以每次加5的形式逐渐亮起来</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> fadeValue = <span class="number">0</span> ; fadeValue &lt;= <span class="number">255</span>; fadeValue +=<span class="number">5</span>) &#123; </span><br><span class="line">    <span class="comment">// 输出PWM</span></span><br><span class="line">    analogWrite(ledPin, fadeValue);         </span><br><span class="line">    <span class="comment">// 等待30ms，以便观察到渐变效果</span></span><br><span class="line">    delay(<span class="number">30</span>);                            </span><br><span class="line">  &#125; </span><br><span class="line"></span><br><span class="line">  <span class="comment">// 从亮到暗，以每次减5的形式逐渐暗下来</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> fadeValue = <span class="number">255</span> ; fadeValue &gt;= <span class="number">0</span>; fadeValue -=<span class="number">5</span>) &#123; </span><br><span class="line">    <span class="comment">// 输出PWM</span></span><br><span class="line">    analogWrite(ledPin, fadeValue);         </span><br><span class="line">    <span class="comment">// 等待30ms，以便观察到渐变效果</span></span><br><span class="line">    delay(<span class="number">30</span>);                            </span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="4-高级输入输出"><a href="#4-高级输入输出" class="headerlink" title="4.高级输入输出"></a>4.高级输入输出</h1><h2 id="tone"><a href="#tone" class="headerlink" title="tone()"></a>tone()</h2><hr><p>tone() 主要用于Arduino连接蜂鸣器或扬声器发声。</p><h2 id="pulseln"><a href="#pulseln" class="headerlink" title="pulseln"></a>pulseln</h2><hr><p>检测指定引脚上的脉冲信号宽度。</p><h2 id="外部中断"><a href="#外部中断" class="headerlink" title="外部中断"></a>外部中断</h2><hr><h1 id="5-时间控制"><a href="#5-时间控制" class="headerlink" title="5.时间控制"></a>5.时间控制</h1><h2 id="millis"><a href="#millis" class="headerlink" title="millis()"></a>millis()</h2><hr><p>获取Arduino通电后（或复位后）到现在的时间,单位毫秒ms</p><h2 id="delay"><a href="#delay" class="headerlink" title="delay()"></a>delay()</h2><hr><p>参数为时长，类型unsigned long，单位毫秒ms</p><h1 id="6-串口通信"><a href="#6-串口通信" class="headerlink" title="6.串口通信"></a>6.串口通信</h1><h2 id="begin"><a href="#begin" class="headerlink" title="begin()"></a>begin()</h2><hr><p>使用串口与计算机通信，需要先使用 <code>Serial.begin(speed)</code> 初始化Arduino的串口通信功能。<br>参数speed指串口通信波特率，常用波特率：300、600、1200、2400、4800、9600、14400、19200、28800、38400、57600、115200</p><h2 id="print"><a href="#print" class="headerlink" title="print()"></a>print()</h2><hr><p>串口初始化完成后，我们便可以使用 <code>Serial.print(val)</code> 或<code>Serial.println(val)</code> 向计算机发送信息了。<br>println会在输出完指定数据后，再输出一组回车换行符。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> counter=<span class="number">0</span>; <span class="comment">// 计数器</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// 初始化串口</span></span><br><span class="line">  Serial.begin(<span class="number">9600</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// 每loop循环一次，计数器变量加1</span></span><br><span class="line">counter = counter+<span class="number">1</span>;</span><br><span class="line"><span class="comment">// 输出变量</span></span><br><span class="line">Serial.print(counter);</span><br><span class="line"><span class="comment">// 输出字符</span></span><br><span class="line">Serial.print(‘:’);</span><br><span class="line"><span class="comment">// 输出字符串;</span></span><br><span class="line">Serial.println(<span class="string">&quot;Hellow World&quot;</span>);</span><br><span class="line">delay(<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="read"><a href="#read" class="headerlink" title="read()"></a>read()</h2><hr><p>调用该语句，每次都会返回一个字节的数据，这个返回值便是当前串口读取到的数据。</p><h1 id="7-关于Uno"><a href="#7-关于Uno" class="headerlink" title="7.关于Uno"></a>7.关于Uno</h1><p>Arduino UNO带有4个LED指示灯，作用分别如下：</p><p><strong>ON：</strong></p><p>电源指示灯。当Arduino通电时，ON灯会点亮。</p><p><strong>TX：</strong></p><p>串口发送指示灯。当使用USB连接到计算机且Arduino向计算机传输数据时，TX灯会点亮。</p><p><strong>RX：</strong></p><p>串口接收指示灯。当使用USB连接到计算机且Arduino接收到计算机传来的数据时，RX灯会点亮。</p><p><strong>L：</strong></p><p>可编程控制指示灯。该LED通过特殊电路连接到Arduino的13号引脚，当13号引脚为高电平或高阻态时，该LED 会点亮；低电平时，不会点亮。可以通过程序或者外部输入信号，控制该LED亮灭。</p>]]></content>
      
      
      <categories>
          
          <category> 硬件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> arduino </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/fa02.html"/>
      <url>posts/fa02.html</url>
      
        <content type="html"><![CDATA[<h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><p><font face="myfont" size=5>不因虚度年华而悔恨, 不因碌碌无为而羞愧。</font></p><h1 id="1-日记"><a href="#1-日记" class="headerlink" title="1.日记"></a>1.日记</h1><h2 id="10-3"><a href="#10-3" class="headerlink" title="10.3"></a><code>10.3</code></h2><p>人总会沉迷短暂的快乐。</p><h2 id="10-4"><a href="#10-4" class="headerlink" title="10.4"></a><code>10.4</code></h2><p>观看《灵笼》，⭐⭐⭐⭐⭐</p><p>心灵该是怎样的一种容器啊！！！</p><h2 id="10-5"><a href="#10-5" class="headerlink" title="10.5"></a><code>10.5</code></h2><p>戒游戏一个星期，说到做到。</p><p>多去看看外面的世界，了解自己</p><h2 id="10-7"><a href="#10-7" class="headerlink" title="10.7"></a><code>10.7</code></h2><blockquote><p>生活不是我们活过的日子，而是我们记住的日子。</p></blockquote><h2 id="10-8"><a href="#10-8" class="headerlink" title="10.8"></a><code>10.8</code></h2><p>今天试了一下<code>hexo-douban</code>的插件，有些鸡肋。</p><p>改不动这个hexo-matery，ejs代码看😵了</p><h2 id="10-9"><a href="#10-9" class="headerlink" title="10.9"></a><code>10.9</code></h2><p>坚持不住的时候，再坚持一下。加油！</p><p>下午逛了一大圈博客，相比之下这个博客挺棒的。<br>知足了，<font face="consolas" size=3 color='green'>i love you 3000.</font></p><p>更换域名，备案不了<br>参考：<a href="https://yafine66.gitee.io/posts/a170.html">https://yafine66.gitee.io/posts/a170.html</a></p><h2 id="10-13"><a href="#10-13" class="headerlink" title="10.13"></a><code>10.13</code></h2><p>不知不觉一年快过去了，可我究竟活了多久？</p><p>这真是个傻乎乎的问题。</p><h2 id="10"><a href="#10" class="headerlink" title="10.~~"></a><code>10.~~</code></h2><p>如履薄冰，云淡风轻</p><h2 id="10-26"><a href="#10-26" class="headerlink" title="10.26"></a><code>10.26</code></h2><p>记一下，leancloud【为产品开发提供后端支持】<br>同微信小程序的云一样，调用API使用</p><p>hhh~，最近的生活还好吧，<br>看了《楚门的世界》《小森林》</p>]]></content>
      
      
      <categories>
          
          <category> 日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大二 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/ee30.html"/>
      <url>posts/ee30.html</url>
      
        <content type="html"><![CDATA[<h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><p><font face="myfont" size=5>平静下来，去追求和谐</font></p><h1 id="1-日记"><a href="#1-日记" class="headerlink" title="1.日记"></a>1.日记</h1><h2 id="11-28"><a href="#11-28" class="headerlink" title="11.28"></a><code>11.28</code></h2><p>每个不被记录的日子，都可能是对时光的辜负</p><p>加油，憨</p>]]></content>
      
      
      <categories>
          
          <category> 日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大二 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/8a9a.html"/>
      <url>posts/8a9a.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>第一题：<a href="https://leetcode-cn.com/contest/season/2020-fall/problems/nGK0Fy/">https://leetcode-cn.com/contest/season/2020-fall/problems/nGK0Fy/</a><br>第二题：<a href="https://leetcode-cn.com/contest/season/2020-fall/problems/2vYnGI/">https://leetcode-cn.com/contest/season/2020-fall/problems/2vYnGI/</a><br>第三题：<a href="https://leetcode-cn.com/contest/season/2020-fall/problems/UlBDOe/">https://leetcode-cn.com/contest/season/2020-fall/problems/UlBDOe/</a><br>第四题：<a href="https://leetcode-cn.com/contest/season/2020-fall/problems/meChtZ/">https://leetcode-cn.com/contest/season/2020-fall/problems/meChtZ/</a><br>第五题：<a href="https://leetcode-cn.com/contest/season/2020-fall/problems/Za25hA/">https://leetcode-cn.com/contest/season/2020-fall/problems/Za25hA/</a></p></blockquote><h2 id="一、速算机器人"><a href="#一、速算机器人" class="headerlink" title="一、速算机器人"></a>一、速算机器人</h2><p>小扣在秋日市集发现了一款速算机器人。店家对机器人说出两个数字（记作 <code>x</code> 和 <code>y</code>），请小扣说出计算指令：</p><p><code>&quot;A&quot;</code> 运算：使 <code>x = 2 * x + y</code>；<br><code>&quot;B&quot;</code> 运算：使 <code>y = 2 * y + x</code>。<br>在本次游戏中，店家说出的数字为 <code>x = 1</code> 和 <code>y = 0</code>，小扣说出的计算指令记作仅由大写字母 <code>A</code>、<code>B</code> 组成的字符串 <code>s</code>，字符串中字符的顺序表示计算顺序，请返回最终 <code>x</code> 与 <code>y</code> 的和为多少。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calculate</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        x,y=<span class="number">1</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> i==<span class="string">&#x27;A&#x27;</span>: x=<span class="number">2</span>*x+y</span><br><span class="line">            <span class="keyword">else</span>: y=<span class="number">2</span>*y+x</span><br><span class="line">        <span class="keyword">return</span> x+y</span><br></pre></td></tr></table></figure><h2 id="二、早餐组合"><a href="#二、早餐组合" class="headerlink" title="二、早餐组合"></a>二、早餐组合</h2><p>小扣在秋日市集选择了一家早餐摊位，一维整型数组 <code>staple</code> 中记录了每种主食的价格，一维整型数组 <code>drinks</code> 中记录了每种饮料的价格。小扣的计划选择一份主食和一款饮料，且花费不超过 <code>x</code> 元。请返回小扣共有多少种购买方案。</p><p>注意：答案需要以 <code>1e9 + 7 (1000000007)</code> 为底取模，如：计算初始结果为：<code>1000000008</code>，请返回 <code>1</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">breakfastNumber</span>(<span class="params">self, staple: List[<span class="built_in">int</span>], drinks: List[<span class="built_in">int</span>], x: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        mod=<span class="number">1000000007</span></span><br><span class="line">        staple.sort()</span><br><span class="line">        drinks.sort()</span><br><span class="line">        ans=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> s <span class="keyword">in</span> staple:</span><br><span class="line">            a=bisect.bisect_right(drinks,x-s)</span><br><span class="line">            <span class="keyword">if</span> a:</span><br><span class="line">                ans+=bisect.bisect_right(drinks,x-s)</span><br><span class="line">            <span class="keyword">else</span>: </span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> ans%mod</span><br><span class="line"></span><br><span class="line"><span class="comment">### bisect的二分，防止超时。</span></span><br></pre></td></tr></table></figure><h2 id="三、秋叶收藏集"><a href="#三、秋叶收藏集" class="headerlink" title="三、秋叶收藏集"></a>三、秋叶收藏集</h2><p>小扣出去秋游，途中收集了一些红叶和黄叶，他利用这些叶子初步整理了一份秋叶收藏集 <code>leaves</code>， 字符串 <code>leaves</code> 仅包含小写字符 <code>r</code> 和 <code>y</code>， 其中字符 <code>r</code> 表示一片红叶，字符 y 表示一片黄叶。</p><p>出于美观整齐的考虑，小扣想要将收藏集中树叶的排列调整成「红、黄、红」三部分。每部分树叶数量可以不相等，但均需大于等于 1。每次调整操作，小扣可以将一片红叶替换成黄叶或者将一片黄叶替换成红叶。请问小扣最少需要多少次调整操作才能将秋叶收藏集调整完毕。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 思路：</span></span><br><span class="line"><span class="comment"># 1. 动态规划</span></span><br><span class="line"><span class="comment"># 2. dp[i][0]表示全部为红需要修改几次</span></span><br><span class="line"><span class="comment">#    dp[i][1]表示【红黄】需要修改几次</span></span><br><span class="line"><span class="comment">#    dp[i][2]表示【红黄红】需要修改几次</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumOperations</span>(<span class="params">self, leaves: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        n=<span class="built_in">len</span>(leaves)</span><br><span class="line">        dp=[[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>]= <span class="number">0</span> <span class="keyword">if</span> leaves[<span class="number">0</span>]==<span class="string">&#x27;r&#x27;</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n):</span><br><span class="line">            dp[i][<span class="number">0</span>]=dp[i-<span class="number">1</span>][<span class="number">0</span>]+(<span class="number">0</span> <span class="keyword">if</span> leaves[i]==<span class="string">&#x27;r&#x27;</span> <span class="keyword">else</span> <span class="number">1</span>)</span><br><span class="line">            dp[i][<span class="number">1</span>]=dp[i-<span class="number">1</span>][<span class="number">0</span>]+(<span class="number">0</span> <span class="keyword">if</span> leaves[i]==<span class="string">&#x27;y&#x27;</span> <span class="keyword">else</span> <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> i&gt;<span class="number">1</span>:</span><br><span class="line">                dp[i][<span class="number">1</span>]=<span class="built_in">min</span>(dp[i][<span class="number">1</span>],dp[i-<span class="number">1</span>][<span class="number">1</span>]+(<span class="number">0</span> <span class="keyword">if</span> leaves[i]==<span class="string">&#x27;y&#x27;</span> <span class="keyword">else</span> <span class="number">1</span>))</span><br><span class="line">                dp[i][<span class="number">2</span>]=dp[i-<span class="number">1</span>][<span class="number">1</span>]+(<span class="number">0</span> <span class="keyword">if</span> leaves[i]==<span class="string">&#x27;r&#x27;</span> <span class="keyword">else</span> <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> i&gt;<span class="number">2</span>:</span><br><span class="line">                dp[i][<span class="number">2</span>]=<span class="built_in">min</span>(dp[i][<span class="number">2</span>],dp[i-<span class="number">1</span>][<span class="number">2</span>]+(<span class="number">0</span> <span class="keyword">if</span> leaves[i]==<span class="string">&#x27;r&#x27;</span> <span class="keyword">else</span> <span class="number">1</span>))</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[n-<span class="number">1</span>][<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3种模式下的状态转移方程，可以的</span></span><br><span class="line"><span class="comment"># DP厉害啊，从无到有</span></span><br></pre></td></tr></table></figure><h2 id="四、快速公交"><a href="#四、快速公交" class="headerlink" title="四、快速公交"></a>四、快速公交</h2><p>小扣打算去秋日市集，由于游客较多，小扣的移动速度受到了人流影响：</p><p>小扣从 x 号站点移动至 x + 1 号站点需要花费的时间为 <code>inc</code>；<br>小扣从 x 号站点移动至 x - 1 号站点需要花费的时间为 <code>dec</code>。</p><p>现有 <code>m</code> 辆公交车，编号为 <code>0</code> 到 <code>m-1</code>。小扣也可以通过搭乘编号为 <code>i</code> 的公交车，从 <code>x</code> 号站点移动至 <code>jump[i]*x</code> 号站点，耗时仅为 <code>cost[i]</code>。小扣可以搭乘任意编号的公交车且搭乘公交次数不限。</p><p>假定小扣起始站点记作 <code>0</code>，秋日市集站点记作 <code>target</code>，请返回小扣抵达秋日市集最少需要花费多少时间。由于数字较大，最终答案需要对 <code>1000000007 (1e9 + 7)</code> 取模。</p><p>注意：小扣可在移动过程中到达编号大于 <code>target</code> 的站点。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">busRapidTransit</span>(<span class="params">self, target: <span class="built_in">int</span>, inc: <span class="built_in">int</span>, dec: <span class="built_in">int</span>, jump: List[<span class="built_in">int</span>], cost: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line"><span class="meta">        @lru_cache(<span class="params"><span class="literal">None</span></span>)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">min_cost</span>(<span class="params">target</span>):</span></span><br><span class="line">            <span class="keyword">if</span> target == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            cur_cost = inc * target  <span class="comment"># 1.直接走回站点</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(jump)):</span><br><span class="line">                <span class="keyword">if</span> target % jump[i] == <span class="number">0</span>:</span><br><span class="line">                    cur_cost = <span class="built_in">min</span>(cur_cost, min_cost(target // jump[i]) + cost[i])</span><br><span class="line">                    <span class="keyword">continue</span>  </span><br><span class="line">                <span class="comment"># 2.刚好有公交</span></span><br><span class="line">                cur_cost = <span class="built_in">min</span>(cur_cost, min_cost(target // jump[i]) + cost[i] + (target % jump[i]) * inc)</span><br><span class="line">                <span class="comment"># 3.往前走再公交</span></span><br><span class="line">                <span class="keyword">if</span> target &gt; <span class="number">1</span>:</span><br><span class="line">                    cur_cost = <span class="built_in">min</span>(cur_cost, min_cost(target // jump[i] + <span class="number">1</span>) + cost[i] + (jump[i] - target % jump[i]) * dec)</span><br><span class="line">                <span class="comment"># 4. 往后走再公交</span></span><br><span class="line">            <span class="keyword">return</span> cur_cost</span><br><span class="line">        mod = <span class="number">10</span> ** <span class="number">9</span> + <span class="number">7</span></span><br><span class="line">        <span class="keyword">return</span> min_cost(target) % mod</span><br><span class="line">        </span><br><span class="line"><span class="comment"># from copy</span></span><br><span class="line"><span class="comment"># 核心思想：记忆化递归</span></span><br><span class="line"><span class="comment"># 从终点回到起点，4种方式</span></span><br></pre></td></tr></table></figure><h2 id="五、追逐游戏"><a href="#五、追逐游戏" class="headerlink" title="五、追逐游戏"></a>五、追逐游戏</h2><p>秋游中的小力和小扣设计了一个追逐游戏。他们选了秋日市集景区中的 <code>N</code> 个景点，景点编号为 <code>1~N</code>。此外，他们还选择了 <code>N</code> 条小路，满足任意两个景点之间都可以通过小路互相到达，且不存在两条连接景点相同的小路。整个游戏场景可视作一个无向连通图，记作二维数组 <code>edges</code>，数组中以 <code>[a,b]</code> 形式表示景点 a 与景点 b 之间有一条小路连通。</p><p>小力和小扣只能沿景点间的小路移动。小力的目标是在最快时间内追到小扣，小扣的目标是尽可能延后被小力追到的时间。游戏开始前，两人分别站在两个不同的景点 <code>startA</code> 和 <code>startB</code>。每一回合，小力先行动，小扣观察到小力的行动后再行动。小力和小扣在每回合可选择以下行动之一：</p><ul><li>移动至相邻景点</li><li>留在原地</li></ul><p>如果小力追到小扣（即两人于某一时刻出现在同一位置），则游戏结束。若小力可以追到小扣，请返回最少需要多少回合；若小力无法追到小扣，请返回 -1。</p><p>注意：小力和小扣一定会采取最优移动策略。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">chaseGame</span>(<span class="params">self, edges: List[List[<span class="built_in">int</span>]], startA: <span class="built_in">int</span>, startB: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">get_cycle</span>(<span class="params">graph, start=startA</span>):</span></span><br><span class="line">            cycle = <span class="built_in">set</span>()</span><br><span class="line">            father = [-<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n + <span class="number">1</span>)]</span><br><span class="line">            depth = [-<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n + <span class="number">1</span>)]</span><br><span class="line">            father[start] = start</span><br><span class="line">            depth[start] = <span class="number">0</span></span><br><span class="line">            queue = [start]</span><br><span class="line">            i = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(queue):</span><br><span class="line">                u = queue[i]</span><br><span class="line">                <span class="keyword">for</span> v <span class="keyword">in</span> graph[u]:</span><br><span class="line">                    <span class="keyword">if</span> depth[v] &lt; <span class="number">0</span>:</span><br><span class="line">                        depth[v] = depth[u] + <span class="number">1</span></span><br><span class="line">                        father[v] = u</span><br><span class="line">                        queue.append(v)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">if</span> father[u] == v:</span><br><span class="line">                            <span class="keyword">continue</span></span><br><span class="line">                        <span class="keyword">while</span> depth[u] &gt; depth[v]:</span><br><span class="line">                            cycle.add(u)</span><br><span class="line">                            u = father[u]</span><br><span class="line">                        <span class="keyword">while</span> depth[v] &gt; depth[u]:</span><br><span class="line">                            cycle.add(v)</span><br><span class="line">                            v = father[v]</span><br><span class="line">                        <span class="keyword">while</span> u != v:</span><br><span class="line">                            cycle.add(u)</span><br><span class="line">                            cycle.add(v)</span><br><span class="line">                            u = father[u]</span><br><span class="line">                            v = father[v]</span><br><span class="line">                        cycle.add(u)</span><br><span class="line">                        <span class="keyword">return</span> cycle</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bfs</span>(<span class="params">graph, cycle, start, n</span>):</span></span><br><span class="line">            circle_pos = -<span class="number">1</span></span><br><span class="line">            min_arrival = <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)</span><br><span class="line">            arr = [-<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n + <span class="number">1</span>)]</span><br><span class="line">            arr[start] = <span class="number">0</span></span><br><span class="line">            queue = [start]</span><br><span class="line">            i = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(queue):</span><br><span class="line">                u = queue[i]</span><br><span class="line">                <span class="keyword">if</span> u <span class="keyword">in</span> cycle <span class="keyword">and</span> arr[u] &lt; min_arrival:</span><br><span class="line">                    circle_pos = u</span><br><span class="line">                    min_arrival = arr[u]</span><br><span class="line">                <span class="keyword">for</span> v <span class="keyword">in</span> graph[u]:</span><br><span class="line">                    <span class="keyword">if</span> arr[v] &lt; <span class="number">0</span>:</span><br><span class="line">                        arr[v] = arr[u] + <span class="number">1</span></span><br><span class="line">                        queue.append(v)</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> arr, circle_pos</span><br><span class="line">        n = <span class="built_in">len</span>(edges)</span><br><span class="line">        graph = [[] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n + <span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">for</span> u, v <span class="keyword">in</span> edges:</span><br><span class="line">            graph[u].append(v)</span><br><span class="line">            graph[v].append(u)</span><br><span class="line">        cycle = get_cycle(graph)</span><br><span class="line">        arrA, posA = bfs(graph, cycle, startA, n)</span><br><span class="line">        arrB, posB = bfs(graph, cycle, startB, n)</span><br><span class="line">        <span class="comment"># print(cycle)</span></span><br><span class="line">        <span class="comment"># print(arrA, posA, arrA[posA])</span></span><br><span class="line">        <span class="comment"># print(arrB, posB, arrB[posB])</span></span><br><span class="line">        <span class="keyword">if</span> arrA[startB] &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> arrA[startB]</span><br><span class="line">        <span class="keyword">if</span> arrA[posB] &gt; arrB[posB] + <span class="number">1</span> <span class="keyword">and</span> <span class="built_in">len</span>(cycle) &gt;= <span class="number">4</span>:</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        ans = arrA[startB]</span><br><span class="line">        queue = [startB]</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        arrived = <span class="built_in">set</span>(queue)</span><br><span class="line">        <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(queue):</span><br><span class="line">            u = queue[i]</span><br><span class="line">            <span class="keyword">for</span> v <span class="keyword">in</span> graph[u]:</span><br><span class="line">                <span class="keyword">if</span> v <span class="keyword">not</span> <span class="keyword">in</span> arrived <span class="keyword">and</span> arrA[v] &gt; arrB[v] + <span class="number">1</span>:</span><br><span class="line">                    arrived.add(v)</span><br><span class="line">                    queue.append(v)</span><br><span class="line">                    ans = <span class="built_in">max</span>(ans, arrA[v])</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    ans = <span class="built_in">max</span>(ans, arrA[v])</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># from copy</span></span><br></pre></td></tr></table></figure><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>二题选手，要好好努力了</p><p>多跟大佬学习，多刷知识</p>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode比赛 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/412e.html"/>
      <url>posts/412e.html</url>
      
        <content type="html"><![CDATA[<h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><hr><p>终于有些解脱了，等着科目二考试。。。<br>在这段时间里，我得去做些有意义的事，<br>所以写下这篇文章，每天更新一次，用来记录七月下这段时间以及自己的一些感受。</p><h1 id="1-开始吧"><a href="#1-开始吧" class="headerlink" title="1.开始吧"></a>1.开始吧</h1><hr><p><strong>DO</strong></p><ol><li>试试别踩白块物理外挂</li><li>试试OPENCV做OW脚本</li></ol><p><strong>DONE</strong></p><ol><li>···</li><li>···</li></ol><h2 id="7-14晚"><a href="#7-14晚" class="headerlink" title="7.14晚"></a><code>7.14晚</code></h2><p>观看<a href="https://space.bilibili.com/20259914?from=search&seid=5994959373714429448">B站稚晖君的视频</a><br>看<a href="http://www.woshicver.com/FirstSection/0_OpenCV-Python%20Tutorials/">opencv教程</a><br>更改本站样式</p><blockquote><p>电位器：是具有三个引出端、阻值可按某种变化规律调节的电阻元件</p><ol><li>用作分压器</li><li>用作变阻器</li><li>用作电流控制器</li></ol></blockquote><h2 id="7-15早"><a href="#7-15早" class="headerlink" title="7.15早"></a><code>7.15早</code></h2><p>上课<a href="https://www.icourse163.org/course/XJTU-1001647001">微机原理与接口技术</a><br>学用<a href="https://www.xmind.cn/">Xmind</a></p><blockquote><p>硬件系统</p><ul><li>外部设备：通过输入输出接口与计算机进行信息交互的电子设备</li><li>主机系统：CPU、存储器、输入输出接口、总线</li></ul></blockquote><blockquote><p>读取一条指令的流程：</p><ol><li>将指令所在地址<strong>赋给程序计数器PC</strong></li><li>PC内容送给地址寄存器AR，PC自动+1</li><li>AR内容通过地址总线送给内存储器，经<strong>地址译码器译码</strong>，选中相应单元</li><li>CPU的控制器发出读命令</li><li>把所选中单元的内容(即指令操作码)经数据总线送到数据寄存器DR</li><li>(<strong>指令译码</strong>)DR内容送到指令寄存器IR，再送到指令译码器ID</li></ol></blockquote><blockquote><p>（第三代微处理器）<br>&emsp;&emsp;&emsp;<strong>8088与8086</strong>：对外通道分别为8位、16位，内部都为16位</p></blockquote><blockquote><p><strong>8088/8086CPU特点</strong></p><ul><li>采用并行流水线【通过设置指令预取队列实现】</li><li>对内存空间实行分段管理【实模式存储器寻址】</li><li>支持协处理器</li></ul></blockquote><h2 id="7-17早"><a href="#7-17早" class="headerlink" title="7.17早"></a><code>7.17早</code></h2><p>上课<a href="https://www.icourse163.org/course/XJTU-1001647001">微机原理与接口技术</a></p><blockquote><p>实模型下的存储器寻址</p><ul><li>内存物理地址=<strong>段基地址</strong>x16+<strong>偏移地址</strong></li><li>段首的偏移地址：0000H</li></ul></blockquote><blockquote><p><strong>段寄存器</strong> （Segment Register）（8088为4个）</p><ul><li>作用：用于存放相应逻辑段(便于分时复用吧)的段基地址</li><li>分类：代码段CS，数据段DS，附加段ES，堆栈段SS</li><li>每类逻辑段的数量最多为64k</li></ul></blockquote><blockquote><p>小结</p><ul><li>对1MB内存空间的访问需要20位物理地址，而8088内部的16位编码通过内存地址变换变成20位</li><li>内存的分段是逻辑分段，不是物理段。每个内存单元的物理地址唯一，逻辑地址不唯一</li><li>EU 是 8086/8088 微处理器的执行部件(Execution Unit)</li><li>BIU 是 8086/8088 微处理器的总线接口部件(Bus Interface Unit)</li></ul></blockquote><p><img src="http://www.elecfans.com/uploads/allimg/110712/182555-110G2160I5496.jpg"></p><blockquote><p><strong>【指令系统】</strong></p><ul><li>指令格式： <strong>操作码</strong> &emsp;<strong>[操作数]</strong> ，**[操作数]**</li><li>三种操作数：立即数，寄存器操作数，存储器操作数(带[ ])</li></ul></blockquote><blockquote><p>操作数的寻址方式</p><ul><li>立即寻址</li><li>寄存器直接寻址</li><li>寄存器间接寻址，通过间址寄存器【BX，BP，SI，DI】(带[ ])</li><li>寄存器相对寻址</li></ul></blockquote><blockquote><p>一般指令对操作数的要求：</p><ul><li>两操作数字长必须相同</li><li>两操作数不允许同时为存储器操作数（在内存中）</li><li>两操作数不允许同时为段寄存器</li><li>源操作数是立即数时，目标操作数不能是段寄存器</li><li>IP和CS不作为目标操作数，FLAGS一般不作为操作数</li></ul></blockquote><p>一个汇编题目：将（*）的ASCII码2AH送入内存数据段1000H开始的100个单元中<br>代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">       MOV DI, 1000H    ；间址寄存器DI,赋给首地址</span><br><span class="line">       MOV CX, 64H      ；通用寄存器CX,计算count</span><br><span class="line">       MOV AL, 2AH      ; 通用寄存器AL,存入符号</span><br><span class="line">AGAIN: MOV [DI], AL</span><br><span class="line">       INC DI           ；DI+1</span><br><span class="line">       DEC CX           ；CX-1</span><br><span class="line">       JNZ AGAIN        ; CX！&#x3D;0继续</span><br><span class="line">       HLT</span><br></pre></td></tr></table></figure><p><img src="http://www.elecfans.com/uploads/allimg/110712/182555-110G2160P12B.jpg"></p><h2 id="7-19早"><a href="#7-19早" class="headerlink" title="7.19早"></a><code>7.19早</code></h2><p>上课<a href="https://www.icourse163.org/course/XJTU-1001647001">微机原理与接口技术</a><br>做题<a href="https://leetcode-cn.com/contest/weekly-contest-198">leetcode周赛198</a></p><blockquote><p>通用指令系统</p><ul><li><code>MOV dest, src</code></li><li><code>XCHG REG, MEM/REG</code></li><li><code>LEA REG, MEM</code></li><li><code>IN acc, PORT</code></li><li><code>OUT PORT, acc</code></li></ul></blockquote><blockquote><p>漏了指令系统这部分没学，漏了运算操作、串操作，程序控制类【CS,IP会改变执行方向】，感觉这门课远离了我想要的实践。<br>课程最后还是有些东西，芯片组合，汇编实现程序，一些芯片的引脚······<br>三态门，模电，数电，8253，D/A，A/D都是问题。。。</p></blockquote><h2 id="7-19晚"><a href="#7-19晚" class="headerlink" title="7.19晚"></a><code>7.19晚</code></h2><p>读书《人类群星闪耀时》</p><blockquote><p>豆瓣评论区都是大佬</p></blockquote><h2 id="7-20早"><a href="#7-20早" class="headerlink" title="7.20早"></a><code>7.20早</code></h2><p>再刷<a href="https://www.bilibili.com/video/BV19W411q7Fq?from=search&seid=12394289545937645210">Elon Musk演讲</a><br>People are mistaken when they think that technology just automatically improves. It does not automatically improve. It only improves if a lot of people work very hard to make it better, and actually I think it will degrade by itself. You look at great civilizations like Ancient Egypt, and they were able to make the pyramids, and they forgot how to do that.And the Romans, they built these incredible aqueducts. They forgot how to do it.</p><h2 id="7-21早"><a href="#7-21早" class="headerlink" title="7.21早"></a><code>7.21早</code></h2><p>学学c，pta<br>发现一个<a href="https://github.com/ix64/unlock-music">音乐格式转换项目</a>，它的<a href="https://moresound.tk/music/tool/">在线网页</a><br>写<a href="https://x-varywow.github.io/posts/d6d.html">硬件设计</a>这篇blog</p><blockquote><p>c中，大小写没看清，编辑器还不给提示，是真的……<br>emmm,漏掉&amp;也是坑。。</p></blockquote><h2 id="7-22早"><a href="#7-22早" class="headerlink" title="7.22早"></a><code>7.22早</code></h2><p>学硬件设计<br>写<a href="https://x-varywow.github.io/posts/d6d.html">硬件设计</a>这篇blog</p><h2 id="7-30晚"><a href="#7-30晚" class="headerlink" title="7.30晚"></a><code>7.30晚</code></h2><p>&emsp;一生是漫长又瑰奇的瞬息；<br>&emsp;&emsp;&emsp;&emsp;何谓枯荣又何谓云泥；<br>&emsp;像孤舟巡游，不为逝水追惜；<br>&emsp;&emsp;&emsp;&emsp;在初逢灯火，在别时钟磬；<br>&emsp;自在随心~<br>&emsp;&emsp;&emsp;&emsp; &emsp;&emsp;&emsp;     &emsp;&emsp;             ——–摘自歌曲《琉璃》</p><blockquote><p>ennnn,完结啦💖</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200730223606549.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center"><br><img src="https://img-blog.csdnimg.cn/2020073021573846.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center"></p>]]></content>
      
      
      <categories>
          
          <category> 日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大二 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/54fe.html"/>
      <url>posts/54fe.html</url>
      
        <content type="html"><![CDATA[<h1 id="澜"><a href="#澜" class="headerlink" title="澜"></a>澜</h1><hr><p><code>1</code><font size='4' face="Consolas">People come and go, we struggled with laughter and tears, and all the years have gone by, still I have you by my side.</font></p><p align="right">————《龙族》</p><hr><p><code>2</code><font size='5' face="myfont">离你越远，我爱你越深，我不禁叩问我自己，我所期望的究竟是幸福，还是走向幸福的过程.</font></p><p align="right">————佚名</p><hr><p><code>3</code><font size='5' face="myfont">那错过的人，那离去的脚步，那渐行渐远的路，就像是眼前的梧桐叶轻轻地飘落。</font></p><p align="right">————佚名</p><hr><p><code>4</code><font size='5' face="myfont">许多事在年少时想得很好，但真正到那一天来临，却又是另一番情景，生活不断为我们打折扣，送来沮丧。这就是真实的生活，幢憬再美丽，那也不可能为真，终究要面对。</font></p><p align="right">————佚名</p><hr><p><code>5</code><font size='5' face="myfont">有些事情即便可以从头再来，也很难再回到原点。纵然是相同的道路，人生可以两次路过，也不再会有原来的感觉。那些都是过去的事情了，人要向前走。</font></p><p align="right">————佚名</p><hr><p><code>6</code><font size='5' face="myfont">世上哪有什么天才，只有孜孜不倦的顽童。</font><br><font size='5' face="myfont">世上哪有什么完美，只有持之以恒的扮演。</font></p><p align="right">————佚名</p><hr><p><code>7</code><br><font size='4' face="Consolas">  How strange is the lot of us mortals! Each of us is here for a brief sojourn; for what purpose be knows not, though he sometimes thinks he senses it. But without deeper reflection one knows from daily life that one exists for other people-first of all for those upon whose smiles and well-being our own happiness is wholly dependent, and then for the many, unknown to us, to whose destinies we are bound by the ties of sympathy.</font></p><p align="right">————爱因斯坦</p><hr><p><code>8</code><br><font size='5' face="myfont">“自己”这个东西是看不见的，撞上一些别的什么，</font><br><font size='5' face="myfont">反弹回来，才会了解“自己”</font><br><font size='5' face="myfont">所以，跟很强的东西相碰撞</font><br><font size='5' face="myfont">然后才“自己”是什么，这才是自我。</font></p><p align="right">————山本耀司</p><hr><p><code>9</code><br><font size='5' face="myfont">其实这个东西还是随缘。。做好自己就挺好的，总有人看得到你的优点，不用太刻意的。</font></p><p align="right">————同学</p><hr><h1 id="网易云"><a href="#网易云" class="headerlink" title="网易云"></a>网易云</h1><hr><p><code>1</code><br><font size='5' face="myfont">弟子问老师：“您能谈谈人类的奇怪之处吗？”老师答道：“他们急于成长，然后又哀叹失去的童年；他们以健康换取金钱，不久后又想用金钱恢复健康。他们对未来焦虑不已，却又无视现在的幸福。因此，他们既不活在当下，也不活在未来.他们活着仿佛从来不会死亡。临死前，又仿佛从未活过。”</font></p><hr><p><code>2</code><br><font size='5' face="myfont">罗曼·罗兰有句名言，“世上只有一种英雄主义，就是在认清生活真相之后依然热爱生活。” 这种英雄主义最初级的表现形态就是——即使有被拒绝的可能，我依然要表达心中的想法。 一见钟情并非不靠谱，不好意思，刚认识就喜欢你。 喜欢你就要告诉你，大不了连朋友都做不成，反正我不缺朋友，只缺你。</font></p><hr><h1 id="豆瓣"><a href="#豆瓣" class="headerlink" title="豆瓣"></a>豆瓣</h1><h1 id="知乎"><a href="#知乎" class="headerlink" title="知乎"></a>知乎</h1><p><code>1</code><br><font size='5' face="myfont">不要轻易给如何人贴标签，人非圣贤，孰能无过，不要因为一个人的缺点而去否定其所有的优点。</font><br><font size='5' face="myfont">在看待一个人的时候，要回归到他最原始的属性上：他是个人。</font></p><p align="right">————知乎</p><hr><p><code>2</code><font size='5' face="myfont">在可预见的未来，人类都不可能参透生死和永恒，但即便须臾，我还是想多知道一点，多看一点，把世事里灰色区域的面积，尽量多挤压一点，使之变得黑白分明，是非可见。</font></p><p align="right">————知乎</p><hr><p><code>3</code><font size='5' face="myfont">期望值管理能力：Happiness=reality-expectations</font></p><p align="right">————知乎</p><hr><h1 id=""><a href="#" class="headerlink" title="~~"></a>~~</h1><p><font size='5' face="myfont">有时候我们所追求的，并不是一个结果。</font></p><p><font size='5' face="myfont">一但只追求结果，就容易想方设法抄近路。</font></p><p><font size='5' face="myfont">在抄近路的途中，人又容易迷失真相。</font></p><p><font size='5' face="myfont">慢慢地，做事的干劲也会消磨殆尽。</font></p><p><font size='5' face="myfont">所以有些时候，更重要的是：想要追求真相的意志。</font></p>]]></content>
      
      
      <categories>
          
          <category> other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 独立思考 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/cd81.html"/>
      <url>posts/cd81.html</url>
      
        <content type="html"><![CDATA[<h2 id="稀疏矩阵的转置"><a href="#稀疏矩阵的转置" class="headerlink" title="稀疏矩阵的转置"></a>稀疏矩阵的转置</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大二 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/8d87.html"/>
      <url>posts/8d87.html</url>
      
        <content type="html"><![CDATA[<h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><p>对栈的应用，中缀表达式的直接求值。</p><h1 id="1-代码实现"><a href="#1-代码实现" class="headerlink" title="1.代码实现"></a>1.代码实现</h1><p>项目包含：</p><ul><li>main.cpp</li><li>s.cpp</li><li>s.h</li></ul><h2 id="main-cpp"><a href="#main-cpp" class="headerlink" title="main.cpp"></a><em>main.cpp</em></h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;s.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> c, <span class="keyword">int</span> d, <span class="keyword">char</span> op)</span> </span>&#123;</span><br><span class="line"><span class="keyword">switch</span> (op) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>: <span class="keyword">return</span> c - d;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>: <span class="keyword">return</span> c + d;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>: <span class="keyword">return</span> c * d;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>: <span class="keyword">return</span> c / d;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;%&#x27;</span>: <span class="keyword">return</span> c % d;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;^&#x27;</span>: <span class="keyword">return</span> <span class="built_in">pow</span>(c, d);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calcu</span><span class="params">(<span class="keyword">char</span> a[])</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = <span class="built_in">strlen</span>(a);</span><br><span class="line"><span class="keyword">int</span> c, d;</span><br><span class="line">stackp num, op;</span><br><span class="line">init(num);</span><br><span class="line">init(op);</span><br><span class="line">push(op, <span class="string">&#x27;#&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">&#x27;0&#x27;</span> &lt;= a[i] &amp;&amp; a[i] &lt;= <span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">push(num, a[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line">gettop(op, x);</span><br><span class="line"></span><br><span class="line"><span class="comment">//栈外的优先级高，进栈</span></span><br><span class="line"><span class="keyword">if</span> (osp(a[i]) &gt; isp(x)) &#123;</span><br><span class="line">push(op, <span class="keyword">int</span>(a[i]));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//栈内的优先级高，出栈</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (osp(a[i]) &lt; isp(x)) &#123;</span><br><span class="line"><span class="keyword">while</span> (osp(a[i]) &lt; isp(x)) &#123;</span><br><span class="line">pop(num, d);</span><br><span class="line">pop(num, c);</span><br><span class="line">push(num, fun(c, d, x));    <span class="comment">//在pop op的时候计算</span></span><br><span class="line"></span><br><span class="line">pop(op, x);</span><br><span class="line">gettop(op, x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (osp(a[i]) &gt; isp(x)) &#123;</span><br><span class="line">push(op, <span class="keyword">int</span>(a[i]));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (osp(a[i]) == isp(x)) &#123;</span><br><span class="line">pop(op, x);</span><br><span class="line">gettop(op, x);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//处理栈中剩下的op符</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line">gettop(op, x);</span><br><span class="line"><span class="keyword">while</span> (x != <span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">pop(num, d);</span><br><span class="line">pop(num, c);</span><br><span class="line">push(num, fun(c, d, x));</span><br><span class="line"></span><br><span class="line">pop(op, x);</span><br><span class="line">gettop(op, x);</span><br><span class="line">&#125;</span><br><span class="line">gettop(num, x);</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">stackp s;</span><br><span class="line">init(s);</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> a[<span class="number">100</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the infix expression:\n&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;!!!! dont take # \n&quot;</span>);</span><br><span class="line">gets_s(a);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s = %d&quot;</span>, a, calcu(a));</span><br><span class="line"></span><br><span class="line">system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="s-cpp"><a href="#s-cpp" class="headerlink" title="s.cpp"></a><em>s.cpp</em></h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;s.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(stackp&amp;s)</span> </span>&#123;</span><br><span class="line">s = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">empty</span><span class="params">(<span class="keyword">const</span> stackp&amp; s)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> s == <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//change s</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(stackp &amp; s, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">stackp p = <span class="keyword">new</span> <span class="built_in">stack</span>;</span><br><span class="line"><span class="keyword">if</span> (p == <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;error\n&quot;</span>);</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">p-&gt;data = x;</span><br><span class="line">p-&gt;next = s;</span><br><span class="line">s = p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//change s</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(stackp&amp; s, <span class="keyword">int</span> &amp;x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (empty(s)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">stackp p = s;</span><br><span class="line">s = p-&gt;next;</span><br><span class="line">x = p-&gt;data;</span><br><span class="line"><span class="keyword">delete</span> p;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gettop</span><span class="params">(<span class="keyword">const</span> stackp&amp; s, <span class="keyword">int</span> &amp;x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (empty(s)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">x = s-&gt;data;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isp</span><span class="params">(<span class="keyword">char</span> ch)</span> </span>&#123;</span><br><span class="line"><span class="keyword">switch</span> (ch) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;#&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;^&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">7</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;%&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">8</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">osp</span><span class="params">(<span class="keyword">char</span> ch)</span> </span>&#123;</span><br><span class="line"><span class="keyword">switch</span> (ch) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;#&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">8</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;^&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">6</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;%&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="s-h"><a href="#s-h" class="headerlink" title="s.h"></a><em>s.h</em></h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __S_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __S_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4477)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125;<span class="built_in">stack</span>, *stackp;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(stackp &amp; s)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">empty</span><span class="params">(<span class="keyword">const</span> stackp &amp; s)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(stackp &amp;s, <span class="keyword">int</span> x)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(stackp &amp; s, <span class="keyword">int</span> &amp;x)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gettop</span><span class="params">(<span class="keyword">const</span> stackp &amp; s, <span class="keyword">int</span> &amp; x)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isp</span><span class="params">(<span class="keyword">char</span> ch)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">osp</span><span class="params">(<span class="keyword">char</span> ch)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><h1 id="2-小结"><a href="#2-小结" class="headerlink" title="2.小结"></a>2.小结</h1><p>主要就是那个calcu函数，伪代码理解：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> infix_expression:</span><br><span class="line">    <span class="keyword">if</span> i是数字：</span><br><span class="line">        放入数字栈</span><br><span class="line">    <span class="keyword">else</span>（i是操作符）：</span><br><span class="line">        <span class="keyword">if</span> 优先级高：</span><br><span class="line">            放入运算符栈</span><br><span class="line">        <span class="keyword">elif</span> 优先级低：</span><br><span class="line">            运算符栈pop，同时在数字栈中运算</span><br><span class="line">            调整运算符栈</span><br><span class="line">        <span class="keyword">if</span> 优先级相等：</span><br><span class="line">            调整运算符栈</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> op <span class="keyword">in</span> 运算符栈中的残留：</span><br><span class="line">    数字栈中运算</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> 数字栈中的唯一数字</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大二 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/fd16.html"/>
      <url>posts/fd16.html</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>文件结构：</p><ul><li><code>l.cpp</code>    定义链表功能函数<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;l.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">功能一。。。</span><br><span class="line">功能二。。。</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><code>l.h</code>      存放链表函数原型，结构体定义<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __L_H__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __L_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"></span><br><span class="line">结构体定义</span><br><span class="line">函数原型</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></li><li><code>main.cpp</code> 执行链表的操作<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;l.h&quot;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="单链表"><a href="#单链表" class="headerlink" title="单链表"></a>单链表</h2><p>分为不带头，带头，无说明则代码通用。 <code>***</code>说明通用</p><h3 id="l-h"><a href="#l-h" class="headerlink" title="l.h"></a><em>l.h</em></h3><ul><li><code>node</code> 链表的节点</li><li><code>nodep</code> 指向该节点的指针</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> elemtype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">lnode</span> &#123;</span></span><br><span class="line">elemtype data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">lnode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> node* nodep;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(nodep&amp; p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create_h</span><span class="params">(nodep&amp; p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create_t</span><span class="params">(nodep&amp; p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">free</span><span class="params">(nodep&amp; p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">travel</span><span class="params">(<span class="keyword">const</span> nodep&amp; p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">len</span><span class="params">(<span class="keyword">const</span> nodep&amp; p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">locate</span><span class="params">(<span class="keyword">const</span> nodep&amp; head,<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(nodep&amp; head)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(nodep&amp; head)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(nodep&amp; head)</span></span>;</span><br></pre></td></tr></table></figure><h3 id="init"><a href="#init" class="headerlink" title="init ***"></a><em>init</em> ***</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(nodep&amp; p)</span> </span>&#123;</span><br><span class="line">p = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="create"><a href="#create" class="headerlink" title="create"></a><em>create</em></h3><p>带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create_h</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line">head = <span class="keyword">new</span> node;</span><br><span class="line">head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>, n;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the node num:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">nodep tmp = <span class="keyword">new</span> node;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;tmp-&gt;data);</span><br><span class="line">tmp-&gt;next = head-&gt;next;</span><br><span class="line">head-&gt;next = tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>不带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create_h</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line">head = <span class="keyword">new</span> node;</span><br><span class="line">head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>, n;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the node num:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;head-&gt;data);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">nodep tmp = <span class="keyword">new</span> node;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;tmp-&gt;data);</span><br><span class="line">tmp-&gt;next = head;      <span class="comment">//步骤一：将新建的节点连上去</span></span><br><span class="line">head = tmp;            <span class="comment">//步骤二：改变头指针的位置</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//多了在首处填值的步骤</span></span><br></pre></td></tr></table></figure><h3 id="free"><a href="#free" class="headerlink" title="free ***"></a><em>free</em> ***</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">free</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span> (head) &#123;</span><br><span class="line">nodep tmp = head-&gt;next;</span><br><span class="line"><span class="keyword">delete</span> head;</span><br><span class="line">head = tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="travel"><a href="#travel" class="headerlink" title="travel"></a><em>travel</em></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">travel</span><span class="params">(<span class="keyword">const</span> nodep&amp; head)</span> </span>&#123;</span><br><span class="line">nodep tmp = head-&gt;next; <span class="comment">//带头，不带头的将tmp指向头</span></span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (tmp) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d: %d\n&quot;</span>, cnt, tmp-&gt;data);</span><br><span class="line">tmp = tmp-&gt;next;</span><br><span class="line">cnt++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="len"><a href="#len" class="headerlink" title="len"></a><em>len</em></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">len</span><span class="params">(<span class="keyword">const</span> nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">nodep tmp = head-&gt;next; <span class="comment">//带头，不带头的将tmp指向头</span></span><br><span class="line"><span class="keyword">while</span> (tmp) &#123;</span><br><span class="line">cnt += <span class="number">1</span>;</span><br><span class="line">tmp = tmp-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="locate"><a href="#locate" class="headerlink" title="locate"></a><em>locate</em></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">locate</span><span class="params">(<span class="keyword">const</span> nodep&amp; head,<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">nodep tmp = head-&gt;next; <span class="comment">//带头，不带头的将tmp指向头</span></span><br><span class="line"><span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (tmp) &#123;</span><br><span class="line"><span class="keyword">if</span> ((tmp-&gt;data) == n) <span class="keyword">return</span> i;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">tmp = tmp-&gt;next;</span><br><span class="line">i += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="insert"><a href="#insert" class="headerlink" title="insert"></a><em>insert</em></h3><p>不带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, num,i=<span class="number">2</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the address:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the num:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">nodep m = <span class="keyword">new</span> node;</span><br><span class="line">m-&gt;data = num;</span><br><span class="line">m-&gt;next = head;</span><br><span class="line">head = m;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">nodep p = head;</span><br><span class="line"><span class="keyword">while</span> (p) &#123;</span><br><span class="line"><span class="keyword">if</span> (i == n) &#123;</span><br><span class="line">nodep m = <span class="keyword">new</span> node;</span><br><span class="line">m-&gt;data = num;</span><br><span class="line">m-&gt;next = p-&gt;next;</span><br><span class="line">p-&gt;next = m;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;complete\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">i += <span class="number">1</span>;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;error input\n &quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, num, i = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the address:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the num:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line"></span><br><span class="line">nodep p = head;</span><br><span class="line"><span class="keyword">while</span> (p) &#123;</span><br><span class="line"><span class="keyword">if</span> (i == n) &#123;</span><br><span class="line">nodep m = <span class="keyword">new</span> node;</span><br><span class="line">m-&gt;data = num;</span><br><span class="line">m-&gt;next = p-&gt;next;</span><br><span class="line">p-&gt;next = m;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;complete\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">i += <span class="number">1</span>;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;error input\n &quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="del"><a href="#del" class="headerlink" title="del"></a><em>del</em></h3><p>不带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n,i=<span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the num should del:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"></span><br><span class="line">nodep p, q;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">q = head;</span><br><span class="line">head = head-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">p = head;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="literal">NULL</span> &amp;&amp; i &lt; n - <span class="number">1</span>) &#123;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (p == <span class="literal">NULL</span> || p-&gt;next == <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">q = p-&gt;next;</span><br><span class="line">p-&gt;next = q-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span> q;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, i = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the num should del:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"></span><br><span class="line">nodep p, q;</span><br><span class="line">p = head;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="literal">NULL</span> &amp;&amp; i &lt; n - <span class="number">1</span>) &#123;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (p == <span class="literal">NULL</span> || p-&gt;next == <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">q = p-&gt;next;</span><br><span class="line">p-&gt;next = q-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span> q;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="clear"><a href="#clear" class="headerlink" title="clear"></a><em>clear</em></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line">nodep p = head-&gt;next; <span class="comment">//带头，不带头的将p指向头</span></span><br><span class="line"><span class="keyword">while</span> (p) &#123;</span><br><span class="line">p-&gt;data = <span class="number">0</span>;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="双向循环链表"><a href="#双向循环链表" class="headerlink" title="双向循环链表"></a>双向循环链表</h2><p>分为不带头，带头，无说明则代码通用。 <code>***</code>说明通用</p><h3 id="l-h-1"><a href="#l-h-1" class="headerlink" title="l.h"></a><em>l.h</em></h3><ul><li><code>node</code> 链表的节点</li><li><code>nodep</code> 指向该节点的指针</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> elemtype;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">lnode</span> &#123;</span></span><br><span class="line">elemtype data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">lnode</span> *<span class="title">next</span>, *<span class="title">pre</span>;</span></span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> node* nodep;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(nodep&amp; p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create_h</span><span class="params">(nodep&amp; p)</span></span>; <span class="comment">//头插</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create_t</span><span class="params">(nodep&amp; p)</span></span>; <span class="comment">//尾插</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">free</span><span class="params">(nodep&amp; p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">travel</span><span class="params">(<span class="keyword">const</span> nodep&amp; p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">len</span><span class="params">(<span class="keyword">const</span> nodep&amp; p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">locate</span><span class="params">(<span class="keyword">const</span> nodep&amp; head, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(nodep&amp; head)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(nodep&amp; head)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(nodep&amp; head)</span></span>;</span><br></pre></td></tr></table></figure><h3 id="init-1"><a href="#init-1" class="headerlink" title="init ***"></a><em>init</em> ***</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(nodep&amp; p)</span> </span>&#123;</span><br><span class="line">p = <span class="keyword">new</span> node;</span><br><span class="line"><span class="keyword">if</span> (p == <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">p-&gt;next = p-&gt;pre = p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="create-1"><a href="#create-1" class="headerlink" title="create"></a><em>create</em></h3><p>不带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create_t</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line">nodep p = head, q;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the node num:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">n -= <span class="number">1</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;head-&gt;data);</span><br><span class="line"><span class="keyword">while</span> (n--) &#123;</span><br><span class="line">q = <span class="keyword">new</span> node;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;q-&gt;data);</span><br><span class="line">p-&gt;next = q;</span><br><span class="line">q-&gt;pre = p;</span><br><span class="line">q-&gt;next = head;</span><br><span class="line">head-&gt;pre = q;</span><br><span class="line">p = q;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create_t</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line">nodep p = head, q;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the node num:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"><span class="keyword">while</span> (n--) &#123;</span><br><span class="line">q = <span class="keyword">new</span> node;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;q-&gt;data);</span><br><span class="line">p-&gt;next = q;</span><br><span class="line">q-&gt;pre = p;</span><br><span class="line">q-&gt;next = head;</span><br><span class="line">head-&gt;pre = q;</span><br><span class="line">p = q;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="free-1"><a href="#free-1" class="headerlink" title="free ***"></a><em>free</em> ***</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">free</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line">nodep p;</span><br><span class="line">head-&gt;pre-&gt;next = <span class="literal">NULL</span>; <span class="comment">//设置断点</span></span><br><span class="line"><span class="keyword">while</span> (head-&gt;next) &#123;</span><br><span class="line">p = head-&gt;next;</span><br><span class="line">head-&gt;next = p-&gt;next;</span><br><span class="line"><span class="keyword">delete</span> p;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="travel-1"><a href="#travel-1" class="headerlink" title="travel"></a><em>travel</em></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">travel</span><span class="params">(<span class="keyword">const</span> nodep&amp; head)</span> </span>&#123;</span><br><span class="line">nodep tmp = head-&gt;next;  <span class="comment">//带头，不带头的将tmp指向头</span></span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d: %d\n&quot;</span>, cnt, tmp-&gt;data);</span><br><span class="line">tmp = tmp-&gt;next;</span><br><span class="line">cnt++;</span><br><span class="line">&#125; <span class="keyword">while</span> (tmp != head);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="len-1"><a href="#len-1" class="headerlink" title="len"></a><em>len</em></h3><p>不带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">len</span><span class="params">(<span class="keyword">const</span> nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">nodep tmp = head;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">cnt += <span class="number">1</span>;</span><br><span class="line">tmp = tmp-&gt;next;</span><br><span class="line">&#125; <span class="keyword">while</span> (tmp != head);</span><br><span class="line"><span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">len</span><span class="params">(<span class="keyword">const</span> nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">nodep tmp = head-&gt;pre;</span><br><span class="line"><span class="keyword">while</span> (tmp != head) &#123;</span><br><span class="line">cnt++;</span><br><span class="line">tmp = tmp-&gt;pre;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="locate-1"><a href="#locate-1" class="headerlink" title="locate"></a><em>locate</em></h3><p>不带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">locate</span><span class="params">(<span class="keyword">const</span> nodep&amp; head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">nodep tmp = head;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line"><span class="keyword">if</span> ((tmp-&gt;data) == n) <span class="keyword">return</span> i;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">tmp = tmp-&gt;next;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">while</span> (tmp != head);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">locate</span><span class="params">(<span class="keyword">const</span> nodep&amp; head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">nodep tmp = head-&gt;next;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (tmp != head) &#123;</span><br><span class="line"><span class="keyword">if</span> ((tmp-&gt;data) == n) <span class="keyword">return</span> i;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">tmp = tmp-&gt;next;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="insert-1"><a href="#insert-1" class="headerlink" title="insert"></a><em>insert</em></h3><p>不带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, num, i = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the address where insert:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the num:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line"></span><br><span class="line">nodep p = head;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">nodep m = <span class="keyword">new</span> node;</span><br><span class="line">m-&gt;data = num;</span><br><span class="line">m-&gt;pre = head-&gt;pre;</span><br><span class="line">m-&gt;next = head;</span><br><span class="line">head-&gt;pre-&gt;next = m;</span><br><span class="line">head-&gt;pre = m;</span><br><span class="line">head = m; </span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (p) &#123;</span><br><span class="line"><span class="keyword">if</span> (i == n) &#123;</span><br><span class="line">nodep m = <span class="keyword">new</span> node;</span><br><span class="line">m-&gt;data = num;</span><br><span class="line">m-&gt;pre = p;</span><br><span class="line">m-&gt;next = p-&gt;next;</span><br><span class="line">p-&gt;next-&gt;pre = m;</span><br><span class="line">p-&gt;next = m;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;complete\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">i += <span class="number">1</span>;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;error input\n &quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, num, i = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the address where to insert:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the num:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line"></span><br><span class="line">nodep p = head;</span><br><span class="line"><span class="keyword">while</span> (p) &#123;</span><br><span class="line"><span class="keyword">if</span> (i == n) &#123;</span><br><span class="line">nodep m = <span class="keyword">new</span> node;</span><br><span class="line">m-&gt;data = num;</span><br><span class="line"></span><br><span class="line">m-&gt;pre = p;</span><br><span class="line">m-&gt;next = p-&gt;next;</span><br><span class="line">p-&gt;next-&gt;pre = m;</span><br><span class="line">p-&gt;next = m;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;complete\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">i += <span class="number">1</span>;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;error input\n &quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="del-1"><a href="#del-1" class="headerlink" title="del"></a><em>del</em></h3><p>不带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, i = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the address of num should del:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"></span><br><span class="line">nodep p = head, q;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (i == n) &#123;</span><br><span class="line">p-&gt;pre-&gt;next = p-&gt;next;</span><br><span class="line">p-&gt;next-&gt;pre = p-&gt;pre;</span><br><span class="line"><span class="keyword">delete</span> p;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">i++; </span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125; <span class="keyword">while</span> (p != head);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>带头：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">del</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, i = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;input the address of num should del:\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"></span><br><span class="line">nodep p = head-&gt;next;</span><br><span class="line"><span class="keyword">while</span> (p != head) &#123;</span><br><span class="line"><span class="keyword">if</span> (i == n) &#123;</span><br><span class="line">p-&gt;pre-&gt;next = p-&gt;next;</span><br><span class="line">p-&gt;next-&gt;pre = p-&gt;pre;</span><br><span class="line"><span class="keyword">delete</span> p;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">i++;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="clear-1"><a href="#clear-1" class="headerlink" title="clear"></a><em>clear</em></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">(nodep&amp; head)</span> </span>&#123;</span><br><span class="line">nodep p = head-&gt;next; <span class="comment">//带头，不带头的将p指向头</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">p-&gt;data = <span class="number">0</span>;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125; <span class="keyword">while</span> (p != head);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>c语言真累。。。</p>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大二 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/2cb4.html"/>
      <url>posts/2cb4.html</url>
      
        <content type="html"><![CDATA[<h3 id="（一）数论与表示函数"><a href="#（一）数论与表示函数" class="headerlink" title="（一）数论与表示函数"></a>（一）数论与表示函数</h3><ol><li><p><code>math.ceil(x)</code><br>返回 x 的上限，即大于或者等于 x 的最小整数。</p></li><li><p><code>math.floor(x)</code><br>返回 x 的向下取整，小于或等于 x 的最大整数。</p></li><li><p><code>math.comb(n,k)</code>，<strong>3.8新功能</strong><br>返回不重复且无顺序地从 n 项中选择 k 项的方式总数。<br>当 k &lt;= n 时取值为 n! / (k! * (n - k)!)；当 k &gt; n 时取值为零。<br>也称为二项式系数，因为它等价于表达式 (1 + x) ** n 的多项式展开中第 k 项的系数。</p></li><li><p><code>math.fabs(x)</code><br>返回 x 的绝对值。</p></li><li><p><code>math.factorial(x)</code><br>以一个整数返回 x 的阶乘。如果 x 不是整数或为负数时则将引发ValueError。</p></li><li><p><code>math.gcd(a, b)</code><br>返回整数 a 和 b 的最大公约数。</p></li><li><p><code>math.isclose(a, b, *, rel_tol=1e-09, abs_tol=0.0)</code><br>若 a 和 b 的值比较接近则返回 True，否则返回 False。<br>根据给定的绝对和相对容差确定两个值是否被认为是接近的。</p></li><li><p><code>math.isinf(x)</code><br>如果 x 是正或负无穷大，则返回 True ，否则返回 False 。</p></li><li><p><code>math.modf(x)</code><br>返回 x 的小数和整数部分。两个结果都带有 x 的符号并且是浮点数。</p></li><li><p><code>math.perm(n, k=None)</code>，<strong>3.8新功能</strong><br>排列不重复且无顺序地从 n 项中选择 k 项的方式总数。<br>当 k &lt;= n 时取值为 n! / (n - k)!；当 k &gt; n 时取值为零。<br>如果 k 未指定或为 None，则 k 默认值为 n 并且函数将返回 n!。</p></li></ol><h3 id="（二）幂函数与对数函数"><a href="#（二）幂函数与对数函数" class="headerlink" title="（二）幂函数与对数函数"></a>（二）幂函数与对数函数</h3><ol start="11"><li><p><code>math.exp(x)</code><br>返回 e 次 x 幂。</p></li><li><p><code>math.log(x[, base ])</code><br>使用一个参数时，返回 x 的自然对数（底为 e ）。</p></li><li><p><code>math.sqrt(x)</code><br>返回 x 的平方根。</p></li></ol><h3 id="（三）三角函数与几何"><a href="#（三）三角函数与几何" class="headerlink" title="（三）三角函数与几何"></a>（三）三角函数与几何</h3><ol start="14"><li><p><code>math.asin(x)</code><br>以弧度为单位返回 x 的反正弦值。<br><code>math.acos(x)</code><br>以弧度为单位返回 x 的反余弦值。<br><code>math.atan(x)</code><br>以弧度为单位返回 x 的反正切值。<br><code>math.sin(x)</code><br>返回 x 弧度的正弦值。<br><code>math.cos(x)</code><br>返回 x 弧度的余弦值。<br><code>math.tan(x)</code><br>返回 x 弧度的正切值。</p></li><li><p><code>math.atan2(y, x)</code><br>以弧度为单位返回 atan(y / x) ，结果在 <code>(-pi,pi]</code> 之间。</p></li><li><p><code>math.dist(p, q)</code>，<strong>3.8新功能</strong><br>返回 p 与 q 两点之间的欧几里得距离（两点间直线距离），<code>sqrt(sum((px - qx) ** 2.0 for px, qx in zip(p, q)))</code>。以一个坐标序列（或可迭代对象）的形式给出。两个点必须具有相同的维度。</p></li><li><p> <code>math.hypot(*coordinates)</code><br>返回欧几里得范数，<code>sqrt(sum(x**2 for x in coordinates))</code>。这是从原点到坐标给定点的向量长度。</p></li><li><p><code>math.degrees(x)</code><br>将角度 x 从弧度转换为度数。<br><code>math.radians(x)</code><br>将角度 x 从度数转换为弧度。</p></li></ol><h3 id="（四）常数"><a href="#（四）常数" class="headerlink" title="（四）常数"></a>（四）常数</h3><ol start="20"><li><p><code>math.pi</code><br>数学常数 π = 3.141592…，精确到可用精度。</p></li><li><p><code>math.e</code><br>数学常数 e = 2.718281…，精确到可用精度。</p></li></ol><p><strong>小结</strong><br>本文基本包含math够用的函数。<br>未摘要的部分：</p><ul><li> 一些提高精度的函数</li><li> 双曲函数</li><li> 特殊函数，如伽马函数，统计等</li></ul><p>发现3.8新功能好好啊。</p><p><strong>实践</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> *</span><br><span class="line">ceil(<span class="number">3.9</span>),floor(<span class="number">3.9</span>)<span class="comment">#--&gt;4,3</span></span><br><span class="line">gcd(<span class="number">3</span>,-<span class="number">3</span>)           <span class="comment">#--&gt;3</span></span><br><span class="line">perm(<span class="number">5</span>)，perm(<span class="number">5</span>,<span class="number">2</span>)  <span class="comment">#--&gt;120,20</span></span><br><span class="line">log(<span class="number">100</span>,<span class="number">10</span>)         <span class="comment">#--&gt;2.0</span></span><br><span class="line">dist((<span class="number">0</span>,<span class="number">0</span>),(<span class="number">2</span>,<span class="number">2</span>))   <span class="comment">#--&gt;2.8284271247461903</span></span><br><span class="line">radians(<span class="number">180</span>)        <span class="comment">#--&gt;3.141592653589793</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020开学初</title>
      <link href="posts/f3a1.html"/>
      <url>posts/f3a1.html</url>
      
        <content type="html"><![CDATA[<hr><h2 id="title-Hello-World"><a href="#title-Hello-World" class="headerlink" title="title: Hello World"></a>title: Hello World</h2><h2 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h2><p>世界上很多东西，他们之间根本不存在因果关系。</p><p>如同鸡与蛋的关系，可只要给出个鸡或蛋就行了。</p><p>再比如，我学不了习因为我静不下心来，</p><p>可不学习怎么静下心来呢？</p><p>无聊的，大概只是无聊本身吧。</p><h2 id="1-开始"><a href="#1-开始" class="headerlink" title="1.开始"></a>1.开始</h2><ul><li><code>git clone</code> 弄项目到本地<blockquote><p>Fn+Ins可以粘贴</p></blockquote></li><li>找回torch环境</li><li>看不懂torch视频教程，</li></ul><p><strong>实验：</strong></p><p><strong>步进电机+ULN2003：</strong><br>&emsp;&emsp;比较精确慢速的马达。</p><p><strong>9g舵机：</strong><br>&emsp;&emsp;一般用于控制角度，180的范围。</p><p><strong>红外模块：</strong><br>&emsp;一、红外接收头<br>&emsp;&emsp;  红外遥控器发出的信号是一连串的二进制脉冲码。为了使其在无线传输过程中免受其他红外信号的干扰,通常都是先将其调制在特定的载波频率上,然后再经红外发射二极管发射出去,而红外线接收装置则要滤除其他杂波,叧接收该特定频率的信号并将其还原成二进制脉冲码,也就是解调.<br>&emsp;二、工作原理<br>&emsp;&emsp;  内置接收管将红外发射管发射出来癿光信号转换为微弱的电信号，此信号经由IC内部放大器进行放大，然后通过自动增益控制、带通滤波、解调变、波形整形后还原为遥控器发射出的原始编码，经由接收头的信号输出脚输入到电器上的编码识别电路。</p><h3 id="8-30"><a href="#8-30" class="headerlink" title="8.30"></a><code>8.30</code></h3><ul><li><code>print(&quot;\033[46;1m&quot;+&quot;attack&quot;+&quot;\033[0m&quot;)</code>这个可以更改字符颜色、粗细，末尾将格式复原</li><li>leetcode周赛204 ，吐了</li></ul><h3 id="8-31"><a href="#8-31" class="headerlink" title="8.31"></a><code>8.31</code></h3><ul><li>大学其实挺无趣的，</li><li>那就跟着自己，去做大事吧~~</li><li>真的喜欢和自己和睦共处</li></ul><h3 id="9-1"><a href="#9-1" class="headerlink" title="9.1"></a><code>9.1</code></h3><ul><li>再见了，<font color="#1E90FF">《逆水寒》</font> ，一个<font color="#FF00FF">令人惊艳</font> 的武侠游戏。</li><li>最美若初见，hhh~~</li></ul><h3 id="9-3"><a href="#9-3" class="headerlink" title="9.3"></a><code>9.3</code></h3><hr><ul><li><strong>数据结构</strong>，听课+自学+MOOC</li><li><strong>数据库</strong>，听课+自学</li><li><strong>电路分析</strong>，自学+MOOC</li><li><strong>概率统计</strong></li></ul><hr><ul><li><strong>语言学基础</strong></li><li>综合英语</li><li>视听说</li></ul><hr><ul><li>马克思原理</li><li>西方哲学</li><li>国别经济</li></ul><hr><p>时间零零散散的，问题不大~~</p><blockquote><p>今天的彩虹：</p></blockquote><img src="https://img-blog.csdnimg.cn/20200903232447960.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center" style="zoom:40%"><h3 id="9-4"><a href="#9-4" class="headerlink" title="9.4"></a><code>9.4</code></h3><p>观看《钢铁侠》</p><p><font color="#7B68EE" size=5>我曾踏足山巅，也曾跌入谷底，<br>而如今，二者都让我受益良多。</font></p><h3 id="9-7"><a href="#9-7" class="headerlink" title="9.7"></a><code>9.7</code></h3><p>钢铁侠3中烟火爆炸的时候，godfather!!!</p><h3 id="9-10"><a href="#9-10" class="headerlink" title="9.10"></a><code>9.10</code></h3><p>。。。蹉跎岁月？？？</p><p>哲学老师，经济老师，搞我啊<br>可能我状态不太好，<br>可这种课，硬把一个人塞进去，钉在位子上硬听3个小时。</p><p>还不如我多看看书，看看别人书评。<br>真蹉跎，</p><p>想去就去，我心中不会没有尺子，<br>我是我自己，我知道我在干嘛，可能在以后看来傻乎乎的</p><p>嗯，就这样了，自律、自由缺一不可，hh~~<br>其它时间嘛，多做些有意义的事，多思考，你是一个世界，不是一个傻傻的个体。</p><p>最后只有自己的经历，自己的思考，与他人的羁绊，才是最有意思的，不是吗？</p><p>花开堪折直须折，莫待无花空折枝。</p><p>我管你个憨憨</p><h3 id="9-11"><a href="#9-11" class="headerlink" title="9.11"></a><code>9.11</code></h3><p>守望先锋，先分开一段时间。</p><p>给我时间，我会变得更强，hh~~</p><h3 id="9-12"><a href="#9-12" class="headerlink" title="9.12"></a><code>9.12</code></h3><p>愿无岁月可回首，且以深情共余生。</p><p>对美的追求，对自己的通透。</p><blockquote></blockquote>]]></content>
      
      
      <categories>
          
          <category> 日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大二 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/9ba5.html"/>
      <url>posts/9ba5.html</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>为高效循环而创建<strong>迭代器</strong>的函数。</p><h2 id="product"><a href="#product" class="headerlink" title="product"></a><em>product</em></h2><p>参数：<code>(*iterables, repeat=1)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">product(<span class="string">&#x27;AB&#x27;</span>, <span class="string">&#x27;xy&#x27;</span>) <span class="comment">#--&gt; (&#x27;A&#x27;, &#x27;x&#x27;)，(&#x27;A&#x27;, &#x27;y&#x27;)，(&#x27;B&#x27;, &#x27;x&#x27;)，(&#x27;B&#x27;, &#x27;y&#x27;)</span></span><br><span class="line">product(<span class="built_in">range</span>(<span class="number">2</span>), repeat=<span class="number">3</span>) <span class="comment">#--&gt; 2*2*2，8个元组</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 笛卡儿积</span></span><br></pre></td></tr></table></figure><h2 id="permutations"><a href="#permutations" class="headerlink" title="permutations"></a><em>permutations</em></h2><p>参数：<code>(iterable, r=None)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">permutations(<span class="string">&#x27;ABCD&#x27;</span>, <span class="number">2</span>)  <span class="comment"># --&gt; AB AC AD BA BC BD CA CB CD DA DB DC</span></span><br><span class="line">permutations(<span class="built_in">range</span>(<span class="number">3</span>))   <span class="comment"># --&gt; 012 021 102 120 201 210</span></span><br></pre></td></tr></table></figure><h2 id="combinations"><a href="#combinations" class="headerlink" title="combinations"></a><em>combinations</em></h2><p>参数：<code>(iterable, r)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">combinations(<span class="string">&#x27;ABCD&#x27;</span>, <span class="number">2</span>)   <span class="comment"># --&gt; AB AC AD BC BD CD</span></span><br><span class="line">combinations(<span class="built_in">range</span>(<span class="number">4</span>), <span class="number">3</span>) <span class="comment"># --&gt; 012 013 023 123</span></span><br></pre></td></tr></table></figure><h2 id="combinations-with-replacement"><a href="#combinations-with-replacement" class="headerlink" title="combinations_with_replacement"></a><em>combinations_with_replacement</em></h2><p>参数：<code>(iterable, r)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">combinations_with_replacement(<span class="string">&#x27;ABC&#x27;</span>, <span class="number">2</span>) <span class="comment">#--&gt; AA AB AC BB BC CC</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#允许元素重复出现</span></span><br></pre></td></tr></table></figure><h2 id="accumulate"><a href="#accumulate" class="headerlink" title="accumulate"></a><em>accumulate</em></h2><p>参数：<code>(iterable[, func, *, initial=None])</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">accumulate([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])               <span class="comment">#--&gt; 1 3 6 10 15</span></span><br><span class="line">accumulate([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], initial=<span class="number">100</span>)  <span class="comment">#--&gt; 100 101 103 106 110 115</span></span><br><span class="line">accumulate([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], operator.mul) <span class="comment">#--&gt; 1 2 6 24 120</span></span><br></pre></td></tr></table></figure><h2 id="other"><a href="#other" class="headerlink" title="other"></a><em>other</em></h2><p>无限迭代器：<code>repeat()</code>, <code>count()</code>, <code>cycle()</code></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/4b99.html"/>
      <url>posts/4b99.html</url>
      
        <content type="html"><![CDATA[<p>Python 中赋值语句<strong>不复制对象</strong>，而是在目标和对象之间创建**绑定 (bindings)**关系。对于自身可变或者包含可变项的集合对象，开发者有时会需要生成其副本用于改变操作，进而避免改变原对象。</p><p>本模块提供了通用的浅层复制和深层复制操作:</p><ul><li><code>copy.copy()</code></li><li><code>copy.deepcopy()</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 关于拷贝的机制</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>]] <span class="comment">#原始对象</span></span><br><span class="line">b=a                 <span class="comment">#赋值，传对象的引用</span></span><br><span class="line">c=copy.copy(a)      <span class="comment">#浅拷贝</span></span><br><span class="line">d=copy.deepcopy(a)  <span class="comment">#深拷贝</span></span><br><span class="line"></span><br><span class="line">a.append(<span class="number">5</span>)</span><br><span class="line">a[<span class="number">3</span>].append(<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># --&gt;[1, 2, 3, [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;], 5]</span></span><br><span class="line"></span><br><span class="line">print(b)</span><br><span class="line"><span class="comment"># --&gt;[1, 2, 3, [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;], 5]</span></span><br><span class="line"></span><br><span class="line">print(c)</span><br><span class="line"><span class="comment"># --&gt;[1, 2, 3, [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]]</span></span><br><span class="line"></span><br><span class="line">print(d)</span><br><span class="line"><span class="comment"># --&gt;[1, 2, 3, [&#x27;a&#x27;, &#x27;b&#x27;]]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#关于同数据，字符串+=</span></span><br><span class="line"></span><br><span class="line">a=<span class="string">&quot;abc&quot;</span></span><br><span class="line">b=a</span><br><span class="line">print(<span class="built_in">id</span>(a),<span class="built_in">id</span>(b))  <span class="comment">#--&gt;1652389179952 1652389179952</span></span><br><span class="line">c=<span class="string">&quot;abc&quot;</span></span><br><span class="line">d=<span class="string">&quot;&quot;</span></span><br><span class="line">d+=c</span><br><span class="line">print(<span class="built_in">id</span>(c),<span class="built_in">id</span>(d))  <span class="comment">#--&gt;1652389179952 1652389179952</span></span><br><span class="line">print(d)            <span class="comment">#--&gt;abc</span></span><br><span class="line">d+=c</span><br><span class="line">print(d,<span class="built_in">id</span>(d),<span class="built_in">id</span>(c))<span class="comment">#--&gt;abcabc 1652431257904 1652389179952</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/4890.html"/>
      <url>posts/4890.html</url>
      
        <content type="html"><![CDATA[<h1 id="Counter"><a href="#Counter" class="headerlink" title="Counter"></a>Counter</h1><ol><li>一个 <code>Counter</code> 是一个 <code>dict</code> 的子类，用于计数可哈希对象。</li><li>元素从一个 <code>iterable</code> 被计数或从其他的 <code>mapping (or counter)</code>初始化.</li><li>设置一个计数为0不会从计数器中移去一个元素。使用 <code>del</code> 来删除它</li></ol><h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化:"></a><em>初始化:</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> *</span><br><span class="line">c = Counter()                           <span class="comment"># a new, empty counter</span></span><br><span class="line">c = Counter(<span class="string">&#x27;gallahad&#x27;</span>)                 <span class="comment"># a new counter from an iterable</span></span><br><span class="line">c = Counter(&#123;<span class="string">&#x27;red&#x27;</span>: <span class="number">4</span>, <span class="string">&#x27;blue&#x27;</span>: <span class="number">2</span>&#125;)      <span class="comment"># a new counter from a mapping</span></span><br><span class="line">c = Counter(cats=<span class="number">4</span>, dogs=<span class="number">8</span>)             <span class="comment"># a new counter from keyword args</span></span><br></pre></td></tr></table></figure><h2 id="elements"><a href="#elements" class="headerlink" title="elements()"></a><em>elements()</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#elements()返回一个迭代器</span></span><br><span class="line">c = Counter(a=<span class="number">4</span>, b=<span class="number">2</span>, c=<span class="number">0</span>, d=-<span class="number">2</span>)</span><br><span class="line"><span class="built_in">sorted</span>(c.elements())   <span class="comment">#--&gt;[&#x27;a&#x27;, &#x27;a&#x27;, &#x27;a&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;b&#x27;]</span></span><br></pre></td></tr></table></figure><h2 id="most-common"><a href="#most-common" class="headerlink" title="most_common()"></a><em>most_common()</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#相等个数的元素顺序随机</span></span><br><span class="line">Counter(<span class="string">&#x27;abracadabra&#x27;</span>).most_common(<span class="number">3</span>)   <span class="comment">#--&gt;[(&#x27;a&#x27;, 5), (&#x27;r&#x27;, 2), (&#x27;b&#x27;, 2)]</span></span><br></pre></td></tr></table></figure><h2 id="subtract"><a href="#subtract" class="headerlink" title="subtract()"></a><em>subtract()</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c = Counter(a=<span class="number">4</span>, b=<span class="number">2</span>, c=<span class="number">0</span>, d=-<span class="number">2</span>)</span><br><span class="line">d = Counter(a=<span class="number">1</span>, b=<span class="number">2</span>, c=<span class="number">3</span>, d=<span class="number">4</span>)</span><br><span class="line">c.subtract(d)</span><br><span class="line">c            <span class="comment">#--&gt;Counter(&#123;&#x27;a&#x27;: 3, &#x27;b&#x27;: 0, &#x27;c&#x27;: -3, &#x27;d&#x27;: -6&#125;)</span></span><br></pre></td></tr></table></figure><h2 id="一些用法："><a href="#一些用法：" class="headerlink" title="一些用法："></a><em>一些用法：</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sum</span>(c.values())                 <span class="comment"># total of all counts</span></span><br><span class="line">c.clear()                       <span class="comment"># reset all counts</span></span><br><span class="line"><span class="built_in">list</span>(c)                         <span class="comment"># list unique elements</span></span><br><span class="line"><span class="built_in">set</span>(c)                          <span class="comment"># convert to a set</span></span><br><span class="line"><span class="built_in">dict</span>(c)                         <span class="comment"># convert to a regular dictionary</span></span><br><span class="line">c.items()                       <span class="comment"># convert to a list of (elem, cnt) pairs</span></span><br><span class="line">Counter(<span class="built_in">dict</span>(list_of_pairs))    <span class="comment"># convert from a list of (elem, cnt) pairs</span></span><br><span class="line">c.most_common()[:-n-<span class="number">1</span>:-<span class="number">1</span>]       <span class="comment"># n least common elements</span></span><br><span class="line">+c                              <span class="comment"># remove zero and negative counts</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">words = re.findall(<span class="string">r&#x27;\w+&#x27;</span>, <span class="built_in">open</span>(<span class="string">&#x27;hamlet.txt&#x27;</span>).read().lower())</span><br><span class="line">Counter(words).most_common(<span class="number">10</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;--&gt;[(&#x27;the&#x27;, 1143), (&#x27;and&#x27;, 966), (&#x27;to&#x27;, 762), (&#x27;of&#x27;, 669), (&#x27;i&#x27;, 631),</span></span><br><span class="line"><span class="string">  (&#x27;you&#x27;, 554),  (&#x27;a&#x27;, 546), (&#x27;my&#x27;, 514), (&#x27;hamlet&#x27;, 471), (&#x27;in&#x27;, 451)]&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="deque"><a href="#deque" class="headerlink" title="deque"></a>deque</h1><p>类似<code>list</code>的容器，实现了在两端快速<code>append</code>和<code>pop</code></p><ul><li><code>append(x)</code></li><li><code>appendleft(x)</code></li><li><code>clear()</code></li><li><code>copy()</code>  浅拷贝</li><li><code>count(x)</code></li><li><code>extend()</code></li><li><code>insert(i,x)</code></li><li><code>pop()</code></li><li><code>reverse()</code></li></ul><h1 id="namedtuple"><a href="#namedtuple" class="headerlink" title="namedtuple()"></a>namedtuple()</h1><p>创建命名元组子类的工厂函数</p><h1 id="defaultdict"><a href="#defaultdict" class="headerlink" title="defaultdict"></a>defaultdict</h1><p>字典的子类，提供了一个工厂函数，为字典查询提供一个默认值。<br>常见用法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s = [(<span class="string">&#x27;yellow&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;blue&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;yellow&#x27;</span>, <span class="number">3</span>), (<span class="string">&#x27;blue&#x27;</span>, <span class="number">4</span>), (<span class="string">&#x27;red&#x27;</span>, <span class="number">1</span>)]</span><br><span class="line">d = defaultdict(<span class="built_in">list</span>)</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> s:</span><br><span class="line">    d[k].append(v)</span><br><span class="line"><span class="built_in">sorted</span>(d.items())  <span class="comment">#--&gt;[(&#x27;blue&#x27;, [2, 4]), (&#x27;red&#x27;, [1]), (&#x27;yellow&#x27;, [1, 3])]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/10df.html"/>
      <url>posts/10df.html</url>
      
        <content type="html"><![CDATA[<h2 id="python函数"><a href="#python函数" class="headerlink" title="python函数"></a><em>python函数</em></h2><p><code>re.match(pattern,str)</code><br>从字符串的起始位置匹配一个模式，如果不是起始位置匹配成功的话，match()就返回none。</p><p><code>re.search()</code><br>扫描整个字符串并返回第一个成功的匹配。</p><p><code>re.compile()</code><br>用于编译正则表达式，生成一个正则表达式（ Pattern ）对象，供 match() 和 search() 这两个函数使用。</p><p><code>re.findall()</code><br>在字符串中找到正则表达式所匹配的所有子串，并返回一个列表，如果没有找到匹配的，则返回空列表。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">print(re.match(<span class="string">&quot;h&quot;</span>,<span class="string">&quot;hello&quot;</span>))</span><br><span class="line">print(re.match(<span class="string">&quot;el&quot;</span>,<span class="string">&quot;hello&quot;</span>))</span><br><span class="line">print(re.match(<span class="string">&quot;h&quot;</span>,<span class="string">&quot;hello&quot;</span>).span())</span><br><span class="line"></span><br><span class="line"><span class="comment">#--&gt; &lt;re.Match object; span=(0, 1), match=&#x27;h&#x27;&gt;</span></span><br><span class="line"><span class="comment">#--&gt; None</span></span><br><span class="line"><span class="comment">#--&gt; (0,1)</span></span><br></pre></td></tr></table></figure><h2 id="正则符号"><a href="#正则符号" class="headerlink" title="正则符号"></a><em>正则符号</em></h2><hr><p><code>[ ]</code><br>匹配需要的字符<strong>集合</strong>，如<code>[1-3]</code>或<code>[123]</code>都是匹配1、2或者3。</p><hr><p><code>( )</code><br>捕获需要的字符。</p><hr><p><code>(?: )</code><br>非捕获分组。</p><hr><p><code>^</code>：脱字符号。<br><strong>方括号中加入</strong>脱字符号，就是匹配未列出的所有其他字符，如<code>[^a]</code>匹配除a以外的所有其他字符。</p><hr><p><code>\</code><br>和python字符串使用规则一样，可以匹配特殊字符本身。<br>如<code>\d</code>表示匹配0到9的任意一个数字字符，而<code>\\d</code>则表示匹配<code>\d</code>本身。</p><hr><p><code>|</code><br>相当于或</p><hr><p>多次匹配</p><ul><li><code>*</code> : 匹配前一个字符0到n次，如pytho*n可以匹配pythn、pytoon、pythooooon等。</li><li><code>?</code> : 匹配前一个字符0或1次。</li><li><code>+</code> : 匹配前一个字符1到n次。等价于<code>&#123;1,&#125;</code></li><li><code>&#123;n,m&#125;</code> : 匹配前一个字符n次到m次。</li><li><code>&#123;n&#125;</code>: 匹配前一个字符n次。</li></ul><hr><table><thead><tr><th>模式</th><th>描述</th></tr></thead><tbody><tr><td><code>^</code></td><td>匹配字符串的开头</td></tr><tr><td><code>$</code></td><td>匹配字符串的末尾。</td></tr><tr><td><code>.</code></td><td>匹配任意字符，除了换行符</td></tr><tr><td><code>\s</code></td><td>匹配任意空白字符，等价于 [\t\n\r\f]。</td></tr><tr><td><code>\S</code></td><td>匹配任意非空字符</td></tr><tr><td><code>\d</code></td><td>匹配任意数字，等价于 [0-9]。</td></tr><tr><td><code>\D</code></td><td>匹配任意非数字</td></tr><tr><td><code>\w</code></td><td>匹配数字字母下划线</td></tr><tr><td><code>\W</code></td><td>匹配非数字字母下划线</td></tr><tr><td><code>\A</code></td><td>匹配字符串开始</td></tr><tr><td><code>\z</code></td><td>匹配字符串结束</td></tr><tr><td><code>\b</code></td><td>匹配一个单词边界。例如， ‘er\b’ 可以匹配”never” 中的 ‘er’，但不能匹配 “verb” 中的 ‘er’。</td></tr></tbody></table><p>正则匹配修饰符<code>re.S</code>使 <code>.</code> 匹配包括换行在内的所有字符</p><h2 id="python实践"><a href="#python实践" class="headerlink" title="python实践"></a><em>python实践</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">re.findall(<span class="string">&quot;d(ds)*&quot;</span>,<span class="string">&quot;askldjasaddsa&quot;</span>) <span class="comment">#--&gt;[&#x27;&#x27;, &#x27;ds&#x27;]</span></span><br><span class="line">re.findall(<span class="string">&quot;d[ds]*&quot;</span>,<span class="string">&quot;askldjasaddsa&quot;</span>) <span class="comment">#--&gt;[&#x27;d&#x27;, &#x27;dds&#x27;]</span></span><br><span class="line">re.findall(<span class="string">&quot;d&#123;ds&#125;*&quot;</span>,<span class="string">&quot;askldjasaddsa&quot;</span>) <span class="comment">#--&gt;[]</span></span><br><span class="line">re.findall(<span class="string">&quot;d&#123;ds&#125;&quot;</span>,<span class="string">&quot;askldjasad&#123;ds&#125;a&quot;</span>) <span class="comment">#--&gt;[&#x27;d&#123;ds&#125;&#x27;]</span></span><br><span class="line">re.findall(<span class="string">&quot;ds?&quot;</span>,<span class="string">&quot;askldjasad&#123;dsssssss&#125;a&quot;</span>) <span class="comment">#--&gt;[&#x27;d&#x27;, &#x27;d&#x27;, &#x27;ds&#x27;]</span></span><br></pre></td></tr></table></figure><p>非贪婪模式与贪婪模式：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">re.<span class="built_in">compile</span>(<span class="string">&quot;/(\S*?)/&quot;</span>).findall(<span class="string">&quot;//asd/sdsa/asda&quot;</span>) <span class="comment">#--&gt;[&#x27;&#x27;, &#x27;sdsa&#x27;]</span></span><br><span class="line">re.<span class="built_in">compile</span>(<span class="string">&quot;/(\S*)/&quot;</span>).findall(<span class="string">&quot;//asd/sdsa/asda&quot;</span>)  <span class="comment">#--&gt;[&#x27;/asd/sdsa&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#&#x27;*&#x27;, &#x27;+&#x27;，和 &#x27;?&#x27; 修饰符都是贪婪的；它们在字符串进行尽可能多的匹配。</span></span><br></pre></td></tr></table></figure><h2 id="正则实践"><a href="#正则实践" class="headerlink" title="正则实践"></a><em>正则实践</em></h2><hr><p><code>(\w)(\w)\2\1</code> 可以匹配ABBA型数据（回溯引用）</p><hr><p><code>http.*/$</code> 匹配以http开头,以/结尾的数据</p><hr><p><code>^\d&#123;n&#125;$</code>  匹配n位的数字</p><hr><p><code>^(?!(xx+)\1+$)x*</code> 匹配质数个x,不懂</p><hr><p>从<code>2002-1-2</code> <code>2020-01-02</code> <code>2020.01.02</code> <code>2020 01 02</code> <code>20200102</code> <code>2020/01/02</code>提取年月日的数据<br><code>(\d&#123;4&#125;)[\-/\s]?(\d&#123;1,2&#125;)[\-/\s]?&#123;\d&#123;1,2&#125;&#125;</code></p><hr><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a><em>小结</em></h2><p>ennn，入门应该够了，漏掉了<code>先行断言</code>,<code>(?.....)</code>等等<br>正则表达式太强了，还能密码强度认证</p><blockquote><ul><li>正则表达式在线测试：<br><a href="http://c.runoob.com/front-end/854">http://c.runoob.com/front-end/854</a></li><li>python官方re文档：<br><a href="https://docs.python.org/zh-cn/3/library/re.html">https://docs.python.org/zh-cn/3/library/re.html</a></li><li><strong>推荐的正则课程</strong>：<br><a href="https://codejiaonang.com/#/courses">https://codejiaonang.com/#/courses</a></li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/5098.html"/>
      <url>posts/5098.html</url>
      
        <content type="html"><![CDATA[<p>该模块提供了一些变量和函数。这些变量可能被解释器使用，也可能由解释器提供。这些函数会影响解释器。本模块总是可用的。</p><h2 id="sys-path"><a href="#sys-path" class="headerlink" title="sys.path"></a><em>sys.path</em></h2><p>一个由字符串组成的列表，用于指定模块的搜索路径。<br>程序启动时将初始化该列表，列表的第一项 path[0] 目录含有调用 Python 解释器的脚本。如果脚本目录不可用（比如以交互方式调用了解释器，或脚本是从标准输入中读取的），则 path[0] 为空字符串，这将导致 Python 优先搜索当前目录中的模块</p><h2 id="sys-argv"><a href="#sys-argv" class="headerlink" title="sys.argv"></a><em>sys.argv</em></h2><p>一个列表，其中包含了被传递给 Python 脚本的命令行参数。 argv[0] 为脚本的名称（是否是完整的路径名取决于操作系统）。如果是通过 Python 解释器的命令行参数 -c 来执行的， argv[0] 会被设置成字符串 ‘-c’ 。如果没有脚本名被传递给 Python 解释器， argv[0] 为空字符串。</p><h2 id="sys-setrecursionlimit-limit"><a href="#sys-setrecursionlimit-limit" class="headerlink" title="sys.setrecursionlimit(limit)"></a><em>sys.setrecursionlimit(limit)</em></h2><p>Set the maximum depth of the Python interpreter stack to limit. This limit prevents infinite recursion from causing an overflow of the C stack and crashing Python.</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/c78f.html"/>
      <url>posts/c78f.html</url>
      
        <content type="html"><![CDATA[<p><code>import matplotlib.pyplot as plt</code></p><p>这是<strong>框架</strong>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment">#解决中文乱码问题</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.family&#x27;</span>]=[<span class="string">&#x27;Microsoft YaHei&#x27;</span>]</span><br><span class="line">x=np.arange(<span class="number">1</span>,<span class="number">11</span>)</span><br><span class="line">y=<span class="number">2</span>*x+<span class="number">5</span></span><br><span class="line">plt.title(<span class="string">&#x27;测试&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;哈哈&#x27;</span>)</span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h2 id="最重要的plot"><a href="#最重要的plot" class="headerlink" title="最重要的plot()"></a>最重要的plot()</h2><p><code>plt.plot(x,y,format_string,**kwargs)</code></p><ul><li><code>format_string</code>,控制曲线的格式字符串，可选</li><li><code>**kwargs</code>,第二组或更多<code>(x,y,format_string)</code>，可选</li></ul><p><strong>format_string</strong></p><ol><li>颜色字符</li><li>风格字符<br><code>&#39;-&#39;</code>，实线<br><code>&#39;--&#39;</code>，破折线<br><code>&#39;-.&#39;</code>，点划线<br><code>&#39;:&#39;</code>，虚线<br><code>&#39;.&#39;</code>，点标记<br><code>&#39;,&#39;</code>，像素标记<br><code>&#39;o&#39;</code>，实心圆标记<br><code>&#39;v&#39;</code> <code>&#39;^&#39;</code>，三角标记<br><code>&#39;x&#39;</code>,<code>&#39;*&#39;</code></li></ol><h2 id="画图"><a href="#画图" class="headerlink" title="画图"></a>画图</h2><table><thead><tr><th>函数</th><th>说明</th></tr></thead><tbody><tr><td><code>plt.plot()</code></td><td>绘制一个坐标图</td></tr><tr><td><code>plt.boxplot()</code></td><td>绘制一个箱型图</td></tr><tr><td><code>plt.bar()</code></td><td>绘制一个条形图</td></tr><tr><td><code>plt.barh()</code></td><td>绘制一个横向条形图</td></tr><tr><td><code>plt.hist()</code></td><td>绘制直方图</td></tr><tr><td><code>plt.polar()</code></td><td>绘制极坐标图</td></tr><tr><td><code>plt.pie()</code></td><td>绘制饼图</td></tr><tr><td><code>plt.psd()</code></td><td>绘制功率谱密度图</td></tr><tr><td><code>plt.specgram()</code></td><td>绘制谱图</td></tr><tr><td><code>plt.cohere()</code></td><td>绘制相关性函数</td></tr><tr><td><code>plt.scatter()</code></td><td>绘制散点图</td></tr><tr><td><code>plt.step()</code></td><td>绘制步阶图</td></tr></tbody></table><h2 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h2><ol><li><code>sorted([f.name for f in matplotlib.font_manager.fontManager.ttflist])</code>，查看电脑字体</li><li>中文显示<br>方法一： <code>plt.rcParams[&#39;font.family&#39;]</code>，<code>font.size</code>，<br>方法二： 在中文输出的地方，添加属性<code>fornproperties=&#39;  &#39;</code>，<code>fontsize</code></li><li><code>plt.savefig(&#39;foo&#39;,dpi=600)</code>，默认输出png文件</li><li><code>plt.subplot(nrows,ncols,plot_number)</code>，在全局绘图区域中创建分区体系,并进入</li><li><code>plt.grid(True)</code>，显示网格</li><li><code>plt.axis([x0,x1,y0,y1])</code>，坐标轴跨度</li><li><code>plt.annotate()</code>，在图形中增加带箭头的注解</li></ol><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>本文基于官方文档，和mooc一门课的笔记。<br>还很杂乱，需要重学时再整理。<br>感觉这个模块和EXCEL的可视化功能重叠了。</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
            <tag> 数据分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/48ab.html"/>
      <url>posts/48ab.html</url>
      
        <content type="html"><![CDATA[<p><code>NumPy</code> is the fundamental package for <strong>scientific computing</strong> in Python.</p><h2 id="ndarray"><a href="#ndarray" class="headerlink" title="ndarray"></a>ndarray</h2><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td><code>.ndim</code></td><td>秩，即轴的数量或维度的数量</td></tr><tr><td><code>.shape</code></td><td>n行m列</td></tr><tr><td><code>.size</code></td><td>n*m个数</td></tr><tr><td><code>.dtype</code></td><td>元素类型</td></tr><tr><td><code>.itemsize</code></td><td>元素大小，单位：字节</td></tr></tbody></table><p>ndarray数组可以由非同质对象构成。<br>非同质ndarray元素为对象类型，<code>dtype(&#39;O&#39;)</code></p><h3 id="（1）创建方法"><a href="#（1）创建方法" class="headerlink" title="（1）创建方法"></a>（1）创建方法</h3><ol><li><code>np.array(list/tuple,dtype=np.float32)</code></li><li><code>np.arange(n)</code></li><li><code>np.ones(shape)</code></li><li><code>np.zeros(shape)</code></li><li><code>np.full(shape,val)</code></li><li><code>np.eye(n)</code></li><li><code>np.ones_like(a)</code></li><li><code>np.zeros_like(a)</code></li><li><code>np.full_like(a,val)</code></li><li><code>np.linspace(n,m,k,endpoint=True)</code></li><li><code>np.concatenate()</code> </li></ol><h3 id="（2）变换方法"><a href="#（2）变换方法" class="headerlink" title="（2）变换方法"></a>（2）变换方法</h3><ol><li><code>a.reshape(shape)</code>，对a<code>reshape</code>,返回shape形状数组</li><li><code>a.resize(shape)</code>，同<code>reshape</code>，但修改原数组</li><li><code>a.swapaxes(ax1,ax2)</code>，调换维度</li><li><code>a.flatten()</code>，降维，不改变a</li><li><code>new_a=a.astype(new_type)</code></li><li><code>a.tolist()</code></li></ol><h3 id="（3）操作方法"><a href="#（3）操作方法" class="headerlink" title="（3）操作方法"></a>（3）操作方法</h3><ol><li>索引切片同1维，多维间用 <code>,</code> </li><li><code>:</code> 可选取整个维度</li></ol><h3 id="（4）运算方法"><a href="#（4）运算方法" class="headerlink" title="（4）运算方法"></a>（4）运算方法</h3><ol><li><code>a.mean()</code></li><li>元素群运算：<code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>**</code><br><code>np.maxmum(x,y)</code><br><code>np.minimum(x,y)</code><br>算术比较，返回bool值</li><li><code>np.abs()</code>，<code>np.fabs()</code></li><li><code>np.sqrt()</code>，<code>np.square()</code></li><li><code>np.log()</code>，<code>np.log2()</code></li><li><code>np.ceil()</code>，<code>np.floor()</code> </li><li><code>np.rint()</code>，四舍五入</li><li><code>np.sin()</code>···</li><li><code>np.exp()</code>，计算指数</li><li><code>np.sign()</code>，返回1，0，-1 </li></ol><p><strong>实践</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.arange(<span class="number">5</span>)            <span class="comment">#--&gt;array([0, 1, 2, 3, 4])</span></span><br><span class="line">np.ones([<span class="number">2</span>,<span class="number">2</span>])          <span class="comment">#--&gt;array([[1., 1.],1., 1.]])</span></span><br><span class="line">np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">4</span>)     <span class="comment">#--&gt;array([ 1.,  4.,  7., 10.])</span></span><br></pre></td></tr></table></figure><h2 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h2><h3 id="（1）random函数"><a href="#（1）random函数" class="headerlink" title="（1）random函数"></a>（1）random函数</h3><ol><li><code>np.random.uniform(low,high,size)</code><br>产生均匀分布数组</li><li><code>np.random.normal(loc,scale,size)</code><br>产生正态分布数组，<code>loc</code>均值，<code>scale</code>标准差</li><li><code>np.random.poisson(lam,size)</code><br>产生泊松分布数组，<code>lam</code>随机事件发生概率</li></ol><h3 id="（2）统计函数"><a href="#（2）统计函数" class="headerlink" title="（2）统计函数"></a>（2）统计函数</h3><ol><li><code>.sum(a,axis=None)</code></li><li><code>.mean(a,axis=None)</code>，计算期望</li><li><code>.average(a,axis=None,weights=None)</code>，计算加权平均</li><li><code>.std(a,axis=None)</code>，计算标准差</li><li><code>.var(a,axis=None)</code>，计算方差</li></ol><h3 id="（3）梯度函数"><a href="#（3）梯度函数" class="headerlink" title="（3）梯度函数"></a>（3）梯度函数</h3><ol><li><code>np.gradient(f)</code>,计算斜率</li></ol><h3 id="（4）文件读写"><a href="#（4）文件读写" class="headerlink" title="（4）文件读写"></a>（4）文件读写</h3><p><strong>一维或二维</strong></p><ol><li><code>np.savetxt(frame,array,fmt,delimiter=None)</code><br>其中delimiter应该为 <code>,</code><br>eg. <code>np.savetxt(&#39;foo.csv&#39;,a,fmt=&#39;%d&#39;,delimiter=&#39;,&#39;)</code></li><li><code>np.loadtxt(frame,dtype=np.float,delimiter=None,unpack=False)</code></li></ol><p><strong>多维</strong></p><ol><li><code> a.tofile()</code></li><li><code>np.fromfile</code> </li><li><code>np.save()</code>,npy文件</li><li><code>np.load()</code></li></ol><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>本文基于官方文档，和mooc一门课的笔记。<br>还很杂乱，需要重学时再整理。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这是课程代码的copy:</span></span><br><span class="line"><span class="comment"># （对图片进行手绘风格转变）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">a = np.asarray(Image.<span class="built_in">open</span>(<span class="string">&#x27;./beijing.jpg&#x27;</span>).convert(<span class="string">&#x27;L&#x27;</span>)).astype(<span class="string">&#x27;float&#x27;</span>)</span><br><span class="line"> </span><br><span class="line">depth = <span class="number">10.</span>                      <span class="comment"># (0-100)</span></span><br><span class="line">grad = np.gradient(a)             <span class="comment">#取图像灰度的梯度值</span></span><br><span class="line">grad_x, grad_y = grad               <span class="comment">#分别取横纵图像梯度值</span></span><br><span class="line">grad_x = grad_x*depth/<span class="number">100.</span></span><br><span class="line">grad_y = grad_y*depth/<span class="number">100.</span></span><br><span class="line">A = np.sqrt(grad_x**<span class="number">2</span> + grad_y**<span class="number">2</span> + <span class="number">1.</span>)</span><br><span class="line">uni_x = grad_x/A</span><br><span class="line">uni_y = grad_y/A</span><br><span class="line">uni_z = <span class="number">1.</span>/A</span><br><span class="line"> </span><br><span class="line">vec_el = np.pi/<span class="number">2.2</span>                   <span class="comment"># 光源的俯视角度，弧度值</span></span><br><span class="line">vec_az = np.pi/<span class="number">4.</span>                    <span class="comment"># 光源的方位角度，弧度值</span></span><br><span class="line">dx = np.cos(vec_el)*np.cos(vec_az)   <span class="comment">#光源对x 轴的影响</span></span><br><span class="line">dy = np.cos(vec_el)*np.sin(vec_az)   <span class="comment">#光源对y 轴的影响</span></span><br><span class="line">dz = np.sin(vec_el)              <span class="comment">#光源对z 轴的影响</span></span><br><span class="line"> </span><br><span class="line">b = <span class="number">255</span>*(dx*uni_x + dy*uni_y + dz*uni_z)     <span class="comment">#光源归一化</span></span><br><span class="line">b = b.clip(<span class="number">0</span>,<span class="number">255</span>)</span><br><span class="line"> </span><br><span class="line">im = Image.fromarray(b.astype(<span class="string">&#x27;uint8&#x27;</span>))  <span class="comment">#重构图像</span></span><br><span class="line">im.save(<span class="string">&#x27;./beijingHD.jpg&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python模块 </tag>
            
            <tag> 数据分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/6080.html"/>
      <url>posts/6080.html</url>
      
        <content type="html"><![CDATA[<h1 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h1><h2 id="人工智能、机器学习、深度学习"><a href="#人工智能、机器学习、深度学习" class="headerlink" title="人工智能、机器学习、深度学习"></a>人工智能、机器学习、深度学习</h2><p><code>人工智能</code>是计算机科学的一个分支，它希望了解智能的实质，并生产出一种新的能以人类智能相似的方式做出反应的智能机器，该领域的研究包括机器人、语言识别、图像识别、自然语言处理和专家系统等。<br><code>机器学习</code>是一门多领域交叉学科，是人工智能的核心。<br><code>深度学习</code>是机器学习领域中一个新的研究方向，它被引入机器学习使其更接近于最初的目标——人工智能。<br><img src="https://img-blog.csdnimg.cn/202005061919299.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center"></p><h2 id="机器学习模型"><a href="#机器学习模型" class="headerlink" title="机器学习模型"></a>机器学习模型</h2><p><code>机器学习模型</code>是机器学习算法产出的结果，可以将其看作是在给定输入情况下、输出一定结果的函数。<br>机器学习模型不是预先定义好的固定函数，而是从历史数据中推导出来的。<br>机器学习的任务，就是从广阔的映射空间中学习函数。</p><h1 id="1-torch环境准备"><a href="#1-torch环境准备" class="headerlink" title="1.torch环境准备"></a>1.torch环境准备</h1><ul><li>torch  (1.6.0)</li><li>torchvision  (0.7.0)</li><li>cuda  (10.2)<br><img src="https://img-blog.csdnimg.cn/20200429183137908.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center"><br>输入指令执行代码,速度不行的话复制下载链接迅雷打开，可能有惊喜<img src="https://img-blog.csdnimg.cn/20200429183453171.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center"></li></ul><p><strong>对whl文件的安装</strong>，进入文件位置，pip install <strong>____</strong>.whl</p><p>环境配好后，执行:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> python</span><br><span class="line">torch.cuda.is_available()</span><br></pre></td></tr></table></figure><p>这时应该返回True.</p><h1 id="2-一次baseline代码😫"><a href="#2-一次baseline代码😫" class="headerlink" title="2.一次baseline代码😫"></a>2.一次baseline代码😫</h1><h2 id="加载pytorch框架下的依赖项"><a href="#加载pytorch框架下的依赖项" class="headerlink" title="加载pytorch框架下的依赖项"></a>加载pytorch框架下的依赖项</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function, division</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.optim <span class="keyword">as</span> optim</span><br><span class="line"><span class="keyword">from</span> torch.optim <span class="keyword">import</span> lr_scheduler</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> datasets, models, transforms</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br></pre></td></tr></table></figure><h2 id="加载数据集，并分为训练集和测试集"><a href="#加载数据集，并分为训练集和测试集" class="headerlink" title="加载数据集，并分为训练集和测试集"></a>加载数据集，并分为训练集和测试集</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">dataTrans = transforms.Compose([</span><br><span class="line">            transforms.Resize(<span class="number">256</span>),</span><br><span class="line">            transforms.CenterCrop(<span class="number">224</span>),</span><br><span class="line">            transforms.ToTensor(),</span><br><span class="line">            transforms.Normalize([<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>], [<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>])</span><br><span class="line">        ])</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">data_dir = <span class="string">&#x27;./images&#x27;</span></span><br><span class="line"></span><br><span class="line">all_image_datasets = datasets.ImageFolder(data_dir, dataTrans)</span><br><span class="line"></span><br><span class="line">trainsize = <span class="built_in">int</span>(<span class="number">0.8</span>*<span class="built_in">len</span>(all_image_datasets))</span><br><span class="line">testsize = <span class="built_in">len</span>(all_image_datasets) - trainsize</span><br><span class="line">train_dataset, test_dataset = torch.utils.data.random_split(all_image_datasets,[trainsize,testsize])</span><br><span class="line">   </span><br><span class="line">image_datasets = &#123;<span class="string">&#x27;train&#x27;</span>:train_dataset,<span class="string">&#x27;val&#x27;</span>:test_dataset&#125;</span><br><span class="line">    </span><br><span class="line">dataloders = &#123;x: torch.utils.data.DataLoader(image_datasets[x],</span><br><span class="line">                                                 batch_size=<span class="number">16</span>,</span><br><span class="line">                                                 shuffle=<span class="literal">True</span>,</span><br><span class="line">                                                 num_workers=<span class="number">4</span>) <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;val&#x27;</span>]&#125;</span><br><span class="line"></span><br><span class="line">dataset_sizes = &#123;x: <span class="built_in">len</span>(image_datasets[x]) <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;val&#x27;</span>]&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># use gpu or not</span></span><br><span class="line">use_gpu = torch.cuda.is_available()</span><br></pre></td></tr></table></figure><h2 id="开始训练"><a href="#开始训练" class="headerlink" title="开始训练"></a>开始训练</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_model</span>(<span class="params">model, lossfunc, optimizer, scheduler, num_epochs=<span class="number">5</span></span>):</span></span><br><span class="line">    start_time = time.time()</span><br><span class="line">    best_model_wts = model.state_dict()</span><br><span class="line">    best_acc = <span class="number">0.0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">        print(<span class="string">&#x27;Epoch &#123;&#125;/&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(epoch, num_epochs - <span class="number">1</span>))</span><br><span class="line">        print(<span class="string">&#x27;-&#x27;</span> * <span class="number">10</span>)</span><br><span class="line">        <span class="comment"># Each epoch has a training and validation phase</span></span><br><span class="line">        <span class="keyword">for</span> phase <span class="keyword">in</span> [<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;val&#x27;</span>]:</span><br><span class="line">            <span class="keyword">if</span> phase == <span class="string">&#x27;train&#x27;</span>:</span><br><span class="line">                scheduler.step()</span><br><span class="line">                model.train(<span class="literal">True</span>)  <span class="comment"># Set model to training mode</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                model.train(<span class="literal">False</span>)  <span class="comment"># Set model to evaluate mode</span></span><br><span class="line"></span><br><span class="line">            running_loss = <span class="number">0.0</span></span><br><span class="line">            running_corrects = <span class="number">0.0</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># Iterate over data.</span></span><br><span class="line">            <span class="keyword">for</span> data <span class="keyword">in</span> dataloders[phase]:</span><br><span class="line">                <span class="comment"># get the inputs</span></span><br><span class="line">                inputs, labels = data</span><br><span class="line">                </span><br><span class="line"></span><br><span class="line">                <span class="comment"># wrap them in Variable</span></span><br><span class="line">                <span class="keyword">if</span> use_gpu:</span><br><span class="line">                    inputs = Variable(inputs.cuda())</span><br><span class="line">                    labels = Variable(labels.cuda())</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    inputs, labels = Variable(inputs), Variable(labels)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># zero the parameter gradients</span></span><br><span class="line">                optimizer.zero_grad()</span><br><span class="line"></span><br><span class="line">                <span class="comment"># forward</span></span><br><span class="line">                outputs = model(inputs)</span><br><span class="line">                _, preds = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>)</span><br><span class="line">                loss = lossfunc(outputs, labels)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># backward + optimize only if in training phase</span></span><br><span class="line">                <span class="keyword">if</span> phase == <span class="string">&#x27;train&#x27;</span>:</span><br><span class="line">                    loss.backward()</span><br><span class="line">                    optimizer.step()</span><br><span class="line"></span><br><span class="line">                <span class="comment"># statistics</span></span><br><span class="line">                running_loss += loss.data</span><br><span class="line">                running_corrects += torch.<span class="built_in">sum</span>(preds == labels.data).to(torch.float32)</span><br><span class="line"></span><br><span class="line">            epoch_loss = running_loss / dataset_sizes[phase]</span><br><span class="line">            epoch_acc = running_corrects / dataset_sizes[phase]</span><br><span class="line"></span><br><span class="line">            print(<span class="string">&#x27;&#123;&#125; Loss: &#123;:.4f&#125; Acc: &#123;:.4f&#125;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">                phase, epoch_loss, epoch_acc))</span><br><span class="line"></span><br><span class="line">            <span class="comment"># deep copy the model</span></span><br><span class="line">            <span class="keyword">if</span> phase == <span class="string">&#x27;val&#x27;</span> <span class="keyword">and</span> epoch_acc &gt; best_acc:</span><br><span class="line">                best_acc = epoch_acc</span><br><span class="line">                best_model_wts = model.state_dict()</span><br><span class="line"></span><br><span class="line">    elapsed_time = time.time() - start_time</span><br><span class="line">    print(<span class="string">&#x27;Training complete in &#123;:.0f&#125;m &#123;:.0f&#125;s&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">        elapsed_time // <span class="number">60</span>, elapsed_time % <span class="number">60</span>))</span><br><span class="line">    print(<span class="string">&#x27;Best val Acc: &#123;:4f&#125;&#x27;</span>.<span class="built_in">format</span>(best_acc))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># load best model weights</span></span><br><span class="line">    model.load_state_dict(best_model_wts)</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> model</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># get model and replace the original fc layer with your fc layer</span></span><br><span class="line">model_ft = models.resnet50(pretrained=<span class="literal">True</span>)</span><br><span class="line">num_ftrs = model_ft.fc.in_features</span><br><span class="line">model_ft.fc = nn.Linear(num_ftrs, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> use_gpu:</span><br><span class="line">    model_ft = model_ft.cuda()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># define loss function</span></span><br><span class="line">lossfunc = nn.CrossEntropyLoss()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># setting optimizer and trainable parameters</span></span><br><span class="line"> <span class="comment">#   params = model_ft.parameters()</span></span><br><span class="line"> <span class="comment"># list(model_ft.fc.parameters())+list(model_ft.layer4.parameters())</span></span><br><span class="line"><span class="comment">#params = list(model_ft.fc.parameters())+list( model_ft.parameters())</span></span><br><span class="line">params = <span class="built_in">list</span>(model_ft.fc.parameters())</span><br><span class="line">optimizer_ft = optim.SGD(params, lr=<span class="number">0.001</span>, momentum=<span class="number">0.9</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Decay LR by a factor of 0.1 every 7 epochs</span></span><br><span class="line">exp_lr_scheduler = lr_scheduler.StepLR(optimizer_ft, step_size=<span class="number">7</span>, gamma=<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line">model_ft = train_model(model=model_ft,</span><br><span class="line">                           lossfunc=lossfunc,</span><br><span class="line">                           optimizer=optimizer_ft,</span><br><span class="line">                           scheduler=exp_lr_scheduler,</span><br><span class="line">                           num_epochs=<span class="number">5</span>)</span><br></pre></td></tr></table></figure><p>这是训练过程产生的输出：</p><pre><code>Epoch 0/4----------C:\Users\16413\anaconda3\lib\site-packages\torch\optim\lr_scheduler.py:123: UserWarning: Detected call of `lr_scheduler.step()` before `optimizer.step()`. In PyTorch 1.1.0 and later, you should call them in the opposite order: `optimizer.step()` before `lr_scheduler.step()`.  Failure to do this will result in PyTorch skipping the first value of the learning rate schedule. See more details at https://pytorch.org/docs/stable/optim.html#how-to-adjust-learning-rate  &quot;https://pytorch.org/docs/stable/optim.html#how-to-adjust-learning-rate&quot;, UserWarning)train Loss: 0.0750 Acc: 0.6700val Loss: 0.0436 Acc: 0.8200Epoch 1/4----------train Loss: 0.0399 Acc: 0.8250val Loss: 0.0345 Acc: 0.8470Epoch 2/4----------train Loss: 0.0330 Acc: 0.8473val Loss: 0.0303 Acc: 0.8610Epoch 3/4----------train Loss: 0.0300 Acc: 0.8575val Loss: 0.0293 Acc: 0.8650Epoch 4/4----------train Loss: 0.0288 Acc: 0.8643val Loss: 0.0281 Acc: 0.8750Training complete in 6m 31sBest val Acc: 0.875000</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">torch.save(model_ft.state_dict(), <span class="string">&#x27;./model.pth&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;done&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 深度学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> torch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/5bf8.html"/>
      <url>posts/5bf8.html</url>
      
        <content type="html"><![CDATA[<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a><em>HTML</em></h2><p>markdown中支持html语句。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用font来更改字体样式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span>=<span class="string">&quot;2&quot;</span> <span class="attr">face</span>=<span class="string">&quot;verdana&quot;</span> <span class="attr">color</span>=<span class="string">&quot;green&quot;</span>&gt;</span>content<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 或则使用p来更改字体样式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;font-family:verdana;font-size:80%;color:green&quot;</span>&gt;</span></span><br><span class="line">This is a paragraph with some text in it.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- p 中 align=&quot;right&quot; 可以更改位置 --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用img来更改图片大小 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;图片路径&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:50%&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>彩虹字体生成器：<a href="https://www.qqxiuzi.cn/zh/caihongzi/index.htm">https://www.qqxiuzi.cn/zh/caihongzi/index.htm</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;mystyle.css&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>hello,html<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;www.baidu.com&quot;</span>&gt;</span>这是一个链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- br表示换行 --&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- hr创建水平线 --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a><em>数据库</em></h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 8. 查询两个以上男生选修的课程编号。（包含两个）</span></span><br><span class="line"><span class="comment">-- 因为一个SN对应多个SNo时出错</span></span><br><span class="line"><span class="keyword">select</span> CNO</span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">select</span> S.SNo,SN,CNO</span><br><span class="line"><span class="keyword">from</span> S,Homework</span><br><span class="line"><span class="keyword">where</span> S.SNo=Homework.SNO <span class="keyword">and</span> Sex=<span class="string">&#x27;男&#x27;</span> </span><br><span class="line">) <span class="keyword">as</span> a</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> CNO</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">count</span>(SN)&gt;=<span class="number">2</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 9. 查询每个同学的选课门数，如果没有选修则选课门数为0。</span></span><br><span class="line"><span class="keyword">select</span> s.sno,sn,<span class="keyword">count</span>(cno) <span class="keyword">as</span> 选课数</span><br><span class="line"><span class="keyword">from</span> s <span class="keyword">left</span> <span class="keyword">join</span> homework <span class="keyword">on</span> s.sno=homework.sno</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> s.sno,sn</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 选课数 <span class="keyword">desc</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 9. 查询每个同学的选课门数，如果没有选修则选课门数为0。</span></span><br><span class="line"><span class="keyword">select</span> s.sno,sn,<span class="keyword">count</span>(cno) <span class="keyword">as</span> 选课数</span><br><span class="line"><span class="keyword">from</span> s <span class="keyword">join</span> homework <span class="keyword">on</span> s.sno=homework.sno</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> s.sno,sn</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> sno,sn, <span class="number">0</span> <span class="keyword">as</span> 选课数</span><br><span class="line"><span class="keyword">from</span> s</span><br><span class="line"><span class="keyword">where</span> sno <span class="keyword">not</span> <span class="keyword">in</span></span><br><span class="line">(<span class="keyword">select</span> sno <span class="keyword">from</span> homework)</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Book(</span><br><span class="line">BNo <span class="built_in">CHAR</span>(<span class="number">15</span>) PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">BName<span class="keyword">nVARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">Publish<span class="keyword">nVARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">PDatedatetime,</span><br><span class="line">BAuth<span class="keyword">nVARCHAR</span>(<span class="number">30</span>),</span><br><span class="line">bprice<span class="built_in">NUMERIC</span>(<span class="number">4</span>,<span class="number">1</span>),</span><br><span class="line">binprice<span class="built_in">NUMERIC</span>(<span class="number">4</span>,<span class="number">1</span>),</span><br><span class="line">BCount<span class="built_in">INT</span>,</span><br><span class="line"><span class="keyword">check</span>(binprice&lt;bprice <span class="keyword">and</span> bcount&gt;=<span class="number">0</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> BookSell(</span><br><span class="line">SDatedatetime,</span><br><span class="line">BNO<span class="built_in">CHAR</span>(<span class="number">15</span>) <span class="keyword">foreign</span> <span class="keyword">key</span> <span class="keyword">references</span> Book(bno),</span><br><span class="line">SCount<span class="built_in">int</span>,</span><br><span class="line">SMoneysmallmoney</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Book <span class="keyword">values</span> (<span class="string">&#x27;9787115457004&#x27;</span>,<span class="string">&#x27;数据库原理及应用教程&#x27;</span>,<span class="string">&#x27;人民邮电出版社&#x27;</span>,<span class="string">&#x27;2017-11-1&#x27;</span>,<span class="string">&#x27;陈志泊&#x27;</span>,<span class="number">49.5</span>,<span class="number">35</span>,<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> booksell <span class="keyword">values</span>(<span class="string">&#x27;2020-2-1&#x27;</span>,<span class="string">&#x27;9787115457004&#x27;</span>,<span class="number">20</span>,<span class="number">800</span>);</span><br><span class="line"><span class="keyword">update</span> book  <span class="keyword">set</span> bcount-=<span class="number">20</span> <span class="keyword">where</span> bno=<span class="string">&#x27;9787115457004&#x27;</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> booksell <span class="keyword">values</span>(<span class="string">&#x27;2020-2-2&#x27;</span>,<span class="string">&#x27;9787115457004&#x27;</span>,<span class="number">3</span>,<span class="number">132</span>);</span><br><span class="line"><span class="keyword">update</span> book  <span class="keyword">set</span> bcount-=<span class="number">3</span> <span class="keyword">where</span> bno=<span class="string">&#x27;9787115457004&#x27;</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> booksell <span class="keyword">values</span>(<span class="string">&#x27;2020-2-3&#x27;</span>,<span class="string">&#x27;9787115457004&#x27;</span>,<span class="number">-1</span>,(<span class="keyword">select</span> smoney/scount*<span class="number">-1</span> <span class="keyword">from</span> booksell <span class="keyword">where</span> scount=<span class="number">3</span>));</span><br><span class="line"><span class="keyword">update</span> book  <span class="keyword">set</span> bcount+=<span class="number">1</span> <span class="keyword">where</span> bno=<span class="string">&#x27;9787115457004&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="kmp"><a href="#kmp" class="headerlink" title="kmp"></a><em>kmp</em></h2><p>kmp是一个效率非常高的<strong>字符串匹配</strong>算法。<br>有问题如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#求b在a中出现次数</span></span><br><span class="line">a = <span class="string">&quot;ababacababadababadadda&quot;</span></span><br><span class="line">b = <span class="string">&quot;ababad&quot;</span></span><br></pre></td></tr></table></figure><p>kmp可以将暴力法的<code>O(m*n)</code>降低为<code>O(m+n)</code></p><p><strong>过程:</strong></p><ol><li><strong>计算temp数组</strong><br>temp数组可理解为一组b中相同前后缀的标记(不能为本身长度)<blockquote><p><code>b = &quot;ababad&quot;</code><br>对第一位<code>&#39;a&#39;</code>，没有相同前后缀，<code>temp[0] = 0</code><br>对第二位<code>&#39;ab&#39;</code>，<code>temp[1] = 0</code><br>对第三位<code>’aba&#39;</code>，<code>temp[2] = 1</code><br>以此类推，<code>temp= [0,0,1,2,3,0]</code></p></blockquote></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cal_temp</span>(<span class="params">b</span>):</span></span><br><span class="line">    <span class="comment">#K是一个对相同前后缀的标记</span></span><br><span class="line">    temp,k=[<span class="number">0</span>],<span class="number">0</span></span><br><span class="line">    <span class="comment">#从索引1处开始遍历</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(b)):</span><br><span class="line">        <span class="keyword">while</span> k&gt;<span class="number">0</span> <span class="keyword">and</span> b[i]!=b[k]:</span><br><span class="line">            k=temp[k-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> b[i]==b[k]:</span><br><span class="line">            k+=<span class="number">1</span></span><br><span class="line">        temp.append(k)</span><br><span class="line">    <span class="keyword">return</span> temp</span><br></pre></td></tr></table></figure><p>分析一下代码：</p><blockquote><ul><li><code>i=1</code>时，’ab’，b[1]!=b[0]，temp.append(0)</li><li><code>i=2</code>时，’aba’，b[2]==b[0]，temp.append(1)</li><li><code>i=3</code>时，’abab’，b[3]==b[1]，temp.append(2)</li><li><code>i=4</code>时，’ababa’，b[4]==b[2]，temp.append(3)</li><li><code>i=5</code>时，’ababad’，temp=[0,0,1,2,3]<br>b[5]!=b[3]，k=temp[3-1]=1<br>b[5]!=b[1]，k=temp[1-1]=0<br>temp.append(0)</li></ul></blockquote><p>发现比较难理解的是那个回溯的地方：<code>k=temp[k-1]</code><br>没事，把<code>i=5</code>的情况再分析一下：</p><blockquote><p><code>i=5</code>时，’ababad’，temp=[0,0,1,2,3]，k=3</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200514161345927.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70"></p><blockquote><p>aba and aba can match,k=3<br>a and a can match,k=(aba的匹配数1,即temp[k-1])<br>more explain: aba can see as a and a,the first <code>a</code> can match the fourth <code>a</code></p></blockquote><ol start="2"><li><strong>kmp</strong><br>打完上面的怪，就可以直接写kmp了</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kmp</span>(<span class="params">a,b</span>):</span></span><br><span class="line">    temp=cal_temp(b)</span><br><span class="line">    ans,k=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(a)):</span><br><span class="line">        <span class="keyword">while</span> k&gt;<span class="number">0</span> <span class="keyword">and</span> a[i]!=b[k]:</span><br><span class="line">            k=temp[k-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> a[i]==b[k]:</span><br><span class="line">            k+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> k==<span class="built_in">len</span>(b):</span><br><span class="line">            ans+=<span class="number">1</span></span><br><span class="line">            k=temp[k-<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> num</span><br><span class="line"></span><br><span class="line"><span class="comment">#小结：利用已匹配的信息，迈出比较大的步子。</span></span><br></pre></td></tr></table></figure><hr><h2 id="all-fine"><a href="#all-fine" class="headerlink" title="all fine"></a><em>all fine</em></h2><h5 id="①代码块快捷操作："><a href="#①代码块快捷操作：" class="headerlink" title="①代码块快捷操作："></a>①代码块快捷操作：</h5><ul><li>拉选块之后，按下 <code>tab</code> 键，整个块就会缩进</li><li>按下 <code>shift + tab</code> 就会反向缩进</li><li>选中块后，<code>ctrl+/</code> 集体注释</li><li>vscode，jupyter中都可用</li></ul><h5 id="②大一python："><a href="#②大一python：" class="headerlink" title="②大一python："></a>②大一python：</h5><ul><li>定义函数时，带默认参数的必须出现在参数列表最右边</li><li>多行注释<code>&#39;&#39;&#39;  &#39;&#39;&#39;</code></li><li><code>eval()</code>执行字符串表达式</li><li><code>print(&quot;:2f&quot;.format())</code></li><li><code>del list(index)</code>，删除</li><li><code>list</code>使用<code>+=</code>可进行扩充</li></ul><h5 id="③leetcode中引用："><a href="#③leetcode中引用：" class="headerlink" title="③leetcode中引用："></a>③leetcode中引用：</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    a = Solution()</span><br><span class="line">    a.countSubgraphsForEachDiameter(n=<span class="number">4</span>, edges=[[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">4</span>]])</span><br></pre></td></tr></table></figure><h5 id="④staticmethod"><a href="#④staticmethod" class="headerlink" title="④staticmethod"></a>④staticmethod</h5><p><strong>返回函数的静态方法</strong>。<br>该方法不强制要求传递参数，如下声明一个静态方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">arg1, arg2, ...</span>):</span></span><br><span class="line">        ...</span><br></pre></td></tr></table></figure><p>以上实例声明了静态方法 <code>f</code>，从而可以实现实例化使用 <code>C().f()</code>，当然也可以不实例化调用该方法 <code>C.f()</code>。</p>]]></content>
      
      
      <categories>
          
          <category> other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数学 </tag>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/3eeb.html"/>
      <url>posts/3eeb.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><blockquote><p>以上为官方文档<br><strong>想建站的，可以参考：</strong><br><a href="https://www.jianshu.com/p/0a8d738a5620">https://www.jianshu.com/p/0a8d738a5620</a><br><strong>这是装修教程：</strong><br><a href="https://yafine66.gitee.io/">https://yafine66.gitee.io/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/4d93.html"/>
      <url>posts/4d93.html</url>
      
        <content type="html"><![CDATA[<h2 id="LCP-03-机器人大冒险"><a href="#LCP-03-机器人大冒险" class="headerlink" title="LCP 03. 机器人大冒险"></a>LCP 03. 机器人大冒险</h2><p>力扣团队买了一个可编程机器人，机器人初始位置在原点<code>(0, 0)</code>。小伙伴事先给机器人输入一串指令<code>command</code>，机器人就会无限循环这条指令的步骤进行移动。指令有两种：</p><p><code>U</code>: 向y轴正方向移动一格<br><code>R</code>: 向x轴正方向移动一格。<br>不幸的是，在 xy 平面上还有一些障碍物，他们的坐标用<code>obstacles</code>表示。机器人一旦碰到障碍物就会被损毁。</p><p>给定终点坐标<code>(x, y)</code>，返回机器人能否完好地到达终点。如果能，返回<code>true</code>；否则返回<code>false</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">robot</span>(<span class="params">self, command: <span class="built_in">str</span>, obstacles: List[List[<span class="built_in">int</span>]], x: <span class="built_in">int</span>, y: <span class="built_in">int</span></span>) -&gt; bool:</span></span><br><span class="line">        xi,yi=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        circle=[[<span class="number">0</span>,<span class="number">0</span>]]   <span class="comment">#第一次循环走过的点</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> command:</span><br><span class="line">            <span class="keyword">if</span> c==<span class="string">&quot;R&quot;</span>: xi+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: yi+=<span class="number">1</span></span><br><span class="line">            circle.append([xi,yi])</span><br><span class="line">        cnt=<span class="built_in">min</span>(x//xi,y//yi)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#是否会经过目标点</span></span><br><span class="line">        <span class="keyword">if</span> [x-xi*cnt,y-yi*cnt] <span class="keyword">not</span> <span class="keyword">in</span> circle: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> x1,y1 <span class="keyword">in</span> obstacles:</span><br><span class="line">            cnt=<span class="built_in">min</span>(x1//xi,y1//yi)</span><br><span class="line">            <span class="keyword">if</span> x1&lt;=x <span class="keyword">and</span> y1&lt;=y <span class="keyword">and</span> [x1-xi*cnt,y1-yi*cnt] <span class="keyword">in</span> circle:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写这些为了不超时，为难了</span></span><br></pre></td></tr></table></figure><h2 id="845-数组中的最长山脉"><a href="#845-数组中的最长山脉" class="headerlink" title="845.数组中的最长山脉"></a>845.数组中的最长山脉</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestMountain</span>(<span class="params">self, A: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        ans=i=j=<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(A)-<span class="number">2</span>:</span><br><span class="line">            <span class="keyword">while</span> i&lt;<span class="built_in">len</span>(A)-<span class="number">1</span> <span class="keyword">and</span> A[i]&gt;=A[i+<span class="number">1</span>]:</span><br><span class="line">                i+=<span class="number">1</span></span><br><span class="line">            j=i              <span class="comment"># begin up</span></span><br><span class="line">            <span class="keyword">while</span> j&lt;<span class="built_in">len</span>(A)-<span class="number">1</span> <span class="keyword">and</span> A[j+<span class="number">1</span>]&gt;A[j]:</span><br><span class="line">                j+=<span class="number">1</span></span><br><span class="line">            summit=A[j]      <span class="comment"># begin down </span></span><br><span class="line">            <span class="keyword">while</span> j&lt;<span class="built_in">len</span>(A)-<span class="number">1</span> <span class="keyword">and</span> A[j]&gt;A[j+<span class="number">1</span>]:</span><br><span class="line">                j+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> A[i]&lt;summit <span class="keyword">and</span> summit&gt;A[j]:</span><br><span class="line">                ans=<span class="built_in">max</span>(ans,j-i+<span class="number">1</span>)</span><br><span class="line">            i=j</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment">#一种双指针的模拟</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/8ca6.html"/>
      <url>posts/8ca6.html</url>
      
        <content type="html"><![CDATA[<h2 id="0-前言"><a href="#0-前言" class="headerlink" title="(0)前言"></a>(0)前言</h2><p>通过<strong>局部最优</strong>得到全局最优解。</p><h2 id="1-55-跳跃游戏"><a href="#1-55-跳跃游戏" class="headerlink" title="(1)55.跳跃游戏"></a>(1)55.跳跃游戏</h2><p>给定一个非负整数数组，你最初位于数组的第一个位置。</p><p>数组中的每个元素代表你在该位置可以跳跃的最大长度。</p><p>判断你是否能够到达最后一个位置。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canJump</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; bool:</span></span><br><span class="line">        max_pos=<span class="number">0</span></span><br><span class="line">        n=<span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">if</span> i&gt;max_pos: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            max_pos=<span class="built_in">max</span>(max_pos,i+nums[i])</span><br><span class="line">            <span class="keyword">if</span> max_pos&gt;=n-<span class="number">1</span>: <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><h2 id="2-45-跳跃游戏-II"><a href="#2-45-跳跃游戏-II" class="headerlink" title="(2)45.跳跃游戏 II"></a>(2)45.跳跃游戏 II</h2><p>给定一个非负整数数组，你最初位于数组的第一个位置。</p><p>数组中的每个元素代表你在该位置可以跳跃的最大长度。</p><p>你的目标是使用最少的跳跃次数到达数组的最后一个位置。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">jump</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(nums)==<span class="number">1</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        count,end,max_pos=<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            max_pos=<span class="built_in">max</span>(max_pos,nums[i]+i)</span><br><span class="line">            <span class="keyword">if</span> i==end:       <span class="comment">#解法的核心</span></span><br><span class="line">                end=max_pos </span><br><span class="line">                count+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> end&gt;=<span class="built_in">len</span>(nums)-<span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> count</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line"><span class="comment"># 经典贪心</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/95d1.html"/>
      <url>posts/95d1.html</url>
      
        <content type="html"><![CDATA[<h2 id="17-电话号码的字母组合"><a href="#17-电话号码的字母组合" class="headerlink" title="17.电话号码的字母组合"></a>17.电话号码的字母组合</h2><p>给定一个仅包含数字 2-9 的字符串，返回所有它能表示的字母组合。</p><p>给出数字到字母的映射如下（与电话按键相同）。注意 1 不对应任何字母。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">letterCombinations</span>(<span class="params">self, digits: <span class="built_in">str</span></span>) -&gt; List[str]:</span></span><br><span class="line">        <span class="built_in">map</span>=&#123;<span class="string">&#x27;2&#x27;</span>:<span class="string">&quot;abc&quot;</span>,<span class="string">&#x27;3&#x27;</span>:<span class="string">&quot;def&quot;</span>,<span class="string">&#x27;4&#x27;</span>:<span class="string">&quot;ghi&quot;</span>,<span class="string">&#x27;5&#x27;</span>:<span class="string">&quot;jkl&quot;</span>,<span class="string">&#x27;6&#x27;</span>:<span class="string">&quot;mno&quot;</span>,<span class="string">&#x27;7&#x27;</span>:<span class="string">&quot;pqrs&quot;</span>,<span class="string">&#x27;8&#x27;</span>:<span class="string">&quot;tuv&quot;</span>,<span class="string">&#x27;9&#x27;</span>:<span class="string">&quot;wxyz&quot;</span>&#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> digits: <span class="keyword">return</span> []</span><br><span class="line">        ans=[<span class="string">&quot;&quot;</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> digits:</span><br><span class="line">            ans=[pre+suf <span class="keyword">for</span> pre <span class="keyword">in</span> ans <span class="keyword">for</span> suf <span class="keyword">in</span> <span class="built_in">map</span>[i]]</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><h2 id="696-计数二进制子串"><a href="#696-计数二进制子串" class="headerlink" title="696.计数二进制子串"></a>696.计数二进制子串</h2><p>给定一个字符串 <code>s</code>，计算具有相同数量0和1的非空(连续)子字符串的数量，并且这些子字符串中的所有0和所有1都是组合在一起的。</p><p>重复出现的子串要计算它们出现的次数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countBinarySubstrings</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        temp=[<span class="number">1</span>]</span><br><span class="line">        ans=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(s)):</span><br><span class="line">            <span class="keyword">if</span> s[i]==s[i-<span class="number">1</span>]:</span><br><span class="line">                temp[-<span class="number">1</span>]+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                temp.append(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(temp)-<span class="number">1</span>):</span><br><span class="line">            ans+=<span class="built_in">min</span>(temp[i],temp[i+<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算相邻数的频数</span></span><br><span class="line"><span class="comment"># 看着有些抽象</span></span><br></pre></td></tr></table></figure><h2 id="605-种花问题"><a href="#605-种花问题" class="headerlink" title="605.种花问题"></a>605.种花问题</h2><p>假设你有一个很长的花坛，一部分地块种植了花，另一部分却没有。可是，花卉不能种植在相邻的地块上，它们会争夺水源，两者都会死去。</p><p>给定一个花坛（表示为一个数组包含<code>0</code>和<code>1</code>，其中<code>0</code>表示没种植花，<code>1</code>表示种植了花），和一个数 <code>n</code> 。能否在不打破种植规则的情况下种入 <code>n</code> 朵花？能则返回<code>True</code>，不能则返回<code>False</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canPlaceFlowers</span>(<span class="params">self, f: List[<span class="built_in">int</span>], n: <span class="built_in">int</span></span>) -&gt; bool:</span></span><br><span class="line">        f=[<span class="number">0</span>]+f+[<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">        ans,cnt=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> f:</span><br><span class="line">            <span class="keyword">if</span> i==<span class="number">0</span>: cnt+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: </span><br><span class="line">                ans+=(cnt-<span class="number">1</span>)//<span class="number">2</span></span><br><span class="line">                cnt=<span class="number">0</span></span><br><span class="line">        <span class="comment">#print(ans,n)</span></span><br><span class="line">        <span class="keyword">return</span> ans&gt;=n</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数组，两端加值便于解题。</span></span><br></pre></td></tr></table></figure><h2 id="75-颜色分类"><a href="#75-颜色分类" class="headerlink" title="75.颜色分类"></a>75.颜色分类</h2><p>给定一个包含红色、白色和蓝色，一共 <code>n</code> 个元素的数组，原地对它们进行排序，使得相同颜色的元素相邻，并按照红色、白色、蓝色顺序排列。</p><p>此题中，我们使用整数 <code>0</code>、 <code>1</code> 和 <code>2</code> 分别表示红色、白色和蓝色。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#荷兰国旗问题，快速排序基础</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sortColors</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        i,l,r=<span class="number">0</span>,<span class="number">0</span>,<span class="built_in">len</span>(nums)-<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i&lt;=r:</span><br><span class="line">            <span class="keyword">if</span> nums[i]==<span class="number">0</span>:</span><br><span class="line">                nums[i],nums[l]=nums[l],nums[i]</span><br><span class="line">                l+=<span class="number">1</span></span><br><span class="line">                i+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> nums[i]==<span class="number">2</span>:</span><br><span class="line">                nums[i],nums[r]=nums[r],nums[i]</span><br><span class="line">                r-=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: i+=<span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/9199.html"/>
      <url>posts/9199.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-20-有效的括号"><a href="#1-20-有效的括号" class="headerlink" title="(1)20.有效的括号"></a>(1)20.有效的括号</h2><p>给定一个只包括 <code>&#39;(&#39;</code>，<code>&#39;)&#39;</code>，<code>&#39;&#123;&#39;</code>，<code>&#39;&#125;&#39;</code>，<code>&#39;[&#39;</code>，<code>&#39;]&#39;</code> 的字符串，判断字符串是否有效。</p><p>有效字符串需满足：</p><ul><li>左括号必须用相同类型的右括号闭合。</li><li>左括号必须以正确的顺序闭合。</li><li>注意空字符串可被认为是有效字符串。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isValid</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; bool:</span></span><br><span class="line">        hashmap=&#123;<span class="string">&#x27;(&#x27;</span>:<span class="string">&#x27;)&#x27;</span>,<span class="string">&#x27;&#123;&#x27;</span>:<span class="string">&#x27;&#125;&#x27;</span>,<span class="string">&#x27;[&#x27;</span>:<span class="string">&#x27;]&#x27;</span>&#125;</span><br><span class="line">        stack=[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> hashmap: stack.append(i)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> stack: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                <span class="keyword">elif</span> i!=hashmap[stack.pop()]: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">not</span> stack</span><br><span class="line"></span><br><span class="line"><span class="comment">#注意：not stack是stack为空，不是stack==None</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#其它版本：</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isValid</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; bool:</span></span><br><span class="line">        dic = &#123;<span class="string">&#x27;&#123;&#x27;</span>: <span class="string">&#x27;&#125;&#x27;</span>,  <span class="string">&#x27;[&#x27;</span>: <span class="string">&#x27;]&#x27;</span>, <span class="string">&#x27;(&#x27;</span>: <span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;?&#x27;</span>: <span class="string">&#x27;?&#x27;</span>&#125;</span><br><span class="line">        stack = [<span class="string">&#x27;?&#x27;</span>]</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> c <span class="keyword">in</span> dic: stack.append(c)</span><br><span class="line">            <span class="keyword">elif</span> dic[stack.pop()] != c: <span class="keyword">return</span> <span class="literal">False</span> </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(stack) == <span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/b7fa.html"/>
      <url>posts/b7fa.html</url>
      
        <content type="html"><![CDATA[<h3 id="322-重新安排行程（8-27"><a href="#322-重新安排行程（8-27" class="headerlink" title="322.重新安排行程（8.27)"></a>322.重新安排行程（<code>8.27</code>)</h3><p>给定一个机票的字符串二维数组 [from, to]，子数组中的两个成员分别表示飞机出发和降落的机场地点，对该行程进行重新规划排序。所有这些机票都属于一个从 JFK（肯尼迪国际机场）出发的先生，所以该行程必须从 JFK 开始。</p><p>说明:</p><ul><li>如果存在多种有效的行程，你可以按字符自然排序返回最小的行程组合。例如，行程 [“JFK”, “LGA”] 与 [“JFK”, “LGB”] 相比就更小，排序更靠前</li><li>所有的机场都用三个大写字母表示（机场代码）。</li><li>假定所有机票至少存在一种合理的行程。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#map硬套不行啊，会在图里死循环。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#什么是欧拉路径？欧拉路径就是一条能够不重不漏地经过图上的**每一条边**的路径，</span></span><br><span class="line"><span class="comment">#即小学奥数中的一笔画问题。而若这条路径的起点和终点相同，则将这条路径称为欧拉回路。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如何判断一个图是否有欧拉路径呢？显然，与一笔画问题相同，一个图有欧拉路径需要以下几个条件：</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 首先，这是一个连通图</span></span><br><span class="line"><span class="comment"># 2. 若是无向图，则这个图的度数为奇数的点的个数必须是0或2；</span></span><br><span class="line"><span class="comment">#    若是有向图，则要么所有点的入度和出度相等，要么有且只有两个点的入度分别比出度大1和少1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#具有欧拉回路的无向图称为欧拉图。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#具有欧拉通路但不具有欧拉回路的无向图称为半欧拉图。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findItinerary</span>(<span class="params">self, tickets: List[List[<span class="built_in">str</span>]]</span>) -&gt; List[str]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">curr</span>):</span></span><br><span class="line">            <span class="keyword">while</span> vec[curr]:</span><br><span class="line">                <span class="comment">#pop出最小值</span></span><br><span class="line">                tmp= heapq.heappop(vec[curr])</span><br><span class="line">                dfs(tmp)</span><br><span class="line">            stack.append(curr)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#一个&#123;depart:[arrive...]&#125;的字典</span></span><br><span class="line">        vec=collections.defaultdict(<span class="built_in">list</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> depart,arrive <span class="keyword">in</span> tickets:</span><br><span class="line">            vec[depart].append(arrive)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#便于排序</span></span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> vec:</span><br><span class="line">            heapq.heapify(vec[key])</span><br><span class="line">        <span class="comment">#heapq是一个标准库模块,优先队列算法</span></span><br><span class="line">        <span class="comment">#heapify转换列表成为堆结构</span></span><br><span class="line"></span><br><span class="line">        stack=<span class="built_in">list</span>()</span><br><span class="line">        dfs(<span class="string">&quot;JFK&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> stack[::-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#dfs和逆序那块迷糊</span></span><br></pre></td></tr></table></figure><blockquote><ol><li>由于题目中说必然存在一条有效路径(至少是半欧拉图)，所以算法不需要回溯（既加入到结果集里的元素不需要删除）</li><li>整个图最多存在一个死胡同(出度和入度相差1），且这个死胡同一定是最后一个访问到的，否则无法完成一笔画。</li><li>DFS的调用其实是一个拆边的过程（既每次调用删除一条边），一定是递归到这个死胡同（无边可拆）后递归函数开始返回。所以死胡同是第一个加入栈中的元素。</li><li>最后逆序的输出即可。</li></ol></blockquote><h3 id="133-克隆图（8-12"><a href="#133-克隆图（8-12" class="headerlink" title="133. 克隆图（8.12)"></a>133. 克隆图（<code>8.12</code>)</h3><p>给你无向 连通 图中一个节点的引用，请你返回该图的 深拷贝（克隆）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.visited=&#123;&#125; <span class="comment">#新node字典</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cloneGraph</span>(<span class="params">self, node</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> node: <span class="keyword">return</span> node</span><br><span class="line">        <span class="keyword">if</span> node <span class="keyword">in</span> self.visited:</span><br><span class="line">            <span class="keyword">return</span> self.visited[node]</span><br><span class="line"></span><br><span class="line">        clone_node=Node(node.val,[])</span><br><span class="line">        self.visited[node]=clone_node</span><br><span class="line"></span><br><span class="line">        clone_node.neighbors=[self.cloneGraph(n) <span class="keyword">for</span> n <span class="keyword">in</span> node.neighbors]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> clone_node</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于一张图而言，它的深拷贝即构建一张与原图结构，值均一样的图，但是其中的节点不再是原来图节点的引用.</span></span><br><span class="line"><span class="comment"># 或者用copy.deepcopy</span></span><br></pre></td></tr></table></figure><h3 id="207-课程表（8-4"><a href="#207-课程表（8-4" class="headerlink" title="207. 课程表（8.4)"></a>207. 课程表（<code>8.4</code>)</h3><p>你这个学期必须选修 <code>numCourse</code> 门课程，记为 <code>0</code> 到 <code>numCourse-1</code> 。</p><p>在选修某些课程之前需要一些先修课程。 例如，想要学习课程 <code>0</code> ，你需要先完成课程 <code>1</code> ，我们用一个匹配来表示他们：<code>[0,1]</code></p><p>给定课程总量以及它们的先决条件，请你判断是否可能完成所有课程的学习？</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canFinish</span>(<span class="params">self, numCourses: <span class="built_in">int</span>, prerequisites: List[List[<span class="built_in">int</span>]]</span>) -&gt; bool:</span></span><br><span class="line">        relation=collections.defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        indegree=[<span class="number">0</span>]*numCourses   <span class="comment">#入度值列表</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> info <span class="keyword">in</span> prerequisites:</span><br><span class="line">            relation[info[<span class="number">1</span>]].append(info[<span class="number">0</span>]) <span class="comment">#基础：[进阶]关系字典</span></span><br><span class="line">            indegree[info[<span class="number">0</span>]]+=<span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">#先建一个入度为0的队列</span></span><br><span class="line">        q = collections.deque([c <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(numCourses) <span class="keyword">if</span> indegree[c] ==<span class="number">0</span>])</span><br><span class="line">        visited = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> q:</span><br><span class="line">            visited += <span class="number">1</span></span><br><span class="line">            u = q.popleft()</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> relation[u]:</span><br><span class="line">                indegree[i] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> indegree[i] == <span class="number">0</span>:</span><br><span class="line">                    q.append(i)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> visited == numCourses</span><br></pre></td></tr></table></figure><blockquote><p><strong>小结：</strong></p><ul><li>核心思想：以入度进行BFS</li><li>入度：图中的一个节点，多少个节点指向它</li></ul><p>唔，经典拓扑图的算法.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/4832.html"/>
      <url>posts/4832.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-1219-黄金矿工"><a href="#1-1219-黄金矿工" class="headerlink" title="(1)1219.黄金矿工"></a>(1)1219.黄金矿工</h2><p>你要开发一座金矿，地质勘测学家已经探明了这座金矿中的资源分布，并用大小为 <code>m * n</code> 的网格 <code>grid</code> 进行了标注。每个单元格中的整数就表示这一单元格中的黄金数量；如果该单元格是空的，那么就是 <code>0</code>。</p><p>为了使收益最大化，矿工需要按以下规则来开采黄金：</p><ul><li>每当矿工进入一个单元，就会收集该单元格中的所有黄金。</li><li>矿工每次可以从当前位置向上下左右四个方向走。</li><li>每个单元格只能被开采（进入）一次。</li><li>不得开采（进入）黄金数目为 0 的单元格。</li><li>矿工可以从网格中 <strong>任意一个</strong> 有黄金的单元格出发或者是停止。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMaximumGold</span>(<span class="params">self, grid: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">i,j</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="number">0</span>&lt;=i&lt;rows <span class="keyword">and</span> <span class="number">0</span>&lt;=j&lt;cols <span class="keyword">and</span> grid[i][j]:</span><br><span class="line">                tmp,grid[i][j]= grid[i][j],<span class="number">0</span></span><br><span class="line">                gain=<span class="built_in">max</span>(dfs(i-<span class="number">1</span>,j),dfs(i+<span class="number">1</span>,j),dfs(i,j-<span class="number">1</span>),dfs(i,j+<span class="number">1</span>))</span><br><span class="line">                grid[i][j]=tmp</span><br><span class="line">                <span class="keyword">return</span> tmp+gain</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        rows,cols=<span class="built_in">len</span>(grid),<span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        ans=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                ans=<span class="built_in">max</span>(ans,dfs(i,j))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># dfs带上回溯</span></span><br></pre></td></tr></table></figure><h2 id="2-841-钥匙和房间"><a href="#2-841-钥匙和房间" class="headerlink" title="(2)841.钥匙和房间"></a>(2)841.钥匙和房间</h2><p>有 <code>N</code> 个房间，开始时你位于 <code>0</code> 号房间。每个房间有不同的号码：<code>0，1，2，...，N-1</code>，并且房间里可能有一些钥匙能使你进入下一个房间。</p><p>在形式上，对于每个房间 <code>i</code> 都有一个钥匙列表 <code>rooms[i]</code>，每个钥匙 <code>rooms[i][j]</code> 由 <code>[0,1，...，N-1]</code> 中的一个整数表示，其中 <code>N = rooms.length</code>。 钥匙<code> rooms[i][j] = v</code> 可以打开编号为 <code>v</code> 的房间。</p><p>最初，除 <code>0</code> 号房间外的其余所有房间都被锁住。</p><p>你可以自由地在房间之间来回走动。</p><p>如果能进入每个房间返回 <code>true</code>，否则返回 <code>false</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canVisitAllRooms</span>(<span class="params">self, rooms: List[List[<span class="built_in">int</span>]]</span>) -&gt; bool:</span></span><br><span class="line">        visited=<span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">i</span>):</span></span><br><span class="line">            visited.add(i)</span><br><span class="line">            <span class="keyword">for</span> room <span class="keyword">in</span> rooms[i]:</span><br><span class="line">                <span class="keyword">if</span> room <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                    dfs(room)</span><br><span class="line">        </span><br><span class="line">        dfs(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(<span class="built_in">list</span>(visited))==<span class="built_in">len</span>(rooms)</span><br></pre></td></tr></table></figure><h2 id="3-扫雷游戏"><a href="#3-扫雷游戏" class="headerlink" title="(3)扫雷游戏"></a>(3)扫雷游戏</h2><p><a href="https://leetcode-cn.com/problems/minesweeper/">https://leetcode-cn.com/problems/minesweeper/</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">updateBoard</span>(<span class="params">self, board: List[List[<span class="built_in">str</span>]], click: List[<span class="built_in">int</span>]</span>) -&gt; List[List[str]]:</span></span><br><span class="line">        rows,cols=<span class="built_in">len</span>(board),<span class="built_in">len</span>(board[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">if</span> board[click[<span class="number">0</span>]][click[<span class="number">1</span>]]==<span class="string">&quot;M&quot;</span>:</span><br><span class="line">            board[click[<span class="number">0</span>]][click[<span class="number">1</span>]]=<span class="string">&quot;X&quot;</span></span><br><span class="line">            <span class="keyword">return</span> board</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">x,y</span>):</span></span><br><span class="line">            cnt=<span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> i,j <span class="keyword">in</span>[(x-<span class="number">1</span>,y-<span class="number">1</span>),(x-<span class="number">1</span>,y),(x-<span class="number">1</span>,y+<span class="number">1</span>),(x,y-<span class="number">1</span>),(x,y),(x,y+<span class="number">1</span>),(x+<span class="number">1</span>,y-<span class="number">1</span>),(x+<span class="number">1</span>,y),(x+<span class="number">1</span>,y+<span class="number">1</span>)]:</span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span>&lt;=i&lt;rows <span class="keyword">and</span> <span class="number">0</span>&lt;=j&lt;cols:</span><br><span class="line">                    <span class="keyword">if</span> board[i][j]==<span class="string">&quot;M&quot;</span>: cnt+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> cnt</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">x,y</span>):</span></span><br><span class="line">            <span class="keyword">if</span> x&lt;<span class="number">0</span> <span class="keyword">or</span> x&gt;=rows <span class="keyword">or</span> y&lt;<span class="number">0</span> <span class="keyword">or</span> y&gt;=cols:</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">if</span> board[x][y]==<span class="string">&quot;E&quot;</span>:</span><br><span class="line">                tmp=check(x,y)</span><br><span class="line">                <span class="keyword">if</span> tmp==<span class="number">0</span>:</span><br><span class="line">                    board[x][y]=<span class="string">&quot;B&quot;</span></span><br><span class="line">                    <span class="keyword">for</span> i,j <span class="keyword">in</span>[(x-<span class="number">1</span>,y-<span class="number">1</span>),(x-<span class="number">1</span>,y),(x-<span class="number">1</span>,y+<span class="number">1</span>),(x,y-<span class="number">1</span>),(x,y),(x,y+<span class="number">1</span>),(x+<span class="number">1</span>,y-<span class="number">1</span>),(x+<span class="number">1</span>,y),(x+<span class="number">1</span>,y+<span class="number">1</span>)]:</span><br><span class="line">                        dfs(i,j)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    board[x][y]=<span class="built_in">str</span>(tmp)</span><br><span class="line"></span><br><span class="line">        dfs(click[<span class="number">0</span>],click[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> board</span><br><span class="line"></span><br><span class="line"><span class="comment"># 看起来抽象的东西不一定难</span></span><br></pre></td></tr></table></figure><h2 id="3-200-岛屿数量"><a href="#3-200-岛屿数量" class="headerlink" title="(3)200. 岛屿数量"></a>(3)200. 岛屿数量</h2><p>给你一个由 <code>&#39;1&#39;</code>（陆地）和 <code>&#39;0&#39;</code>（水）组成的的二维网格，请你计算网格中岛屿的数量。</p><p>岛屿总是被水包围，并且每座岛屿只能由水平方向或竖直方向上相邻的陆地连接形成。</p><p>此外，你可以假设该网格的四条边均被水包围。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numIslands</span>(<span class="params">self, grid: List[List[<span class="built_in">str</span>]]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> grid: <span class="keyword">return</span> <span class="number">0</span> <span class="comment">#有个index(0) out of的bug</span></span><br><span class="line">        rows,cols=<span class="built_in">len</span>(grid),<span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        ans=<span class="number">0</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">x,y</span>):</span></span><br><span class="line">            <span class="keyword">if</span> x&lt;<span class="number">0</span> <span class="keyword">or</span> x&gt;=rows <span class="keyword">or</span> y&lt;<span class="number">0</span> <span class="keyword">or</span> y&gt;=cols: <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">if</span> grid[x][y]==<span class="string">&#x27;0&#x27;</span>: <span class="keyword">return</span></span><br><span class="line">            grid[x][y]=<span class="string">&#x27;0&#x27;</span></span><br><span class="line">            dfs(x-<span class="number">1</span>,y)</span><br><span class="line">            dfs(x+<span class="number">1</span>,y)</span><br><span class="line">            dfs(x,y-<span class="number">1</span>)</span><br><span class="line">            dfs(x,y+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="string">&quot;1&quot;</span>:</span><br><span class="line">                    dfs(i,j)</span><br><span class="line">                    ans+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># wa~,可以瞎写这个原来觉得神奇的题了。</span></span><br><span class="line"><span class="comment"># 2020-09-23</span></span><br></pre></td></tr></table></figure><h2 id="4-695-岛屿的最大面积"><a href="#4-695-岛屿的最大面积" class="headerlink" title="(4)695. 岛屿的最大面积"></a>(4)695. 岛屿的最大面积</h2><p>给定一个包含了一些 <code>0</code> 和 <code>1</code> 的非空二维数组 <code>grid</code> 。</p><p>一个 岛屿 是由一些相邻的 <code>1</code> (代表土地) 构成的组合，这里的「相邻」要求两个 <code>1</code> 必须在水平或者竖直方向上相邻。你可以假设 <code>grid</code> 的四个边缘都被 <code>0</code>（代表水）包围着。</p><p>找到给定的二维数组中最大的岛屿面积。(如果没有岛屿，则返回面积为 <code>0</code> 。)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxAreaOfIsland</span>(<span class="params">self, grid: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> grid: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        rows,cols=<span class="built_in">len</span>(grid),<span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        ans=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">x,y</span>):</span></span><br><span class="line">            <span class="keyword">if</span> x&lt;<span class="number">0</span> <span class="keyword">or</span> x&gt;=rows <span class="keyword">or</span> y&lt;<span class="number">0</span> <span class="keyword">or</span> y&gt;=cols: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> grid[x][y]==<span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            grid[x][y]=<span class="number">0</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>+dfs(x-<span class="number">1</span>,y)+dfs(x+<span class="number">1</span>,y)+dfs(x,y-<span class="number">1</span>)+dfs(x,y+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="number">1</span>:</span><br><span class="line">                    ans=<span class="built_in">max</span>(ans,dfs(i,j))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这1不是“1”了...</span></span><br></pre></td></tr></table></figure><h2 id="5-N叉树的层序遍历"><a href="#5-N叉树的层序遍历" class="headerlink" title="(5)N叉树的层序遍历"></a>(5)N叉树的层序遍历</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">levelOrder</span>(<span class="params">self, root: <span class="string">&#x27;Node&#x27;</span></span>) -&gt; List[List[int]]:</span></span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">node,depth</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> node: <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(ans)&lt;=depth: ans.append([])</span><br><span class="line">            ans[depth].append(node.val)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> node.children:</span><br><span class="line">                dfs(i,depth+<span class="number">1</span>)</span><br><span class="line">        dfs(root,<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><h2 id="6-二叉树的堂兄弟节点"><a href="#6-二叉树的堂兄弟节点" class="headerlink" title="(6)二叉树的堂兄弟节点"></a>(6)二叉树的堂兄弟节点</h2><p>在二叉树中，根节点位于深度 <code>0</code> 处，每个深度为 <code>k</code> 的节点的子节点位于深度 <code>k+1</code> 处。</p><p>如果二叉树的两个节点深度相同，但父节点不同，则它们是一对堂兄弟节点。</p><p>我们给出了具有唯一值的二叉树的根节点 <code>root</code>，以及树中两个不同节点的值 <code>x</code> 和 <code>y</code>。</p><p>只有与值 <code>x</code> 和 <code>y</code> 对应的节点是堂兄弟节点时，才返回 <code>true</code>。否则，返回 <code>false</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isCousins</span>(<span class="params">self, root: TreeNode, x: <span class="built_in">int</span>, y: <span class="built_in">int</span></span>) -&gt; bool:</span></span><br><span class="line">        self.x,self.y=<span class="literal">None</span>,<span class="literal">None</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">node,pre,depth,x,y</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> node: <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">if</span> node.val==x: self.x=[pre,depth]</span><br><span class="line">            <span class="keyword">if</span> node.val==y: self.y=[pre,depth]</span><br><span class="line">            dfs(node.left,node,depth+<span class="number">1</span>,x,y)</span><br><span class="line">            dfs(node.right,node,depth+<span class="number">1</span>,x,y)</span><br><span class="line">        dfs(root,<span class="literal">None</span>,<span class="number">0</span>,x,y)</span><br><span class="line">        <span class="keyword">return</span> self.x[<span class="number">0</span>]!=self.y[<span class="number">0</span>] <span class="keyword">and</span> self.x[<span class="number">1</span>]==self.y[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">###</span></span><br><span class="line"><span class="comment">###</span></span><br></pre></td></tr></table></figure><h2 id="7-1162-地图分析"><a href="#7-1162-地图分析" class="headerlink" title="(7)1162.地图分析"></a>(7)1162.地图分析</h2><p><a href="https://leetcode-cn.com/problems/as-far-from-land-as-possible/">https://leetcode-cn.com/problems/as-far-from-land-as-possible/</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxDistance</span>(<span class="params">self, grid: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        n=<span class="built_in">len</span>(grid)</span><br><span class="line">        steps=-<span class="number">1</span></span><br><span class="line">        queue=[(i,j) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n) <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n) <span class="keyword">if</span> grid[i][j]==<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(queue) <span class="keyword">in</span> [<span class="number">0</span>,n*n]: <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(queue)&gt;<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(queue)):</span><br><span class="line">                x,y=queue.pop(<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">for</span> xi,yi <span class="keyword">in</span> [(x+<span class="number">1</span>,y),(x-<span class="number">1</span>,y),(x,y+<span class="number">1</span>),(x,y-<span class="number">1</span>)]:</span><br><span class="line">                    <span class="keyword">if</span> <span class="number">0</span>&lt;=xi&lt;n <span class="keyword">and</span> <span class="number">0</span>&lt;=yi&lt;n <span class="keyword">and</span> grid[xi][yi]==<span class="number">0</span>:</span><br><span class="line">                        queue.append((xi,yi))</span><br><span class="line">                        grid[xi][yi]=-<span class="number">1</span></span><br><span class="line">            steps+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> steps</span><br><span class="line"></span><br><span class="line"><span class="comment"># BFS</span></span><br><span class="line"><span class="comment"># 从陆地（1）扩展到海洋（0）</span></span><br></pre></td></tr></table></figure><h2 id="8-水域大小"><a href="#8-水域大小" class="headerlink" title="(8)水域大小"></a>(8)水域大小</h2><p><a href="https://leetcode-cn.com/problems/pond-sizes-lcci/">https://leetcode-cn.com/problems/pond-sizes-lcci/</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pondSizes</span>(<span class="params">self, land: List[List[<span class="built_in">int</span>]]</span>) -&gt; List[int]:</span></span><br><span class="line"></span><br><span class="line">        rows,cols=<span class="built_in">len</span>(land),<span class="built_in">len</span>(land[<span class="number">0</span>])</span><br><span class="line">        ans=[]</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bfs</span>(<span class="params">i,j</span>):</span></span><br><span class="line">            queue=[(i,j)]</span><br><span class="line">            size=<span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> <span class="built_in">len</span>(queue)&gt;<span class="number">0</span>:</span><br><span class="line">                x,y=queue.pop(<span class="number">0</span>)</span><br><span class="line">                size+=<span class="number">1</span></span><br><span class="line">                <span class="keyword">for</span> xi,yi <span class="keyword">in</span> [(x+<span class="number">1</span>,y),(x+<span class="number">1</span>,y+<span class="number">1</span>),(x+<span class="number">1</span>,y-<span class="number">1</span>),(x,y+<span class="number">1</span>),(x,y-<span class="number">1</span>),(x-<span class="number">1</span>,y+<span class="number">1</span>),(x-<span class="number">1</span>,y),(x-<span class="number">1</span>,y-<span class="number">1</span>)]:</span><br><span class="line">                    <span class="keyword">if</span> <span class="number">0</span>&lt;=xi&lt;rows <span class="keyword">and</span> <span class="number">0</span>&lt;=yi&lt;cols <span class="keyword">and</span> land[xi][yi]==<span class="number">0</span>:</span><br><span class="line">                        queue.append((xi,yi))</span><br><span class="line">                        land[xi][yi]=-<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> size</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="keyword">if</span> land[i][j]==<span class="number">0</span>:</span><br><span class="line">                    land[i][j]=-<span class="number">1</span></span><br><span class="line">                    ans.append(bfs(i,j))</span><br><span class="line">        ans.sort()</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># return ans.sort() 返回的 null</span></span><br><span class="line"><span class="comment"># 发现bfs是queue的更新，dfs是树的遍历</span></span><br></pre></td></tr></table></figure><h2 id="9-边框着色"><a href="#9-边框着色" class="headerlink" title="(9)边框着色"></a>(9)边框着色</h2><p>对联通分量的边界进行着色</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">colorBorder</span>(<span class="params">self, grid: List[List[<span class="built_in">int</span>]], r0: <span class="built_in">int</span>, c0: <span class="built_in">int</span>, color: <span class="built_in">int</span></span>) -&gt; List[List[int]]:</span></span><br><span class="line">        rows,cols=<span class="built_in">len</span>(grid),<span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        border,visit=<span class="built_in">set</span>(),<span class="built_in">set</span>() <span class="comment"># visit记录同色，不用d了</span></span><br><span class="line">        mark=grid[r0][c0]</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">x,y</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span>(<span class="number">0</span>&lt;=x&lt;rows <span class="keyword">and</span> <span class="number">0</span>&lt;=y&lt;cols <span class="keyword">and</span> grid[x][y]==mark): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> (x,y) <span class="keyword">in</span> visit: <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            visit.add((x,y))</span><br><span class="line">            <span class="keyword">if</span> dfs(x+<span class="number">1</span>,y)+dfs(x-<span class="number">1</span>,y)+dfs(x,y+<span class="number">1</span>)+dfs(x,y-<span class="number">1</span>)&lt;<span class="number">4</span>: border.add((x,y))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        dfs(r0,c0)</span><br><span class="line">        <span class="keyword">for</span> x,y <span class="keyword">in</span> border:</span><br><span class="line">            grid[x][y]=color</span><br><span class="line">        <span class="keyword">return</span> grid</span><br><span class="line"></span><br><span class="line"><span class="comment"># 额外数组的加入</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/41d3.html"/>
      <url>posts/41d3.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-两数之和"><a href="#1-两数之和" class="headerlink" title="1.两数之和"></a>1.两数之和</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">twoSum</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; List[int]:</span></span><br><span class="line">        hashmap=&#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> i,num <span class="keyword">in</span> <span class="built_in">enumerate</span>(nums):</span><br><span class="line">            j=hashmap.get(target-num)</span><br><span class="line">            <span class="keyword">if</span> j != <span class="literal">None</span> :<span class="keyword">return</span> [i,j]  <span class="comment"># j可为0</span></span><br><span class="line">            hashmap[num]=i</span><br></pre></td></tr></table></figure><h2 id="560-和为K的子数组"><a href="#560-和为K的子数组" class="headerlink" title="560.和为K的子数组"></a>560.和为K的子数组</h2><p>给定一个整数数组和一个整数 k，你需要找到该数组中和为 k 的连续的子数组的个数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">subarraySum</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        pre = &#123;<span class="number">0</span>:<span class="number">1</span>&#125; <span class="comment">#记载所有前缀和</span></span><br><span class="line">        ans,<span class="built_in">sum</span>=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="built_in">sum</span>+=num</span><br><span class="line">            need=<span class="built_in">sum</span>-k</span><br><span class="line">            <span class="keyword">if</span> need <span class="keyword">in</span> pre:</span><br><span class="line">                ans += pre[need]</span><br><span class="line">            <span class="comment">#在hash table里查找key，如果有返回对应的value，反之返回0 </span></span><br><span class="line">            pre[<span class="built_in">sum</span>] = pre.get(<span class="built_in">sum</span>, <span class="number">0</span>) + <span class="number">1</span>    </span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><p><strong>小结</strong></p><blockquote><ol><li>前缀和+hash的优化</li><li><code>dict.get(key,default=None)</code></li></ol></blockquote><h2 id="other"><a href="#other" class="headerlink" title="other"></a><em>other</em></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jewelsSet = <span class="built_in">set</span>(J)</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">sum</span>(s <span class="keyword">in</span> jewelsSet <span class="keyword">for</span> s <span class="keyword">in</span> S)</span><br><span class="line"></span><br><span class="line"><span class="comment">#集合是一个哈希表，降低遍历的时间复杂度</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 每次都遇到这个问题：</span></span><br><span class="line"><span class="comment"># unhashable type: &#x27;list&#x27;</span></span><br><span class="line"><span class="comment"># 不能在哈希表中快速找到这个表，不能集合为多重表去重</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/c6d1.html"/>
      <url>posts/c6d1.html</url>
      
        <content type="html"><![CDATA[<h2 id="面试题64-求1-2-…-n"><a href="#面试题64-求1-2-…-n" class="headerlink" title="面试题64. 求1+2+…+n"></a>面试题64. 求1+2+…+n</h2><p>求 <code>1+2+...+n </code>，要求<strong>不能使用</strong>乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sumNums</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">return</span> n <span class="keyword">and</span> n+self.sumNums(n-<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 学会了and的特性</span></span><br><span class="line"><span class="comment"># a and b 返回 b, a and 0 返回 a</span></span><br></pre></td></tr></table></figure><h2 id="136-只出现一次的数字"><a href="#136-只出现一次的数字" class="headerlink" title="136.只出现一次的数字"></a>136.只出现一次的数字</h2><p>给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均<strong>出现两次</strong>。找出那个只出现了一次的元素。</p><p>说明：</p><p>你的算法应该具有线性时间复杂度。 你可以不使用额外空间来实现吗？</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">return</span> reduce(<span class="keyword">lambda</span> x, y: x ^ y, nums)</span><br><span class="line"><span class="comment">#reduce(function, iterable[, initializer])内置函数</span></span><br><span class="line"><span class="comment">#异或（在二进制基础上）的特性：a^a=0，a^0=a</span></span><br></pre></td></tr></table></figure><h2 id="172-阶乘后的零"><a href="#172-阶乘后的零" class="headerlink" title="172.阶乘后的零"></a>172.阶乘后的零</h2><p>给定一个整数 n，返回 n! 结果尾数中零的数量。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">trailingZeroes</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        cnt = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">            n //= <span class="number">5</span></span><br><span class="line">            cnt += n</span><br><span class="line">        <span class="keyword">return</span> cnt</span><br><span class="line"><span class="comment"># 数学观察</span></span><br></pre></td></tr></table></figure><h2 id="231-2的幂"><a href="#231-2的幂" class="headerlink" title="231.2的幂"></a>231.2的幂</h2><p>给定一个整数，编写一个函数来判断它是否是 2 的幂次方。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> n&gt;<span class="number">0</span> <span class="keyword">and</span> n&amp;(n-<span class="number">1</span>)==<span class="number">0</span></span><br></pre></td></tr></table></figure><p>说明：</p><table><thead><tr><th>num</th><th>n</th><th>n-1</th><th>n&amp;(n-1)</th></tr></thead><tbody><tr><td>2**0</td><td>0001</td><td>0000</td><td>0000</td></tr><tr><td>2**1</td><td>0010</td><td>0001</td><td>0000</td></tr><tr><td>2**2</td><td>0100</td><td>0011</td><td>0000</td></tr></tbody></table><h2 id="60-第k个排列"><a href="#60-第k个排列" class="headerlink" title="60.第k个排列"></a>60.第k个排列</h2><p>给出集合 [1,2,3,…,n]，其所有元素共有 n! 种排列。</p><p>按大小顺序列出所有排列情况，并一一标记，当 n = 3 时, 所有排列如下：<br>“123”，”132”，”213”，”231”，”312”，”321”</p><p>给定 <code>n</code> 和 <code>k</code>，返回第 <code>k</code> 个排列。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getPermutation</span>(<span class="params">self, n: <span class="built_in">int</span>, k: <span class="built_in">int</span></span>) -&gt; str:</span></span><br><span class="line">        ans=<span class="string">&quot;&quot;</span></span><br><span class="line">        factroial=[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n):</span><br><span class="line">            factroial.append(i*factroial[-<span class="number">1</span>])</span><br><span class="line">        valid=[<span class="number">1</span>]*(n+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        k-=<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">            order=k//factroial[n-i]+<span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">                order-=valid[j]</span><br><span class="line">                <span class="keyword">if</span> order==<span class="number">0</span>:</span><br><span class="line">                    ans+=<span class="built_in">str</span>(j)</span><br><span class="line">                    valid[j]=<span class="number">0</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            k %= factroial[n-i]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment">#康托展开，不懂</span></span><br></pre></td></tr></table></figure><h2 id="计数质数"><a href="#计数质数" class="headerlink" title="计数质数"></a>计数质数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countPrimes</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> n&lt;<span class="number">3</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        ans=[<span class="number">1</span>]*n</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,<span class="built_in">int</span>(n**<span class="number">0.5</span>)+<span class="number">1</span>):</span><br><span class="line">            ans[<span class="number">2</span>*i::i]=[<span class="number">0</span>]*<span class="built_in">len</span>(ans[<span class="number">2</span>*i::i])</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(ans)-<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#埃氏筛</span></span><br><span class="line"><span class="comment">#那个i的范围还是没懂</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/5b58.html"/>
      <url>posts/5b58.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-二叉树的遍历"><a href="#1-二叉树的遍历" class="headerlink" title="(1)二叉树的遍历"></a>(1)二叉树的遍历</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.中序遍历：</span></span><br><span class="line"><span class="comment"># --&gt;走左边--&gt;记录--&gt;走右边</span></span><br><span class="line"><span class="comment"># 遍历BST非递减</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inorderTraversal</span>(<span class="params">self, root: TreeNode</span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inorder</span>(<span class="params">node</span>):</span></span><br><span class="line">            <span class="keyword">if</span> node:</span><br><span class="line">                <span class="keyword">yield</span> <span class="keyword">from</span> inorder(node.left)</span><br><span class="line">                <span class="keyword">yield</span> node.val</span><br><span class="line">                <span class="keyword">yield</span> <span class="keyword">from</span> inorder(node.right)</span><br><span class="line">        <span class="keyword">return</span> [i <span class="keyword">for</span> i <span class="keyword">in</span> inorder(root)]</span><br><span class="line"></span><br><span class="line"><span class="comment">#关于yield，next的使用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#找到BST中第k小的元素：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kthSmallest</span>(<span class="params">self, root: TreeNode, k: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inorder</span>(<span class="params">node</span>):</span></span><br><span class="line">            <span class="keyword">if</span> node:</span><br><span class="line">                <span class="keyword">yield</span> <span class="keyword">from</span> inorder(node.left)</span><br><span class="line">                <span class="keyword">yield</span> node.val</span><br><span class="line">                <span class="keyword">yield</span> <span class="keyword">from</span> inorder(node.right)</span><br><span class="line">        it =inorder(root)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">            ans=<span class="built_in">next</span>(it)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.前序遍历：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preorderTraversal</span>(<span class="params">self, root: TreeNode</span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">preorder</span>(<span class="params">node</span>):</span></span><br><span class="line">            <span class="keyword">if</span> node:</span><br><span class="line">                <span class="keyword">yield</span> node.val</span><br><span class="line">                <span class="keyword">yield</span> <span class="keyword">from</span> preorder(node.left)</span><br><span class="line">                <span class="keyword">yield</span> <span class="keyword">from</span> preorder(node.right)</span><br><span class="line">        <span class="keyword">return</span> [i <span class="keyword">for</span> i <span class="keyword">in</span> preorder(root)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 后序遍历</span></span><br><span class="line"><span class="comment"># 3.1 N叉树后序遍历</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">postorder</span>(<span class="params">self, root: <span class="string">&#x27;Node&#x27;</span></span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">node</span>):</span></span><br><span class="line">            <span class="keyword">if</span> node:</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> node.children: <span class="keyword">yield</span> <span class="keyword">from</span> f(i)</span><br><span class="line">                <span class="keyword">yield</span> node.val</span><br><span class="line">        <span class="keyword">return</span> [i <span class="keyword">for</span> i <span class="keyword">in</span> f(root)]</span><br></pre></td></tr></table></figure><h2 id="2-112-路径总和"><a href="#2-112-路径总和" class="headerlink" title="(2)112. 路径总和"></a>(2)112. 路径总和</h2><p>给定一个二叉树和一个目标和，判断该树中<code>是否存在</code>根节点到叶子节点的路径，这条路径上所有节点值相加等于目标和。<br>说明: 叶子节点是指没有子节点的节点。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasPathSum</span>(<span class="params">self, root: TreeNode, <span class="built_in">sum</span>: <span class="built_in">int</span></span>) -&gt; bool:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="built_in">sum</span>-=root.val</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root.left <span class="keyword">and</span> <span class="keyword">not</span> root.right :</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">sum</span>==<span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> self.hasPathSum(root.left,<span class="built_in">sum</span>) <span class="keyword">or</span> self.hasPathSum(root.right,<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure><h2 id="3-113-路径总和II"><a href="#3-113-路径总和II" class="headerlink" title="(3)113.路径总和II"></a>(3)113.路径总和II</h2><p>给定一个二叉树和一个目标和，<code>找到所有</code>从根节点到叶子节点路径总和等于给定目标和的路径。<br>说明: 叶子节点是指没有子节点的节点。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pathSum</span>(<span class="params">self, root: TreeNode, sum_: <span class="built_in">int</span></span>) -&gt; List[List[int]]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root :<span class="keyword">return</span> []</span><br><span class="line">        stack=[([root.val],root)]</span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            val,node=stack.pop()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> node.left <span class="keyword">and</span> <span class="keyword">not</span> node.right <span class="keyword">and</span> <span class="built_in">sum</span>(val)==sum_:</span><br><span class="line">                ans.append(val)</span><br><span class="line">            <span class="keyword">if</span> node.left:</span><br><span class="line">                stack.append((val+[node.left.val],node.left))</span><br><span class="line">            <span class="keyword">if</span> node.right:</span><br><span class="line">                stack.append((val+[node.right.val],node.right))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法二：回溯法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pathSum</span>(<span class="params">self, root: TreeNode, k: <span class="built_in">int</span></span>) -&gt; List[List[int]]:</span></span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bk</span>(<span class="params">node,path,k</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> node: <span class="keyword">return</span></span><br><span class="line">            path.append(node.val)</span><br><span class="line">            <span class="keyword">if</span> k==node.val <span class="keyword">and</span> <span class="keyword">not</span> node.left <span class="keyword">and</span> <span class="keyword">not</span> node.right: </span><br><span class="line">                ans.append(path[:])</span><br><span class="line">            bk(node.left,path,k-node.val)</span><br><span class="line">            bk(node.right,path,k-node.val)</span><br><span class="line">            path.pop()</span><br><span class="line">        bk(root,[],k)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><h2 id="4-437-路径总和III"><a href="#4-437-路径总和III" class="headerlink" title="(4)437.路径总和III"></a>(4)437.路径总和III</h2><p>给定一个二叉树，它的每个结点都存放着一个整数值。<br>找出路径和等于给定数值的路径总数。<br>路径不需要从根节点开始，也不需要在叶子节点结束，但是路径方向必须是向下的（只能从父节点到子节点）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pathSum</span>(<span class="params">self, root: TreeNode, <span class="built_in">sum</span>: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> self.dfs(root,<span class="built_in">sum</span>)+self.pathSum(root.left,<span class="built_in">sum</span>)+self.pathSum(root.right,<span class="built_in">sum</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">self,root,path</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        path-=root.val</span><br><span class="line">        <span class="keyword">return</span> (<span class="number">1</span> <span class="keyword">if</span> path==<span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>)+self.dfs(root.left,path)+self.dfs(root.right,path)</span><br></pre></td></tr></table></figure><h2 id="5-翻转二叉树"><a href="#5-翻转二叉树" class="headerlink" title="(5)翻转二叉树"></a>(5)翻转二叉树</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">invertTree</span>(<span class="params">self, root: TreeNode</span>) -&gt; TreeNode:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">invert</span>(<span class="params">root</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> </span><br><span class="line">            root.left,root.right=root.right,root.left</span><br><span class="line">            invert(root.left)</span><br><span class="line">            invert(root.right)</span><br><span class="line">        invert(root)</span><br><span class="line">        <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure><h2 id="6-二叉树的层平均值"><a href="#6-二叉树的层平均值" class="headerlink" title="(6)二叉树的层平均值"></a>(6)二叉树的层平均值</h2><p>给定一个非空二叉树, 返回一个由每层节点平均值组成的数组。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">averageOfLevels</span>(<span class="params">self, root: TreeNode</span>) -&gt; List[float]:</span></span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">node,depth</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> node: <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(ans)==depth:</span><br><span class="line">                ans.append([node.val])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans[depth].append(node.val)</span><br><span class="line">            dfs(node.left,depth+<span class="number">1</span>)</span><br><span class="line">            dfs(node.right,depth+<span class="number">1</span>)</span><br><span class="line">        dfs(root,<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> [<span class="built_in">sum</span>(i)/<span class="built_in">len</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> ans]</span><br></pre></td></tr></table></figure><h2 id="7-相同的树"><a href="#7-相同的树" class="headerlink" title="(7)相同的树"></a>(7)相同的树</h2><p>给定两个二叉树，编写一个函数来检验它们是否相同。</p><p>如果两个树在结构上相同，并且节点具有相同的值，则认为它们是相同的。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSameTree</span>(<span class="params">self, p: TreeNode, q: TreeNode</span>) -&gt; bool:</span></span><br><span class="line">        <span class="keyword">if</span> p==<span class="literal">None</span> <span class="keyword">and</span> q==<span class="literal">None</span>: <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> p==<span class="literal">None</span> <span class="keyword">or</span> q==<span class="literal">None</span>: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> p.val!=q.val: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> self.isSameTree(p.left,q.left) <span class="keyword">and</span> self.isSameTree(p.right,q.right) </span><br></pre></td></tr></table></figure><h2 id="8-二叉树的深度"><a href="#8-二叉树的深度" class="headerlink" title="(8)二叉树的深度"></a>(8)二叉树的深度</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 最大深度</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxDepth</span>(<span class="params">self, root: TreeNode</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            left_height=self.maxDepth(root.left)</span><br><span class="line">            right_height=self.maxDepth(root.right)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(left_height,right_height)+<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 最小深度</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minDepth</span>(<span class="params">self, root: TreeNode</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        self.ans=<span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">node,depth</span>):</span></span><br><span class="line">            <span class="keyword">if</span> depth&gt;self.ans: <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> node.left <span class="keyword">and</span> <span class="keyword">not</span> node.right:</span><br><span class="line">                self.ans=<span class="built_in">min</span>(self.ans,depth)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">if</span> node.left: dfs(node.left,depth+<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> node.right: dfs(node.right,depth+<span class="number">1</span>)</span><br><span class="line">        dfs(root,<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> self.ans</span><br></pre></td></tr></table></figure><h2 id="9-左叶子之和"><a href="#9-左叶子之和" class="headerlink" title="(9)左叶子之和"></a>(9)左叶子之和</h2><p>计算给定二叉树的所有<strong>左叶子</strong>之和。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sumOfLeftLeaves</span>(<span class="params">self, root: TreeNode</span>) -&gt; int:</span></span><br><span class="line">        self.ans=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">node</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> node: <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">if</span> node.left <span class="keyword">and</span> node.left.val <span class="keyword">and</span> (<span class="keyword">not</span> node.left.left) <span class="keyword">and</span> (<span class="keyword">not</span> node.left.right):</span><br><span class="line">                self.ans+=node.left.val</span><br><span class="line">            dfs(node.left)</span><br><span class="line">            dfs(node.right)</span><br><span class="line"></span><br><span class="line">        dfs(root)</span><br><span class="line">        <span class="keyword">return</span> self.ans</span><br><span class="line">        </span><br><span class="line"><span class="comment">#左叶子没有子节点</span></span><br></pre></td></tr></table></figure><h2 id="10-二叉树的所有路径"><a href="#10-二叉树的所有路径" class="headerlink" title="(10)二叉树的所有路径"></a>(10)二叉树的所有路径</h2><p>给定一个二叉树，返回所有从根节点到叶子节点的路径。<br>用<code>[&quot;1-&gt;2-&gt;5&quot;, &quot;1-&gt;3&quot;]</code>的类型表示</p><p>说明: 叶子节点是指没有子节点的节点。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">binaryTreePaths</span>(<span class="params">self, root: TreeNode</span>) -&gt; List[str]:</span></span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> ans</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">node,path</span>):</span></span><br><span class="line">            path+=<span class="built_in">str</span>(node.val)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> node.left <span class="keyword">and</span> <span class="keyword">not</span> node.right: ans.append(path)</span><br><span class="line">            <span class="keyword">if</span> node.left: dfs(node.left,path+<span class="string">&quot;-&gt;&quot;</span>)</span><br><span class="line">            <span class="keyword">if</span> node.right: dfs(node.right,path+<span class="string">&quot;-&gt;&quot;</span>)</span><br><span class="line">        dfs(root,<span class="string">&quot;&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><h2 id="11-恢复二叉搜索树"><a href="#11-恢复二叉搜索树" class="headerlink" title="(11)恢复二叉搜索树"></a>(11)恢复二叉搜索树</h2><p>二叉搜索树中的两个节点被错误地交换。</p><p>请在不改变其结构的情况下，恢复这棵树。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">recoverTree</span>(<span class="params">self, root: TreeNode</span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        nodes=[]      </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">root</span>):</span>    <span class="comment">#中序遍历</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> </span><br><span class="line">            dfs(root.left)</span><br><span class="line">            nodes.append(root)</span><br><span class="line">            dfs(root.right)</span><br><span class="line">        dfs(root)</span><br><span class="line"></span><br><span class="line">        pre=nodes[<span class="number">0</span>]</span><br><span class="line">        x,y=<span class="literal">None</span>,<span class="literal">None</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(nodes)):</span><br><span class="line">            <span class="keyword">if</span> pre.val &gt; nodes[i].val:</span><br><span class="line">                y=nodes[i]</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> x: x=pre  <span class="comment"># x为第一个出错的位置</span></span><br><span class="line">            pre=nodes[i]   <span class="comment">#准备下一次遍历</span></span><br><span class="line">        <span class="keyword">if</span> x <span class="keyword">and</span> y: </span><br><span class="line">            x.val, y.val=y.val, x.val</span><br><span class="line"><span class="comment">#说明： </span></span><br><span class="line"><span class="comment"># 空间复杂度O(n)</span></span><br><span class="line"><span class="comment"># 那个常数空间的莫里斯遍历不懂</span></span><br><span class="line"><span class="comment"># 在这种遍历情况下，二叉搜索树的值从小到大</span></span><br></pre></td></tr></table></figure><h2 id="12-二叉树展开为链表"><a href="#12-二叉树展开为链表" class="headerlink" title="(12)二叉树展开为链表"></a>(12)二叉树展开为链表</h2><p>给定一个二叉树，<strong>原地</strong>将它展开为一个单链表。<br>If you notice carefully in the flattened tree, each node’s right child points to the next node of a pre-order traversal.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">flatten</span>(<span class="params">self, root: TreeNode</span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Do not return anything, modify root in-place instead.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        cur=root</span><br><span class="line">        <span class="keyword">while</span> cur:</span><br><span class="line">            <span class="keyword">if</span> cur.left:</span><br><span class="line">                p=cur.left    <span class="comment">#向左子树移动</span></span><br><span class="line">                <span class="keyword">while</span> p.right: p=p.right <span class="comment">#找到root左子树的最右节点</span></span><br><span class="line">                p.right=cur.right <span class="comment">#将root右子树连到找到的节点</span></span><br><span class="line">                cur.right=cur.left <span class="comment">#再移回来</span></span><br><span class="line">                cur.left=<span class="literal">None</span></span><br><span class="line">            cur=cur.right</span><br></pre></td></tr></table></figure><h2 id="13-二叉搜索树中的众数"><a href="#13-二叉搜索树中的众数" class="headerlink" title="(13)二叉搜索树中的众数"></a>(13)二叉搜索树中的众数</h2><p>给定一个有相同值的二叉搜索树（BST），找出 BST 中的所有众数（出现频率最高的元素）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMode</span>(<span class="params">self, root: TreeNode</span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inorder</span>(<span class="params">node</span>):</span></span><br><span class="line">            <span class="keyword">if</span> node:</span><br><span class="line">                <span class="keyword">yield</span> <span class="keyword">from</span> inorder(node.left)</span><br><span class="line">                <span class="keyword">yield</span> node.val</span><br><span class="line">                <span class="keyword">yield</span> <span class="keyword">from</span> inorder(node.right)</span><br><span class="line">        ans=[]</span><br><span class="line">        cnt,max_cnt,last=<span class="number">0</span>,<span class="number">0</span>,<span class="literal">None</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> inorder(root):</span><br><span class="line">            <span class="keyword">if</span> i== last: cnt+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: cnt=<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> cnt&gt;max_cnt: ans=[i]</span><br><span class="line">            <span class="keyword">elif</span> cnt==max_cnt: ans.append(i)</span><br><span class="line">            max_cnt=<span class="built_in">max</span>(max_cnt,cnt)</span><br><span class="line">            last=i</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># python O(1)的中序遍历</span></span><br></pre></td></tr></table></figure><h2 id="13-验证BST"><a href="#13-验证BST" class="headerlink" title="(13)验证BST"></a>(13)验证BST</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isValidBST</span>(<span class="params">self, root: TreeNode</span>) -&gt; bool:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inorder</span>(<span class="params">node</span>):</span></span><br><span class="line">            <span class="keyword">if</span> node: </span><br><span class="line">                <span class="keyword">yield</span> <span class="keyword">from</span> inorder(node.left)</span><br><span class="line">                <span class="keyword">yield</span> node.val</span><br><span class="line">                <span class="keyword">yield</span> <span class="keyword">from</span> inorder(node.right)</span><br><span class="line">        pre=<span class="built_in">float</span>(<span class="string">&#x27;-inf&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> inorder(root):</span><br><span class="line">            <span class="keyword">if</span> i&lt;=pre: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            pre=i</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span> </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/d64e.html"/>
      <url>posts/d64e.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-链表的中间节点"><a href="#1-链表的中间节点" class="headerlink" title="(1)链表的中间节点"></a>(1)链表的中间节点</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">middleNode</span>(<span class="params">self, head: ListNode</span>) -&gt; ListNode:</span></span><br><span class="line">        slow=fast=head</span><br><span class="line">        <span class="keyword">while</span> fast <span class="keyword">and</span> fast.<span class="built_in">next</span>:</span><br><span class="line">            slow=slow.<span class="built_in">next</span></span><br><span class="line">            fast=fast.<span class="built_in">next</span>.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> slow</span><br><span class="line"></span><br><span class="line"><span class="comment"># 快慢指针</span></span><br></pre></td></tr></table></figure><h2 id="2-合并两个有序链表"><a href="#2-合并两个有序链表" class="headerlink" title="(2)合并两个有序链表"></a>(2)合并两个有序链表</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeTwoLists</span>(<span class="params">self, l1: ListNode, l2: ListNode</span>) -&gt; ListNode:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> l1: <span class="keyword">return</span> l2</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> l2: <span class="keyword">return</span> l1</span><br><span class="line">        <span class="keyword">if</span> l1.val&lt;l2.val:</span><br><span class="line">            l1.<span class="built_in">next</span>=self.mergeTwoLists(l1.<span class="built_in">next</span>,l2)</span><br><span class="line">            <span class="keyword">return</span> l1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            l2.<span class="built_in">next</span>=self.mergeTwoLists(l1,l2.<span class="built_in">next</span>)</span><br><span class="line">            <span class="keyword">return</span> l2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 递归</span></span><br></pre></td></tr></table></figure><h2 id="3-445-两数相加-II"><a href="#3-445-两数相加-II" class="headerlink" title="(3)445.两数相加 II"></a>(3)445.两数相加 II</h2><p>给你两个 非空 链表来代表两个非负整数。数字最高位位于链表开始位置。它们的每个节点只存储一位数字。将这两数相加会返回一个新的链表。</p><p>你可以假设除了数字 <code>0</code> 之外，这两个数字都不会以零开头。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addTwoNumbers</span>(<span class="params">self, l1: ListNode, l2: ListNode</span>) -&gt; ListNode:</span></span><br><span class="line">        s1,s2=[],[]</span><br><span class="line">        <span class="keyword">while</span> l1:</span><br><span class="line">            s1.append(l1.val)</span><br><span class="line">            l1=l1.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">while</span> l2:</span><br><span class="line">            s2.append(l2.val)</span><br><span class="line">            l2=l2.<span class="built_in">next</span></span><br><span class="line">        ans,carry=<span class="literal">None</span>,<span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> s1 <span class="keyword">or</span> s2 <span class="keyword">or</span> carry != <span class="number">0</span>:</span><br><span class="line">            a = <span class="number">0</span> <span class="keyword">if</span> <span class="keyword">not</span> s1 <span class="keyword">else</span> s1.pop()</span><br><span class="line">            b = <span class="number">0</span> <span class="keyword">if</span> <span class="keyword">not</span> s2 <span class="keyword">else</span> s2.pop()</span><br><span class="line">            cur = a + b + carry</span><br><span class="line">            cur,carry=cur%<span class="number">10</span>,cur//<span class="number">10</span></span><br><span class="line"></span><br><span class="line">            curnode = ListNode(cur)</span><br><span class="line"></span><br><span class="line">            curnode.<span class="built_in">next</span> = ans </span><br><span class="line">            ans = curnode           <span class="comment">#头部接入</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># 栈，链表</span></span><br></pre></td></tr></table></figure><h2 id="4-环形链表"><a href="#4-环形链表" class="headerlink" title="(4)环形链表"></a>(4)环形链表</h2><p>给定一个链表，判断链表中是否有环。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasCycle</span>(<span class="params">self, head</span>):</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">not</span> head <span class="keyword">or</span> <span class="keyword">not</span> head.<span class="built_in">next</span>): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        slow,fast=head,head.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">while</span>(slow!=fast):</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">not</span> fast <span class="keyword">or</span> <span class="keyword">not</span> fast.<span class="built_in">next</span>): <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            slow=slow.<span class="built_in">next</span></span><br><span class="line">            fast=fast.<span class="built_in">next</span>.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#快慢指针</span></span><br><span class="line"><span class="comment"># 1.slow放在head, fast放在head.next</span></span><br><span class="line"><span class="comment"># 2.while(slow!=fast)来移动指针</span></span><br></pre></td></tr></table></figure><h2 id="5-环形链表II"><a href="#5-环形链表II" class="headerlink" title="(5)环形链表II"></a>(5)环形链表II</h2><p>给定一个链表，返回链表开始入环的第一个节点。 如果链表无环，则返回 <code>null</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">detectCycle</span>(<span class="params">self, head: ListNode</span>) -&gt; ListNode:</span></span><br><span class="line">        fast,slow=head,head</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> fast <span class="keyword">or</span> <span class="keyword">not</span> fast.<span class="built_in">next</span>: <span class="keyword">return</span> </span><br><span class="line">            fast,slow=fast.<span class="built_in">next</span>.<span class="built_in">next</span>,slow.<span class="built_in">next</span></span><br><span class="line">            <span class="keyword">if</span> fast==slow: <span class="keyword">break</span></span><br><span class="line">        fast=head</span><br><span class="line">        <span class="keyword">while</span> fast!=slow:</span><br><span class="line">            fast,slow=fast.<span class="built_in">next</span>,slow.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> fast</span><br><span class="line"></span><br><span class="line"><span class="comment"># 记f,s分别为快慢指针走过的节点。</span></span><br><span class="line"><span class="comment"># 记a,b分别为环外、环内节点数</span></span><br><span class="line"><span class="comment"># f=2s=s+nb，s=nb.</span></span><br><span class="line"><span class="comment"># 更换指向后：f&#x27;=a,s=nb+a,是重合的，在入口处。</span></span><br></pre></td></tr></table></figure><h2 id="6-两两交换链表中的节点"><a href="#6-两两交换链表中的节点" class="headerlink" title="(6)两两交换链表中的节点"></a>(6)两两交换链表中的节点</h2><p>给定一个链表，两两交换其中相邻的节点，并返回交换后的链表。</p><p>你不能只是单纯的改变节点内部的值，而是需要实际的进行节点交换。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">swapPairs</span>(<span class="params">self, head: ListNode</span>) -&gt; ListNode:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head <span class="keyword">or</span> <span class="keyword">not</span> head.<span class="built_in">next</span>: <span class="keyword">return</span> head</span><br><span class="line">        newhead=head.<span class="built_in">next</span></span><br><span class="line">        head.<span class="built_in">next</span>=self.swapPairs(newhead.<span class="built_in">next</span>)</span><br><span class="line">        newhead.<span class="built_in">next</span>=head</span><br><span class="line">        <span class="keyword">return</span> newhead</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/d706.html"/>
      <url>posts/d706.html</url>
      
        <content type="html"><![CDATA[<h1 id="线性DP"><a href="#线性DP" class="headerlink" title="线性DP"></a><em>线性DP</em></h1><ul><li>经典单串</li><li>经典双串</li></ul><h2 id="300-最长上升子序列"><a href="#300-最长上升子序列" class="headerlink" title="300.最长上升子序列"></a>300.最长上升子序列</h2><p>给定一个无序的整数数组，找到其中最长上升子序列的长度。</p><p><strong>输入</strong>: <code>[10,9,2,5,3,7,101,18]</code><br><strong>输出</strong>: <code>4</code><br><strong>解释</strong>: 最长的上升子序列是 <code>[2,3,7,101]</code>，它的长度是 <code>4</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法一：DP---O(n^2)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLIS</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        dp=[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            dp.append(<span class="number">1</span>)</span><br><span class="line">            dp[i]=<span class="built_in">max</span>([dp[i]]+[dp[j]+<span class="number">1</span> <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i) <span class="keyword">if</span> nums[i]&gt;nums[j]])</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(dp)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法二：贪心+二分查找---O(nlogn)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLIS</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        d=[]</span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> d <span class="keyword">or</span> num&gt;d[-<span class="number">1</span>]: d.append(num)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                l,r=<span class="number">0</span>,<span class="built_in">len</span>(d)-<span class="number">1</span></span><br><span class="line">                loc=r</span><br><span class="line">                <span class="keyword">while</span> l&lt;=r:</span><br><span class="line">                    mid=(l+r)//<span class="number">2</span></span><br><span class="line">                    <span class="keyword">if</span> d[mid]&gt;=num:</span><br><span class="line">                        loc=mid</span><br><span class="line">                        r=mid-<span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>: l=mid+<span class="number">1</span></span><br><span class="line">                d[loc]=num</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(d)</span><br><span class="line"></span><br><span class="line"><span class="comment">#在nums的遍历中</span></span><br><span class="line"><span class="comment">#1.如果num比末尾大，则直接加入到数组d末尾。</span></span><br><span class="line"><span class="comment">#2.否则，在数组d中二分查找，找到第一个比num小的数d[k]，并更新 d[k + 1]=min(d[k+1],num)=num。</span></span><br></pre></td></tr></table></figure><h2 id="1143-最长公共子序列"><a href="#1143-最长公共子序列" class="headerlink" title="1143.最长公共子序列"></a>1143.最长公共子序列</h2><p>给定两个字符串 <code>text1</code> 和 <code>text2</code>，返回这两个字符串的最长公共子序列的长度。</p><p><strong>输入</strong>：<code>text1</code> = <code>&quot;abcde&quot;</code>, <code>text2</code> = <code>&quot;ace&quot;</code><br><strong>输出</strong>：<code>3</code><br><strong>解释</strong>：最长公共子序列是 <code>&quot;ace&quot;</code>，它的长度为 <code>3</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法一：DP</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestCommonSubsequence</span>(<span class="params">self, text1: <span class="built_in">str</span>, text2: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        m,n=<span class="built_in">len</span>(text1),<span class="built_in">len</span>(text2)</span><br><span class="line">        dp=[[<span class="number">0</span> <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n+<span class="number">1</span>)] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m+<span class="number">1</span>)]</span><br><span class="line">        <span class="comment">#防止dp[i-1]下标超出范围</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">1</span>+m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">1</span>+n):</span><br><span class="line">                <span class="keyword">if</span> text1[i-<span class="number">1</span>]==text2[j-<span class="number">1</span>]:</span><br><span class="line">                    dp[i][j]=dp[i-<span class="number">1</span>][j-<span class="number">1</span>]+<span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[i][j]=<span class="built_in">max</span>(dp[i-<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> dp[-<span class="number">1</span>][-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#经典双串</span></span><br><span class="line"><span class="comment">#一些看起来变态的题，给些提示居然可以写出来。。。</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法二：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestCommonSubsequence</span>(<span class="params">self, text1: <span class="built_in">str</span>, text2: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> text1 == text2:</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">len</span>(text1)</span><br><span class="line">        <span class="comment">#if not set(text1).intersection(text2):</span></span><br><span class="line">           <span class="comment"># return 0</span></span><br><span class="line">        </span><br><span class="line">        d = collections.defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        m, n = <span class="built_in">len</span>(text1), <span class="built_in">len</span>(text2)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            d[text2[i]].append(i)</span><br><span class="line">            </span><br><span class="line">        nums = []</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> text1:</span><br><span class="line">            <span class="keyword">if</span> c <span class="keyword">in</span> d:</span><br><span class="line">                nums.extend(d[c])</span><br><span class="line">        </span><br><span class="line">        ans = []</span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            idx = bisect.bisect_left(ans, num)</span><br><span class="line">            <span class="keyword">if</span> idx == <span class="built_in">len</span>(ans):</span><br><span class="line">                ans.append(num)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans[idx] = num</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(ans)</span><br></pre></td></tr></table></figure><h2 id="53-最大子序和"><a href="#53-最大子序和" class="headerlink" title="53.最大子序和"></a>53.最大子序和</h2><p>给定一个整数数组<code>nums </code>，找到一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxSubArray</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(nums)):</span><br><span class="line">            nums[i]+=<span class="built_in">max</span>(<span class="number">0</span>,nums[i-<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(nums)</span><br></pre></td></tr></table></figure><h2 id="152-乘积最大子数组"><a href="#152-乘积最大子数组" class="headerlink" title="152.乘积最大子数组"></a>152.乘积最大子数组</h2><p>给你一个整数数组 <code>nums</code> ，请你找出数组中乘积最大的连续子数组（该子数组中至少包含一个数字），并返回该子数组所对应的乘积。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProduct</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> nums==[]: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        res=<span class="built_in">float</span>(<span class="string">&#x27;-inf&#x27;</span>)</span><br><span class="line">        minn,maxn=<span class="number">1</span>,<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> nums:</span><br><span class="line">            a=n*minn</span><br><span class="line">            b=n*maxn</span><br><span class="line">            maxn=<span class="built_in">max</span>(n,a,b)</span><br><span class="line">            minn=<span class="built_in">min</span>(n,a,b)</span><br><span class="line">            <span class="keyword">if</span> maxn&gt;res:</span><br><span class="line">                res=maxn</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><h2 id="198-打家劫舍"><a href="#198-打家劫舍" class="headerlink" title="198.打家劫舍"></a>198.打家劫舍</h2><p>你是一个专业的小偷，计划偷窃沿街的房屋。每间房内都藏有一定的现金，影响你偷窃的唯一制约因素就是相邻的房屋装有相互连通的防盗系统，如果两间相邻的房屋在同一晚上被小偷闯入，系统会自动报警。<br>给定一个代表每个房屋存放金额的非负整数数组，计算你在不触动警报装置的情况下，能够偷窃到的最高金额。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        a=<span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">if</span> a==<span class="number">0</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        dp=[<span class="number">0</span>]*(a+<span class="number">1</span>)</span><br><span class="line">        dp[<span class="number">1</span>]=nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,a+<span class="number">1</span>):</span><br><span class="line">            dp[i]=<span class="built_in">max</span>(dp[i-<span class="number">1</span>],dp[i-<span class="number">2</span>]+nums[i-<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> dp[a]</span><br></pre></td></tr></table></figure><p><strong>小结</strong></p><blockquote><p>DP方程：<code>dp[i]=max(dp[i-1],dp[i-2]+nums[i-1])</code></p></blockquote><h2 id="213-打家劫舍-II"><a href="#213-打家劫舍-II" class="headerlink" title="213.打家劫舍 II"></a>213.打家劫舍 II</h2><p>你是一个专业的小偷，计划偷窃沿街的房屋，每间房内都藏有一定的现金。这个地方所有的房屋都围成一圈，这意味着第一个房屋和最后一个房屋是紧挨着的。同时，相邻的房屋装有相互连通的防盗系统，如果两间相邻的房屋在同一晚上被小偷闯入，系统会自动报警。<br>给定一个代表每个房屋存放金额的非负整数数组，计算你在不触动警报装置的情况下，能够偷窃到的最高金额。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        cnt=<span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">if</span> cnt&lt;<span class="number">3</span>: <span class="keyword">return</span> <span class="built_in">max</span>(nums)</span><br><span class="line">        dp1,dp2=[<span class="number">0</span>]*cnt,[<span class="number">0</span>]*cnt</span><br><span class="line">        dp1[<span class="number">1</span>]=nums[<span class="number">0</span>]</span><br><span class="line">        dp2[<span class="number">1</span>]=nums[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,cnt):</span><br><span class="line">            dp1[i]=<span class="built_in">max</span>(dp1[i-<span class="number">1</span>],dp1[i-<span class="number">2</span>]+nums[i-<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>,cnt+<span class="number">1</span>):</span><br><span class="line">            dp2[i-<span class="number">1</span>]=<span class="built_in">max</span>(dp2[i-<span class="number">2</span>],dp2[i-<span class="number">3</span>]+nums[i-<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(dp1+dp2)</span><br></pre></td></tr></table></figure><h1 id="树形DP"><a href="#树形DP" class="headerlink" title="树形DP"></a><em>树形DP</em></h1><h2 id="337-打家劫舍-III"><a href="#337-打家劫舍-III" class="headerlink" title="337.打家劫舍 III"></a>337.打家劫舍 III</h2><p>在上次打劫完一条街道之后和一圈房屋后，小偷又发现了一个新的可行窃的地区。这个地区只有一个入口，我们称之为“根”。 除了“根”之外，每栋房子有且只有一个“父“房子与之相连。一番侦察之后，聪明的小偷意识到“这个地方的所有房屋的排列类似于一棵二叉树”。 如果两个<strong>直接相连</strong>(即父与子关系）的房子在同一天晚上被打劫，房屋将自动报警。</p><p>计算在不触动警报的情况下，小偷一晚能够盗取的最高金额。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span>(<span class="params">self, root: TreeNode</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">return</span> self.helper(root)[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> [<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">        lv=self.helper(root.left)</span><br><span class="line">        rv=self.helper(root.right)</span><br><span class="line">        <span class="keyword">return</span> [lv[<span class="number">1</span>] + rv[<span class="number">1</span>], <span class="built_in">max</span>(lv[<span class="number">1</span>] + rv[<span class="number">1</span>], root.val + lv[<span class="number">0</span>] + rv[<span class="number">0</span>])]</span><br><span class="line"></span><br><span class="line"><span class="comment">#树形DP，从树的左下构成一个表。</span></span><br><span class="line"><span class="comment">#helper函数返回列表[不含此节点最大值，含此节点最大值]</span></span><br><span class="line"><span class="comment">#经典</span></span><br></pre></td></tr></table></figure><h1 id="other"><a href="#other" class="headerlink" title="other"></a><em>other</em></h1><h2 id="LCP-19-秋叶收藏集"><a href="#LCP-19-秋叶收藏集" class="headerlink" title="LCP 19. 秋叶收藏集"></a>LCP 19. 秋叶收藏集</h2><p>小扣出去秋游，途中收集了一些红叶和黄叶，他利用这些叶子初步整理了一份秋叶收藏集 <code>leaves</code>， 字符串 <code>leaves</code> 仅包含小写字符 <code>r</code> 和 <code>y</code>， 其中字符 <code>r</code> 表示一片红叶，字符 <code>y</code> 表示一片黄叶。</p><p>出于美观整齐的考虑，小扣想要将收藏集中树叶的排列调整成<strong>「红、黄、红」</strong>三部分。每部分树叶数量可以不相等，但均需大于等于 1。每次调整操作，小扣可以将一片红叶替换成黄叶或者将一片黄叶替换成红叶。请问小扣最少需要多少次调整操作才能将秋叶收藏集调整完毕。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方法一：dp</span></span><br><span class="line"><span class="comment">#    dp[i][0]表示全部为红需要修改几次</span></span><br><span class="line"><span class="comment">#    dp[i][1]表示【红黄】需要修改几次</span></span><br><span class="line"><span class="comment">#    dp[i][2]表示【红黄红】需要修改几次</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumOperations</span>(<span class="params">self, leaves: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        n=<span class="built_in">len</span>(leaves)</span><br><span class="line">        dp=[[<span class="number">0</span>  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>]= <span class="number">0</span> <span class="keyword">if</span> leaves[<span class="number">0</span>]==<span class="string">&#x27;r&#x27;</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">        <span class="comment">#print(dp)</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n):</span><br><span class="line">            dp[i][<span class="number">0</span>]=dp[i-<span class="number">1</span>][<span class="number">0</span>]+(<span class="number">0</span> <span class="keyword">if</span> leaves[i]==<span class="string">&#x27;r&#x27;</span> <span class="keyword">else</span> <span class="number">1</span>)</span><br><span class="line">            dp[i][<span class="number">1</span>]=dp[i-<span class="number">1</span>][<span class="number">0</span>]+(<span class="number">0</span> <span class="keyword">if</span> leaves[i]==<span class="string">&#x27;y&#x27;</span> <span class="keyword">else</span> <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> i&gt;<span class="number">1</span>:</span><br><span class="line">                dp[i][<span class="number">1</span>]=<span class="built_in">min</span>(dp[i][<span class="number">1</span>],dp[i-<span class="number">1</span>][<span class="number">1</span>]+(<span class="number">0</span> <span class="keyword">if</span> leaves[i]==<span class="string">&#x27;y&#x27;</span> <span class="keyword">else</span> <span class="number">1</span>))</span><br><span class="line">                dp[i][<span class="number">2</span>]=dp[i-<span class="number">1</span>][<span class="number">1</span>]+(<span class="number">0</span> <span class="keyword">if</span> leaves[i]==<span class="string">&#x27;r&#x27;</span> <span class="keyword">else</span> <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> i&gt;<span class="number">2</span>:</span><br><span class="line">                dp[i][<span class="number">2</span>]=<span class="built_in">min</span>(dp[i][<span class="number">2</span>],dp[i-<span class="number">1</span>][<span class="number">2</span>]+(<span class="number">0</span> <span class="keyword">if</span> leaves[i]==<span class="string">&#x27;r&#x27;</span> <span class="keyword">else</span> <span class="number">1</span>))</span><br><span class="line">        <span class="comment">#for i in dp: print(i)</span></span><br><span class="line">        <span class="keyword">return</span> dp[n-<span class="number">1</span>][<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># dp表时用[0]*3建表会出错</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="posts/ea8e.html"/>
      <url>posts/ea8e.html</url>
      
        <content type="html"><![CDATA[<h2 id="0-前言"><a href="#0-前言" class="headerlink" title="(0)前言"></a>(0)前言</h2><p>回溯算法实际上一个类似枚举的<strong>搜索尝试</strong>过程，主要是在搜索尝试过程中寻找问题的解，当发现已不满足求解条件时，就 “回溯” 返回，尝试别的路径。</p><p>回溯法是一种选优搜索法，按选优条件向前搜索，以达到目标。</p><p><strong>代码框架：</strong> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">result = []</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrack</span>(<span class="params">路径, 选择列表</span>):</span></span><br><span class="line">    <span class="keyword">if</span> 满足结束条件:</span><br><span class="line">        result.add(路径)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> 选择 <span class="keyword">in</span> 选择列表:</span><br><span class="line">        做选择</span><br><span class="line">        backtrack(路径, 选择列表)</span><br><span class="line">        撤销选择</span><br></pre></td></tr></table></figure><h2 id="1-22-括号生成"><a href="#1-22-括号生成" class="headerlink" title="(1)22. 括号生成"></a>(1)22. 括号生成</h2><p>数字 n 代表生成括号的对数，请你设计一个函数，用于能够生成所有可能的并且 <strong>有效的</strong> 括号组合。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generateParenthesis</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; List[str]:</span></span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">backtrack</span>(<span class="params">s,l,r</span>):</span> <span class="comment">#s表cur_str_list,l 表示左括号数</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(s)==<span class="number">2</span>*n:</span><br><span class="line">                ans.append(<span class="string">&#x27;&#x27;</span>.join(s))</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">if</span> l&lt;n:</span><br><span class="line">                s.append(<span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">                backtrack(s,l+<span class="number">1</span>,r)</span><br><span class="line">                s.pop()</span><br><span class="line">            <span class="keyword">if</span> r&lt;l:</span><br><span class="line">                s.append(<span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">                backtrack(s,l,r+<span class="number">1</span>)</span><br><span class="line">                s.pop()</span><br><span class="line">        backtrack([],<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200913174130683.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center"></p><h2 id="2-无重复字符串的排列组合"><a href="#2-无重复字符串的排列组合" class="headerlink" title="(2)无重复字符串的排列组合"></a>(2)无重复字符串的排列组合</h2><p>无重复字符串的排列组合。编写一种方法，计算某字符串的所有排列组合，字符串每个字符均不相同。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法一：用itertools库中的permutations</span></span><br><span class="line"><span class="keyword">return</span> [<span class="string">&#x27;&#x27;</span>.join(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">list</span>(permutations(S))]</span><br><span class="line"></span><br><span class="line"><span class="comment">#方法二：回溯</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">permutation</span>(<span class="params">self, S: <span class="built_in">str</span></span>) -&gt; List[str]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> S: <span class="keyword">return</span> []</span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">backtrack</span>(<span class="params">s,path,ans</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">                ans.append(path)</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">                backtrack(s[:i]+s[i+<span class="number">1</span>:],path+s[i],ans)</span><br><span class="line">        backtrack(S,<span class="string">&#x27;&#x27;</span>,ans)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><h2 id="3-幂集"><a href="#3-幂集" class="headerlink" title="(3)幂集"></a>(3)幂集</h2><p>编写一种方法，返回某集合的所有子集。集合中<strong>不包含重复</strong>的元素。<br> 输入： nums = [1,2,3]<br> 输出：[[3],[1],[2],[1,2,3],[1,3],[2,3],[1,2],[]]</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">subsets</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; List[List[int]]:</span></span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="comment">#l表示可取的左点，r表示可取的右点</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">backtrack</span>(<span class="params">ans,subset,l,r</span>):</span></span><br><span class="line">            ans.append(subset[:])</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l,r):</span><br><span class="line">                subset.append(nums[i])</span><br><span class="line">                backtrack(ans,subset,i+<span class="number">1</span>,r)</span><br><span class="line">                subset.pop()</span><br><span class="line"></span><br><span class="line">        backtrack(ans,[],<span class="number">0</span>,<span class="built_in">len</span>(nums))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment">#回溯法厉害啊，2020-9-13的第三道回溯</span></span><br><span class="line"><span class="comment">#这代码应该可以叫模板了</span></span><br></pre></td></tr></table></figure><h2 id="4-八皇后问题"><a href="#4-八皇后问题" class="headerlink" title="(4)八皇后问题"></a>(4)八皇后问题</h2><p><a href="https://leetcode-cn.com/problems/eight-queens-lcci/">https://leetcode-cn.com/problems/eight-queens-lcci/</a></p><p>设计一种算法，打印 N 皇后在 N × N 棋盘上的各种摆法，其中每个皇后都不同行、不同列，也不在对角线上。这里的“对角线”指的是所有的对角线，不只是平分整个棋盘的那两条对角线。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">solveNQueens</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; List[List[str]]:</span></span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">queen</span>(<span class="params">A, cur=<span class="number">0</span></span>):</span></span><br><span class="line">            <span class="keyword">if</span> cur == <span class="built_in">len</span>(A):</span><br><span class="line">                ans.append(A[:])</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(A)):</span><br><span class="line">                A[cur] = i</span><br><span class="line">                flag = <span class="literal">True</span></span><br><span class="line">                <span class="comment">#检验与前面的皇后是否冲突</span></span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cur):</span><br><span class="line">                    <span class="keyword">if</span> A[j]==i <span class="keyword">or</span> <span class="built_in">abs</span>(i - A[j]) == cur - j:</span><br><span class="line">                        flag = <span class="literal">False</span></span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">if</span> flag: queen(A, cur+<span class="number">1</span>)</span><br><span class="line">        queen([<span class="literal">None</span>]*n)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#接口对接部分</span></span><br><span class="line">        temp=[[[<span class="string">&#x27;.&#x27;</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ans))]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i,res <span class="keyword">in</span> <span class="built_in">enumerate</span>(temp): <span class="comment">#第i个答案</span></span><br><span class="line">            <span class="keyword">for</span> j,row <span class="keyword">in</span> <span class="built_in">enumerate</span>(res):  <span class="comment">#第j个行</span></span><br><span class="line">                row[ans[i][j]]=<span class="string">&quot;Q&quot;</span></span><br><span class="line">                temp[i][j]=<span class="string">&quot;&quot;</span>.join(temp[i][j])</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> temp</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这是个代码片段</span></span><br><span class="line"><span class="comment"># A为答案，cur为第几行下标</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">n</span>):</span></span><br><span class="line">    ans=[]</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">queen</span>(<span class="params">A, cur=<span class="number">0</span></span>):</span></span><br><span class="line">        <span class="keyword">if</span> cur == <span class="built_in">len</span>(A):</span><br><span class="line">            ans.append(A[:]) <span class="comment">#没写[:]不行，什么机制还不知道</span></span><br><span class="line">            <span class="keyword">return</span> </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(A)):</span><br><span class="line">            A[cur] = i</span><br><span class="line">            flag = <span class="literal">True</span></span><br><span class="line">            <span class="comment">#检验与前面的皇后是否冲突</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cur):</span><br><span class="line">                <span class="keyword">if</span> A[j]==i <span class="keyword">or</span> <span class="built_in">abs</span>(i - A[j]) == cur - j:</span><br><span class="line">                    flag = <span class="literal">False</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> flag: queen(A, cur+<span class="number">1</span>)</span><br><span class="line">    queen([<span class="literal">None</span>]*n)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">main(<span class="number">8</span>)</span><br></pre></td></tr></table></figure><h2 id="5-解数独"><a href="#5-解数独" class="headerlink" title="(5)解数独"></a>(5)解数独</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">solveSudoku</span>(<span class="params">self, board: List[List[<span class="built_in">str</span>]]</span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">backtrack</span>():</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">                    <span class="keyword">if</span> board[i][j]!= <span class="string">&#x27;.&#x27;</span>: <span class="keyword">continue</span></span><br><span class="line">                    <span class="keyword">for</span> num <span class="keyword">in</span> <span class="string">&quot;123456789&quot;</span>:</span><br><span class="line">                        <span class="keyword">if</span> check(i,j,num):</span><br><span class="line">                            board[i][j]=num</span><br><span class="line">                            <span class="keyword">if</span> backtrack(): <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">                            board[i][j]=<span class="string">&#x27;.&#x27;</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">x,y,num</span>):</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">                <span class="keyword">if</span> board[x][i]==num: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                <span class="keyword">if</span> board[i][y]==num: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]:</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]:</span><br><span class="line">                    <span class="keyword">if</span> board[x//<span class="number">3</span>*<span class="number">3</span>+i][y//<span class="number">3</span>*<span class="number">3</span>+j]==num: <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        backtrack()</span><br><span class="line"></span><br><span class="line"><span class="comment">#回溯，，6</span></span><br><span class="line"><span class="comment">#这种暴力回溯，时间复杂度太高了</span></span><br><span class="line"><span class="comment">#尝试了一下引入参数，回溯不回来了，好菜</span></span><br></pre></td></tr></table></figure><h2 id="6-77-组合"><a href="#6-77-组合" class="headerlink" title="(6)77. 组合"></a>(6)77. 组合</h2><p>给定两个整数 n 和 k，返回 1 … n 中所有可能的 k 个数的组合。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法一：用库：</span></span><br><span class="line"><span class="keyword">return</span> <span class="built_in">list</span>(itertools.combinations(<span class="built_in">range</span>(<span class="number">1</span>,n+<span class="number">1</span>),k))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法二：回溯</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">combine</span>(<span class="params">self, n: <span class="built_in">int</span>, k: <span class="built_in">int</span></span>) -&gt; List[List[int]]:</span></span><br><span class="line">        ans=[]</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bk</span>(<span class="params">n,k,tmp,start</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(tmp)==k: </span><br><span class="line">                ans.append(tmp[:])</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start,n+<span class="number">1</span>):</span><br><span class="line">                tmp.append(i)</span><br><span class="line">                bk(n,k,tmp,i+<span class="number">1</span>)</span><br><span class="line">                tmp.pop()</span><br><span class="line"></span><br><span class="line">        bk(n,k,[],<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><h2 id="7-131-分割回文串"><a href="#7-131-分割回文串" class="headerlink" title="(7)131. 分割回文串"></a>(7)131. 分割回文串</h2><p>给定一个字符串 <code>s</code>，将 <code>s</code> 分割成一些子串，使每个子串都是回文串。</p><p>返回 <code>s</code> 所有可能的分割方案。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">partition</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; List[List[str]]:</span></span><br><span class="line">        ans=[]</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bk</span>(<span class="params">tmp,l,r</span>):</span></span><br><span class="line">            <span class="keyword">if</span> l==r: </span><br><span class="line">                ans.append(tmp[:])</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l+<span class="number">1</span>,r+<span class="number">1</span>):</span><br><span class="line">                cur=s[l:i]</span><br><span class="line">                <span class="keyword">if</span> cur==cur[::-<span class="number">1</span>]:</span><br><span class="line">                    tmp.append(cur)</span><br><span class="line">                    bk(tmp,i,r)</span><br><span class="line">                    tmp.pop()</span><br><span class="line"></span><br><span class="line">        bk([],<span class="number">0</span>,<span class="built_in">len</span>(s))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># 后期试错出来的，</span></span><br><span class="line"><span class="comment"># 回溯神奇啊</span></span><br></pre></td></tr></table></figure><h2 id="8-组合总和-II"><a href="#8-组合总和-II" class="headerlink" title="(8)组合总和 II"></a>(8)组合总和 II</h2><p>给定一个数组 <code>candidates</code> 和一个目标数 <code>target</code> ，找出 <code>candidates</code> 中所有可以使数字和为 <code>target</code> 的组合。</p><p><code>candidates</code> 中的每个数字在每个组合中只能使用一次。</p><p>说明：</p><ul><li>所有数字（包括目标数）都是正整数。</li><li>解集不能包含重复的组合。 </li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">combinationSum2</span>(<span class="params">self, candidates: List[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; List[List[int]]:</span></span><br><span class="line">        ans=[]</span><br><span class="line">        candidates.sort()</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bk</span>(<span class="params">tmp,l,r</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">sum</span>(tmp)==target:</span><br><span class="line">                ans.append(tmp[:])</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">sum</span>(tmp)&gt;target: <span class="keyword">return</span> </span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l,r):</span><br><span class="line">                <span class="keyword">if</span> i&gt;l <span class="keyword">and</span> candidates[i]==candidates[i-<span class="number">1</span>]:</span><br><span class="line">                    <span class="keyword">continue</span>   <span class="comment">#这种回溯中去重。。。</span></span><br><span class="line">                tmp.append(candidates[i])</span><br><span class="line">                bk(tmp,i+<span class="number">1</span>,r)</span><br><span class="line">                tmp.pop()</span><br><span class="line">        bk([],<span class="number">0</span>,<span class="built_in">len</span>(candidates))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># 记录报错：unhashble type: &#x27;list&#x27;,列表中列表不能集合去重</span></span><br><span class="line"><span class="comment"># 回溯之前，sort优化，并方便去重</span></span><br></pre></td></tr></table></figure><h2 id="9-组合总和-III"><a href="#9-组合总和-III" class="headerlink" title="(9)组合总和 III"></a>(9)组合总和 III</h2><p>找出所有相加之和为 n 的 k 个数的组合。组合中只允许含有 1 - 9 的正整数，并且每种组合中<strong>不存在重复的数字</strong>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">combinationSum3</span>(<span class="params">self, k: <span class="built_in">int</span>, n: <span class="built_in">int</span></span>) -&gt; List[List[int]]:</span></span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bk</span>(<span class="params">path,l,k,n</span>):</span></span><br><span class="line">            <span class="keyword">if</span> n==k==<span class="number">0</span>:  </span><br><span class="line">                ans.append(path[:])</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">if</span> n&lt;<span class="number">0</span> <span class="keyword">or</span> k==<span class="number">0</span>: <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l,<span class="number">10</span>):</span><br><span class="line">                path.append(i)</span><br><span class="line">                bk(path,i+<span class="number">1</span>,k-<span class="number">1</span>,n-i)</span><br><span class="line">                path.pop()</span><br><span class="line"></span><br><span class="line">        bk([],<span class="number">1</span>,k,n)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># if剪枝 if结束</span></span><br></pre></td></tr></table></figure><h2 id="10-复原IP地址"><a href="#10-复原IP地址" class="headerlink" title="(10)复原IP地址"></a>(10)复原IP地址</h2><p>给定一个只包含数字的字符串，复原它并返回所有可能的 IP 地址格式。</p><p>有效的 IP 地址正好由四个整数（每个整数位于 0 到 255 之间组成），整数之间用 <code>.</code> 分隔。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">restoreIpAddresses</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; List[str]:</span></span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">s,tmp</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(s)==<span class="number">0</span> <span class="keyword">and</span> <span class="built_in">len</span>(tmp)==<span class="number">4</span>:</span><br><span class="line">                ans.append(<span class="string">&quot;.&quot;</span>.join(tmp))</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(tmp)&lt;<span class="number">4</span>:</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">min</span>(<span class="number">3</span>,<span class="built_in">len</span>(s))):</span><br><span class="line">                    head,tail=s[:i+<span class="number">1</span>],s[i+<span class="number">1</span>:]</span><br><span class="line">                    <span class="keyword">if</span> head <span class="keyword">and</span> <span class="number">0</span>&lt;=<span class="built_in">int</span>(head)&lt;=<span class="number">255</span> <span class="keyword">and</span> <span class="built_in">str</span>(<span class="built_in">int</span>(head))==head:</span><br><span class="line">                        f(tail,tmp+[head])        </span><br><span class="line">        f(s,[])</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一棵递归树</span></span><br><span class="line"><span class="comment"># str(int(i))==i排除前缀0</span></span><br></pre></td></tr></table></figure><h2 id="11-不同路径-III"><a href="#11-不同路径-III" class="headerlink" title="(11)不同路径 III"></a>(11)不同路径 III</h2><p><a href="https://leetcode-cn.com/problems/unique-paths-iii/">https://leetcode-cn.com/problems/unique-paths-iii/</a></p><p>在二维网格 grid 上，有 4 种类型的方格：</p><ul><li><code>1</code> 表示起始方格。且只有一个起始方格。</li><li><code>2</code> 表示结束方格，且只有一个结束方格。</li><li><code>0</code> 表示我们可以走过的空方格。</li><li><code>-1</code> 表示我们无法跨越的障碍。</li><li>返回在四个方向（上、下、左、右）上行走时，从起始方格到结束方格的不同路径的数目。</li></ul><p>每一个无障碍方格都要通过一次，但是一条路径中不能重复通过同一个方格。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">uniquePathsIII</span>(<span class="params">self, grid: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        rows,cols=<span class="built_in">len</span>(grid),<span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        cnt=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="number">0</span>: cnt+=<span class="number">1</span></span><br><span class="line">                <span class="keyword">elif</span> grid[i][j]==<span class="number">1</span>: start=(i,j)</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bk</span>(<span class="params">cur,steps</span>):</span></span><br><span class="line">            x,y=cur</span><br><span class="line">            <span class="keyword">if</span> x&lt;<span class="number">0</span> <span class="keyword">or</span> x&gt;=rows <span class="keyword">or</span> y&lt;<span class="number">0</span> <span class="keyword">or</span> y&gt;=cols: </span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> grid[x][y]==-<span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> grid[x][y]==<span class="number">2</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span> <span class="keyword">if</span> steps==<span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">            ans=<span class="number">0</span></span><br><span class="line">            grid[x][y]=-<span class="number">1</span></span><br><span class="line">            ans+=bk((x-<span class="number">1</span>,y),steps-<span class="number">1</span>)</span><br><span class="line">            ans+=bk((x+<span class="number">1</span>,y),steps-<span class="number">1</span>)</span><br><span class="line">            ans+=bk((x,y+<span class="number">1</span>),steps-<span class="number">1</span>)</span><br><span class="line">            ans+=bk((x,y-<span class="number">1</span>),steps-<span class="number">1</span>)</span><br><span class="line">            grid[x][y]=<span class="number">0</span></span><br><span class="line">            <span class="keyword">return</span> ans</span><br><span class="line">        <span class="keyword">return</span> bk(start,cnt+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#回溯神仙</span></span><br></pre></td></tr></table></figure><h2 id="X-其它："><a href="#X-其它：" class="headerlink" title="(X)其它："></a>(X)其它：</h2><p>这种树形回溯或递归的思想666</p><blockquote><p>leetcode题：<a href="https://leetcode-cn.com/tag/backtracking/">https://leetcode-cn.com/tag/backtracking/</a><br>心得：<a href="https://zhuanlan.zhihu.com/p/51882471">https://zhuanlan.zhihu.com/p/51882471</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> 置底 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
