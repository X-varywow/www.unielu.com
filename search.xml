<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å¾®è§‚ç»æµå­¦</title>
      <link href="/posts/bd56.html"/>
      <url>/posts/bd56.html</url>
      
        <content type="html"><![CDATA[<ol><li>ç»æµå­¦ï¼šå…³äºèµ„æºç¨€ç¼ºæ€§çš„é…ç½®ã€‚</li><li>å¦‚ä½•å®šä¹‰ä¸€ä¸ªæ¦‚å¿µï¼šé€šå¸¸ç”¨å¤–å»¶æ›´å®½çš„äº‹ç‰©æ¥å®šä¹‰ã€‚</li><li><strong>æœºä¼šæˆæœ¬</strong>ï¼šä¸ºå¾—åˆ°æŸç§ä¸œè¥¿ï¼Œè€Œæ”¾å¼ƒçš„å¯èƒ½æ”¶ç›Šã€‚</li><li><strong>æ²‰æ²¡æˆæœ¬</strong>ï¼šæŒ‡ä»¥å¾€å‘ç”Ÿçš„ï¼Œä½†ä¸å½“å‰å†³ç­–æ— å…³çš„è´¹ç”¨ã€‚</li><li>ç¦€èµ‹æ•ˆåº”ï¼šå¤§å¤šæ•°äººå¯¹äºæŸå¤±å’Œè·å¾—çš„æ•æ„Ÿç¨‹åº¦ä¸å¯¹ç§°ã€‚<blockquote><p>å‡è®¾ä½ ç°åœ¨æ¡åˆ°äº†100å…ƒï¼Œä½ å¾ˆå¼€å¿ƒï¼›<br>èµ°ç€èµ°ç€ï¼Œä½ åˆšæ¡åˆ°çš„100å…ƒï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ‰äº†ã€‚<br>è¯·é—®ï¼Œè¿™ä¸ªæ—¶å€™ä½ çš„å¿ƒæƒ…ï¼Ÿ<br>å¤§å¤šæ•°äººçš„å¿ƒæƒ…æ˜¯ç—›è‹¦çš„ã€‚<br>å¯å®é™…ä¸Šä»€ä¹ˆéƒ½æ²¡å˜ã€‚</p></blockquote></li></ol><p>è¿™ä¹Ÿé€‚ç”¨äºé”€å”®ç­–ç•¥ä¸­ï¼šå‡å°‘å®¢æˆ·çš„æŸå¤±åŒæ¶ã€‚<br>7. åšå¼ˆè®ºå› ç´ ï¼šå‚ä¸è€…ï¼Œè§„åˆ™ï¼Œæ”¯ä»˜ã€‚<br>é™åˆ¶è§„åˆ™æ¥æ”¹å˜åšå¼ˆã€‚<br>8. çº³ä»€å‡è¡¡ï¼šéåˆä½œåšå¼ˆå‡è¡¡ã€‚<br>å¦‚ç«äº‰è€…çš„å•†å“å®šä»·å‡è¡¡ï¼Œå›šå¾’å›°å¢ƒã€‚</p><blockquote><p>è¯¾ç¨‹æœ€åï¼š<strong>è€ƒè™‘éè´§å¸æœºä¼šæˆæœ¬ï¼Œå¿½ç•¥æ²‰æ²¡æˆæœ¬ï¼Œå¯¹æœªæ¥è¡Œä¸ºæ›´åŠ å®é™…ã€‚</strong></p></blockquote><p><strong>å°ç»“</strong><br>å†™è¿™ç¯‡blogæ—¶ï¼Œæ€»è§‰å¾—æ€ªæ€ªçš„ï¼Œè§‰å¾—è‡ªå·±æ²¡æœ‰äº†å¤©çœŸã€‚<br>éšå®ƒå»å§ï¼ŒğŸ˜ğŸ˜ğŸ˜<br><strong>äººç”Ÿå°±åƒæ˜¯åœ¨æ¯ä¸€ä¸ªè¿ç»­çš„åˆ¹é‚£ï¼Œä¸åœåœ°æ—‹è½¬èµ·èˆã€‚æš®ç„¶å››é¡¾æ—¶å¸¸å¸¸æƒŠè§‰ï¼šå·²ç»åˆ°è¿™é‡Œäº†å—ï¼Ÿ</strong></p>]]></content>
      
      
      <categories>
          
          <category> other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mooc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>leetcode potpourri</title>
      <link href="/posts/7786.html"/>
      <url>/posts/7786.html</url>
      
        <content type="html"><![CDATA[<h3 id="136-åªå‡ºç°1æ¬¡çš„æ•°å­—"><a href="#136-åªå‡ºç°1æ¬¡çš„æ•°å­—" class="headerlink" title="136.åªå‡ºç°1æ¬¡çš„æ•°å­—"></a>136.åªå‡ºç°1æ¬¡çš„æ•°å­—</h3><p>ç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚<br><strong>è¯´æ˜</strong>ï¼š<br>ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ</p><pre class=" language-python"><code class="language-python"><span class="token keyword">return</span> reduce<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">:</span>x<span class="token operator">^</span>y<span class="token punctuation">,</span>nums<span class="token punctuation">)</span></code></pre><p><strong>å°ç»“</strong></p><blockquote><ol><li>ä»»ä½•æ•°ä¸è‡ªèº«<code>^</code>ï¼Œä¸º0</li><li>ä»»ä½•æ•°<code>^</code>0ï¼Œä¸ºè‡ªèº«</li><li><code>^</code>æ»¡è¶³äº¤æ¢å¾‹ï¼Œç»“åˆå¾‹</li></ol></blockquote><h3 id="560-å’Œä¸ºKçš„å­æ•°ç»„"><a href="#560-å’Œä¸ºKçš„å­æ•°ç»„" class="headerlink" title="560.å’Œä¸ºKçš„å­æ•°ç»„"></a>560.å’Œä¸ºKçš„å­æ•°ç»„</h3><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° kï¼Œä½ éœ€è¦æ‰¾åˆ°è¯¥æ•°ç»„ä¸­å’Œä¸º k çš„è¿ç»­çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚</p><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">subarraySum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        pre <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">#è®°è½½æ‰€æœ‰å‰ç¼€å’Œ</span>        ans<span class="token punctuation">,</span>sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span>        <span class="token keyword">for</span> num <span class="token keyword">in</span> nums<span class="token punctuation">:</span>            sum<span class="token operator">+=</span>num            need<span class="token operator">=</span>sum<span class="token operator">-</span>k            <span class="token keyword">if</span> need <span class="token keyword">in</span> pre<span class="token punctuation">:</span>                ans <span class="token operator">+=</span> pre<span class="token punctuation">[</span>need<span class="token punctuation">]</span>            <span class="token comment" spellcheck="true">#åœ¨hash tableé‡ŒæŸ¥æ‰¾keyï¼Œå¦‚æœæœ‰è¿”å›å¯¹åº”çš„valueï¼Œåä¹‹è¿”å›0 </span>            pre<span class="token punctuation">[</span>sum<span class="token punctuation">]</span> <span class="token operator">=</span> pre<span class="token punctuation">.</span>get<span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>            <span class="token keyword">return</span> ans</code></pre><p><strong>å°ç»“</strong></p><blockquote><ol><li>å‰ç¼€å’Œ+hashçš„ä¼˜åŒ–</li><li><code>dict.get(key,default=None)</code></li></ol></blockquote><h3 id="876-é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹"><a href="#876-é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹" class="headerlink" title="876.é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹"></a>876.é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">middleNode</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> ListNode<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> ListNode<span class="token punctuation">:</span>        slow<span class="token operator">=</span>fast<span class="token operator">=</span>head        <span class="token keyword">while</span> fast <span class="token operator">and</span> fast<span class="token punctuation">.</span>next<span class="token punctuation">:</span>            slow<span class="token operator">=</span>slow<span class="token punctuation">.</span>next            fast<span class="token operator">=</span>fast<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next        <span class="token keyword">return</span> slow</code></pre><p><strong>å°ç»“</strong></p><blockquote><p>å¿«æ…¢æŒ‡é’ˆ</p></blockquote><h3 id="172-é˜¶ä¹˜åçš„é›¶"><a href="#172-é˜¶ä¹˜åçš„é›¶" class="headerlink" title="172.é˜¶ä¹˜åçš„é›¶"></a>172.é˜¶ä¹˜åçš„é›¶</h3><p>ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œè¿”å› n! ç»“æœå°¾æ•°ä¸­é›¶çš„æ•°é‡ã€‚</p><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">trailingZeroes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        count <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">while</span> n <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>            n <span class="token operator">//=</span> <span class="token number">5</span>            count <span class="token operator">+=</span> n        <span class="token keyword">return</span> count</code></pre><p><strong>å°ç»“</strong></p><blockquote><p>æ•°å­¦</p></blockquote><h3 id="231-2çš„å¹‚"><a href="#231-2çš„å¹‚" class="headerlink" title="231.2çš„å¹‚"></a>231.2çš„å¹‚</h3><p>ç»™å®šä¸€ä¸ªæ•´æ•°ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­å®ƒæ˜¯å¦æ˜¯ 2 çš„å¹‚æ¬¡æ–¹ã€‚</p><pre class=" language-python"><code class="language-python"><span class="token keyword">return</span> n<span class="token operator">></span><span class="token number">0</span> <span class="token operator">and</span> n<span class="token operator">&amp;</span><span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span></code></pre><p><strong>å°ç»“</strong></p><table><thead><tr><th>num</th><th>n</th><th>n-1</th><th>n&amp;(n-1)</th></tr></thead><tbody><tr><td>2**0</td><td>0001</td><td>0000</td><td>0000</td></tr><tr><td>2**1</td><td>0010</td><td>0001</td><td>0000</td></tr><tr><td>2**2</td><td>0100</td><td>0011</td><td>0000</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>KMPç®—æ³•</title>
      <link href="/posts/8c51.html"/>
      <url>/posts/8c51.html</url>
      
        <content type="html"><![CDATA[<h2 id="å…³äºkmp"><a href="#å…³äºkmp" class="headerlink" title="å…³äºkmp"></a>å…³äºkmp</h2><p>kmpæ˜¯ä¸€ä¸ªæ•ˆç‡éå¸¸é«˜çš„<strong>å­—ç¬¦ä¸²åŒ¹é…</strong>ç®—æ³•ã€‚<br>æœ‰é—®é¢˜å¦‚ä¸‹ï¼š</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#æ±‚båœ¨aä¸­å‡ºç°æ¬¡æ•°</span>a <span class="token operator">=</span> <span class="token string">"ababacababadababadadda"</span>b <span class="token operator">=</span> <span class="token string">"ababad"</span></code></pre><p>kmpå¯ä»¥å°†æš´åŠ›æ³•çš„<code>O(m*n)</code>é™ä½ä¸º<code>O(m+n)</code></p><h2 id="kmpè¿‡ç¨‹"><a href="#kmpè¿‡ç¨‹" class="headerlink" title="kmpè¿‡ç¨‹"></a>kmpè¿‡ç¨‹</h2><ol><li><strong>è®¡ç®—tempæ•°ç»„</strong><br>tempæ•°ç»„å¯ç†è§£ä¸ºä¸€ç»„bä¸­ç›¸åŒå‰åç¼€çš„æ ‡è®°(ä¸èƒ½ä¸ºæœ¬èº«é•¿åº¦)<blockquote><p><code>b = &quot;ababad&quot;</code><br>å¯¹ç¬¬ä¸€ä½<code>&#39;a&#39;</code>ï¼Œæ²¡æœ‰ç›¸åŒå‰åç¼€ï¼Œ<code>temp[0] = 0</code><br>å¯¹ç¬¬äºŒä½<code>&#39;ab&#39;</code>ï¼Œ<code>temp[1] = 0</code><br>å¯¹ç¬¬ä¸‰ä½<code>â€™aba&#39;</code>ï¼Œ<code>temp[2] = 1</code><br>ä»¥æ­¤ç±»æ¨ï¼Œ<code>temp= [0,0,1,2,3,0]</code></p></blockquote></li></ol><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">cal_temp</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#Kæ˜¯ä¸€ä¸ªå¯¹ç›¸åŒå‰åç¼€çš„æ ‡è®°</span>    temp<span class="token punctuation">,</span>k<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span>    <span class="token comment" spellcheck="true">#ä»ç´¢å¼•1å¤„å¼€å§‹éå†</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>len<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">while</span> k<span class="token operator">></span><span class="token number">0</span> <span class="token operator">and</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span>b<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">:</span>            k<span class="token operator">=</span>temp<span class="token punctuation">[</span>k<span class="token number">-1</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>b<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">:</span>            k<span class="token operator">+=</span><span class="token number">1</span>        temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>k<span class="token punctuation">)</span>    <span class="token keyword">return</span> temp</code></pre><p>åˆ†æä¸€ä¸‹ä»£ç ï¼š</p><blockquote><ul><li><code>i=1</code>æ—¶ï¼Œâ€™abâ€™ï¼Œb[1]!=b[0]ï¼Œtemp.append(0)</li><li><code>i=2</code>æ—¶ï¼Œâ€™abaâ€™ï¼Œb[2]==b[0]ï¼Œtemp.append(1)</li><li><code>i=3</code>æ—¶ï¼Œâ€™ababâ€™ï¼Œb[3]==b[1]ï¼Œtemp.append(2)</li><li><code>i=4</code>æ—¶ï¼Œâ€™ababaâ€™ï¼Œb[4]==b[2]ï¼Œtemp.append(3)</li><li><code>i=5</code>æ—¶ï¼Œâ€™ababadâ€™ï¼Œtemp=[0,0,1,2,3]<br>b[5]!=b[3]ï¼Œk=temp[3-1]=1<br>b[5]!=b[1]ï¼Œk=temp[1-1]=0<br>temp.append(0)</li></ul></blockquote><p>å‘ç°æ¯”è¾ƒéš¾ç†è§£çš„æ˜¯é‚£ä¸ªå›æº¯çš„åœ°æ–¹ï¼š<code>k=temp[k-1]</code><br>æ²¡äº‹ï¼ŒæŠŠ<code>i=5</code>çš„æƒ…å†µå†åˆ†æä¸€ä¸‹ï¼š</p><blockquote><p><code>i=5</code>æ—¶ï¼Œâ€™ababadâ€™ï¼Œtemp=[0,0,1,2,3]ï¼Œk=3</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200514161345927.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70" alt=""></p><blockquote><p>aba and aba can match,k=3<br>a and a can match,k=(abaçš„åŒ¹é…æ•°1,å³temp[k-1])<br>more explain: aba can see as a and a,the first <code>a</code> can match the fourth <code>a</code></p></blockquote><ol start="2"><li><strong>kmp</strong><br>æ‰“å®Œä¸Šé¢çš„æ€ªï¼Œå°±å¯ä»¥ç›´æ¥å†™kmpäº†</li></ol><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">kmp</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>    temp<span class="token operator">=</span>cal_temp<span class="token punctuation">(</span>b<span class="token punctuation">)</span>    ans<span class="token punctuation">,</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">while</span> k<span class="token operator">></span><span class="token number">0</span> <span class="token operator">and</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span>b<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">:</span>            k<span class="token operator">=</span>temp<span class="token punctuation">[</span>k<span class="token number">-1</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>b<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">:</span>            k<span class="token operator">+=</span><span class="token number">1</span>        <span class="token keyword">if</span> k<span class="token operator">==</span>len<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>            ans<span class="token operator">+=</span><span class="token number">1</span>            k<span class="token operator">=</span>temp<span class="token punctuation">[</span>k<span class="token number">-1</span><span class="token punctuation">]</span>    <span class="token keyword">return</span> num</code></pre><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>åˆ©ç”¨å·²åŒ¹é…çš„ä¿¡æ¯ï¼Œè¿ˆå‡ºæ¯”è¾ƒå¤§çš„æ­¥å­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> kmp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pandasæ¨¡å—</title>
      <link href="/posts/c3aa.html"/>
      <url>/posts/c3aa.html</url>
      
        <content type="html"><![CDATA[<p><code>Pandas</code> æ˜¯ Python çš„<strong>æ ¸å¿ƒæ•°æ®åˆ†ææ”¯æŒåº“</strong>ï¼Œæ˜¯ Python ä¸­ç»Ÿè®¡è®¡ç®—ç”Ÿæ€ç³»ç»Ÿçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><p>ä¸€ç»´çš„<code>Series</code>å’ŒäºŒç»´çš„  <code>DataFrame</code></p><pre class=" language-python"><code class="language-python">pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><blockquote><p>0    1<br>1    2<br>2    3<br>dtype: int64</p></blockquote><pre class=" language-python"><code class="language-python">pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><blockquote><p>Empty DataFrame<br>Columns: []<br>Index: []</p></blockquote><pre class=" language-python"><code class="language-python">datas<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'20200511'</span><span class="token punctuation">,</span>periods<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>datas</code></pre><blockquote><p>DatetimeIndex([â€˜2020-05-11â€™, â€˜2020-05-12â€™, â€˜2020-05-13â€™], dtype=â€™datetime64[ns]â€™, freq=â€™Dâ€™)</p></blockquote><pre class=" language-python"><code class="language-python">pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>index<span class="token operator">=</span>dates<span class="token punctuation">,</span>columns<span class="token operator">=</span>list<span class="token punctuation">(</span><span class="token string">'abcd'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><blockquote><p>   a    b    c    d<br>2020-05-11    -1.712588    0.403376    -0.152608    -0.428465<br>2020-05-12    -1.259988    -0.310385    -0.816578    0.321397<br>2020-05-13    -0.444678    -1.894342    0.172485    0.717187</p></blockquote><h3 id="æŸ¥çœ‹æ•°æ®"><a href="#æŸ¥çœ‹æ•°æ®" class="headerlink" title="æŸ¥çœ‹æ•°æ®"></a>æŸ¥çœ‹æ•°æ®</h3><ul><li><code>df.head()</code>ï¼Œkå€¼é»˜è®¤ä¸º5.</li><li><code>df.tail()</code>ï¼Œkå€¼é»˜è®¤ä¸º5</li><li><code>df.index</code></li><li><code>df.columns</code></li></ul><h3 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h3><ol><li>è·å–å•åˆ—ï¼Œ<code>df.a</code>ä¸<code>df[&#39;a&#39;]</code>ç­‰æ•ˆ</li><li>è·å–è¡Œï¼Œç”¨ [ ] åˆ‡ç‰‡è¡Œ</li><li>æŒ‰æ ‡ç­¾é€‰æ‹©</li><li>æŒ‰ä½ç½®é€‰æ‹©</li></ol><h3 id="æ•°æ®è¾“å…¥ï¼Œè¾“å‡º"><a href="#æ•°æ®è¾“å…¥ï¼Œè¾“å‡º" class="headerlink" title="æ•°æ®è¾“å…¥ï¼Œè¾“å‡º"></a>æ•°æ®è¾“å…¥ï¼Œè¾“å‡º</h3><h6 id="CSVï¼š"><a href="#CSVï¼š" class="headerlink" title="CSVï¼š"></a>CSVï¼š</h6><ul><li><code>df.to_csv(&#39;___.csv&#39;)</code></li><li><code>pd.read_csv(&#39;___.csv&#39;)</code></li></ul><h6 id="Excelï¼š"><a href="#Excelï¼š" class="headerlink" title="Excelï¼š"></a>Excelï¼š</h6><ul><li><code>df.to_excel(&#39;___.xlsx&#39;, sheet_name=&#39;Sheet1&#39;)</code></li><li><code>pd.read_excel(&#39;___.xlsx&#39;, &#39;Sheet1&#39;, index_col=None, na_values=[&#39;NA&#39;])</code></li></ul><h2 id="æœªå®Œå¾…ç»­"><a href="#æœªå®Œå¾…ç»­" class="headerlink" title="``````æœªå®Œå¾…ç»­"></a>``````æœªå®Œå¾…ç»­</h2>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pythonæ¨¡å— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºå™¨å­¦ä¹ åŸºæœ¬æ¦‚å¿µ</title>
      <link href="/posts/141d.html"/>
      <url>/posts/141d.html</url>
      
        <content type="html"><![CDATA[<h3 id="äººå·¥æ™ºèƒ½ã€æœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ "><a href="#äººå·¥æ™ºèƒ½ã€æœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ " class="headerlink" title="äººå·¥æ™ºèƒ½ã€æœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ "></a>äººå·¥æ™ºèƒ½ã€æœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ </h3><p><code>äººå·¥æ™ºèƒ½</code>æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œå®ƒå¸Œæœ›äº†è§£æ™ºèƒ½çš„å®è´¨ï¼Œå¹¶ç”Ÿäº§å‡ºä¸€ç§æ–°çš„èƒ½ä»¥äººç±»æ™ºèƒ½ç›¸ä¼¼çš„æ–¹å¼åšå‡ºååº”çš„æ™ºèƒ½æœºå™¨ï¼Œè¯¥é¢†åŸŸçš„ç ”ç©¶åŒ…æ‹¬æœºå™¨äººã€è¯­è¨€è¯†åˆ«ã€å›¾åƒè¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†å’Œä¸“å®¶ç³»ç»Ÿç­‰ã€‚<br><code>æœºå™¨å­¦ä¹ </code>æ˜¯ä¸€é—¨å¤šé¢†åŸŸäº¤å‰å­¦ç§‘ï¼Œæ˜¯äººå·¥æ™ºèƒ½çš„æ ¸å¿ƒã€‚<br><code>æ·±åº¦å­¦ä¹ </code>æ˜¯æœºå™¨å­¦ä¹ é¢†åŸŸä¸­ä¸€ä¸ªæ–°çš„ç ”ç©¶æ–¹å‘ï¼Œå®ƒè¢«å¼•å…¥æœºå™¨å­¦ä¹ ä½¿å…¶æ›´æ¥è¿‘äºæœ€åˆçš„ç›®æ ‡â€”â€”äººå·¥æ™ºèƒ½ã€‚<br><img src="https://img-blog.csdnimg.cn/202005061919299.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><h3 id="æœºå™¨å­¦ä¹ æ¨¡å‹"><a href="#æœºå™¨å­¦ä¹ æ¨¡å‹" class="headerlink" title="æœºå™¨å­¦ä¹ æ¨¡å‹"></a>æœºå™¨å­¦ä¹ æ¨¡å‹</h3><p><code>æœºå™¨å­¦ä¹ æ¨¡å‹</code>æ˜¯æœºå™¨å­¦ä¹ ç®—æ³•äº§å‡ºçš„ç»“æœï¼Œå¯ä»¥å°†å…¶çœ‹ä½œæ˜¯åœ¨ç»™å®šè¾“å…¥æƒ…å†µä¸‹ã€è¾“å‡ºä¸€å®šç»“æœçš„å‡½æ•°ã€‚<br>æœºå™¨å­¦ä¹ æ¨¡å‹ä¸æ˜¯é¢„å…ˆå®šä¹‰å¥½çš„å›ºå®šå‡½æ•°ï¼Œè€Œæ˜¯ä»å†å²æ•°æ®ä¸­æ¨å¯¼å‡ºæ¥çš„ã€‚<br>æœºå™¨å­¦ä¹ çš„ä»»åŠ¡ï¼Œå°±æ˜¯ä»å¹¿é˜”çš„æ˜ å°„ç©ºé—´ä¸­å­¦ä¹ å‡½æ•°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>collectionsæ¨¡å—</title>
      <link href="/posts/4890.html"/>
      <url>/posts/4890.html</url>
      
        <content type="html"><![CDATA[<h3 id="Counter"><a href="#Counter" class="headerlink" title="Counter"></a>Counter</h3><ol><li>ä¸€ä¸ª <code>Counter</code> æ˜¯ä¸€ä¸ª <code>dict</code> çš„å­ç±»ï¼Œç”¨äºè®¡æ•°å¯å“ˆå¸Œå¯¹è±¡ã€‚</li><li>å…ƒç´ ä»ä¸€ä¸ª <code>iterable</code> è¢«è®¡æ•°æˆ–ä»å…¶ä»–çš„ <code>mapping (or counter)</code>åˆå§‹åŒ–.</li><li>è®¾ç½®ä¸€ä¸ªè®¡æ•°ä¸º0ä¸ä¼šä»è®¡æ•°å™¨ä¸­ç§»å»ä¸€ä¸ªå…ƒç´ ã€‚ä½¿ç”¨ <code>del</code> æ¥åˆ é™¤å®ƒ</li></ol><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#elements()è¿”å›ä¸€ä¸ªè¿­ä»£å™¨</span>c <span class="token operator">=</span> Counter<span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> d<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>sorted<span class="token punctuation">(</span>c<span class="token punctuation">.</span>elements<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><blockquote><p>[â€˜aâ€™, â€˜aâ€™, â€˜aâ€™, â€˜aâ€™, â€˜bâ€™, â€˜bâ€™]</p></blockquote><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#ç›¸ç­‰ä¸ªæ•°çš„å…ƒç´ é¡ºåºéšæœº</span>Counter<span class="token punctuation">(</span><span class="token string">'abracadabra'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>most_common<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  </code></pre><blockquote><p>[(â€˜aâ€™, 5), (â€˜râ€™, 2), (â€˜bâ€™, 2)]</p></blockquote><pre class=" language-python"><code class="language-python">c <span class="token operator">=</span> Counter<span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> d<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>d <span class="token operator">=</span> Counter<span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> d<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>c<span class="token punctuation">.</span>subtract<span class="token punctuation">(</span>d<span class="token punctuation">)</span>c</code></pre><blockquote><p>Counter({â€˜aâ€™: 3, â€˜bâ€™: 0, â€˜câ€™: -3, â€˜dâ€™: -6})</p></blockquote><p><code>+c                              # remove zero and negative counts</code></p><h3 id="deque"><a href="#deque" class="headerlink" title="deque"></a>deque</h3><p>ç±»ä¼¼<code>list</code>çš„å®¹å™¨ï¼Œå®ç°äº†åœ¨ä¸¤ç«¯å¿«é€Ÿ<code>append</code>å’Œ<code>pop</code></p><h3 id="namedtuple"><a href="#namedtuple" class="headerlink" title="namedtuple()"></a>namedtuple()</h3><p>åˆ›å»ºå‘½åå…ƒç»„å­ç±»çš„å·¥å‚å‡½æ•°</p><h3 id="defaultdict"><a href="#defaultdict" class="headerlink" title="defaultdict"></a>defaultdict</h3><p>å­—å…¸çš„å­ç±»ï¼Œæä¾›äº†ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œä¸ºå­—å…¸æŸ¥è¯¢æä¾›ä¸€ä¸ªé»˜è®¤å€¼</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pythonæ¨¡å— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bisectæ¨¡å—</title>
      <link href="/posts/7dd2.html"/>
      <url>/posts/7dd2.html</url>
      
        <content type="html"><![CDATA[<h3 id="bisect"><a href="#bisect" class="headerlink" title="bisect"></a>bisect</h3><ul><li><code>bisect.bisect_left(a,x,lo=0,hi=len(a))</code></li></ul><ol><li>åœ¨ a ä¸­æ‰¾åˆ° x åˆé€‚çš„æ’å…¥ç‚¹ä»¥<strong>ç»´æŒæœ‰åº</strong>ã€‚</li><li>å¦‚æœ x å·²ç»åœ¨ a é‡Œå­˜åœ¨ï¼Œé‚£ä¹ˆæ’å…¥ç‚¹ä¼šåœ¨å·²å­˜åœ¨å…ƒç´ å·¦è¾¹ã€‚</li><li>å¦‚æœ a æ˜¯<code>list</code>ï¼Œåˆ™è¿”å›å€¼å¯ä»¥æ˜¯ <code>list.insert()</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</li><li>è¿”å›çš„<code>i</code>å¯ä»¥å°†æ•°ç»„ a åˆ†æˆä¸¤éƒ¨åˆ†ã€‚å·¦ä¾§æ˜¯ <code>all(val &lt; x for val in a[lo:i])</code> ï¼Œå³ä¾§æ˜¯ <code>all(val &gt;= x for val in a[i:hi])</code></li></ol><ul><li><code>bisect.bisect_right(a, x, lo=0, hi=len(a))</code></li><li><code>bisect.bisect(a, x, lo=0, hi=len(a))</code><br>ç±»ä¼¼äº <code>bisect_left()</code>ï¼Œä½†æ˜¯è¿”å›çš„æ’å…¥ç‚¹æ˜¯ a ä¸­å·²å­˜åœ¨å…ƒç´  x çš„å³ä¾§ã€‚</li></ul><h3 id="insort"><a href="#insort" class="headerlink" title="insort"></a>insort</h3><ul><li><p><code>bisect.insort_left(a, x, lo=0, hi=len(a))</code></p><ol><li>ç›¸å½“äº a.insert(bisect.bisect_left(a, x, lo, hi), x)</li><li>æ³¨æ„æœç´¢æ˜¯ O(log n) çš„ï¼Œæ’å…¥å´æ˜¯ O(n) çš„ã€‚</li></ol></li><li><p><code>bisect.insort_right(a, x, lo=0, hi=len(a))</code></p></li><li><p><code>bisect.insort(a, x, lo=0, hi=len(a))</code><br>ç±»ä¼¼äº <code>insort_left()</code>ï¼Œä½†æ˜¯æŠŠ x æ’å…¥åˆ° a ä¸­å·²å­˜åœ¨å…ƒç´  x çš„å³ä¾§ã€‚</p></li></ul><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">grade</span><span class="token punctuation">(</span>score<span class="token punctuation">,</span> breakpoints<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">]</span><span class="token punctuation">,</span> grades<span class="token operator">=</span><span class="token string">'FA'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    i <span class="token operator">=</span> bisect<span class="token punctuation">(</span>breakpoints<span class="token punctuation">,</span> score<span class="token punctuation">)</span>    <span class="token keyword">return</span> grades<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>grade<span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">for</span> score <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">33</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">]</span><span class="token punctuation">]</span></code></pre><blockquote><p>[â€˜Fâ€™,  â€˜Aâ€™, â€˜Aâ€™]</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pythonæ¨¡å— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>leetcodeå‘¨èµ›ç¬”è®°187</title>
      <link href="/posts/7e6a.html"/>
      <url>/posts/7e6a.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€æ—…è¡Œç»ˆç‚¹ç«™"><a href="#ä¸€ã€æ—…è¡Œç»ˆç‚¹ç«™" class="headerlink" title="ä¸€ã€æ—…è¡Œç»ˆç‚¹ç«™"></a>ä¸€ã€æ—…è¡Œç»ˆç‚¹ç«™</h3><p>ç»™ä½ ä¸€ä»½æ—…æ¸¸çº¿è·¯å›¾ï¼Œè¯¥çº¿è·¯å›¾ä¸­çš„æ—…è¡Œçº¿è·¯ç”¨æ•°ç»„ <code>paths</code> è¡¨ç¤ºï¼Œå…¶ä¸­ <code>paths[i] = [cityAi, cityBi]</code> è¡¨ç¤ºè¯¥çº¿è·¯å°†ä¼šä» <code>cityAi</code> ç›´æ¥å‰å¾€ <code>cityBi</code> ã€‚è¯·ä½ æ‰¾å‡ºè¿™æ¬¡æ—…è¡Œçš„ç»ˆç‚¹ç«™ï¼Œå³æ²¡æœ‰ä»»ä½•å¯ä»¥é€šå¾€å…¶ä»–åŸå¸‚çš„çº¿è·¯çš„åŸå¸‚ã€‚<br>é¢˜ç›®æ•°æ®ä¿è¯çº¿è·¯å›¾ä¼šå½¢æˆä¸€æ¡ä¸å­˜åœ¨å¾ªç¯çš„çº¿è·¯ï¼Œå› æ­¤åªä¼šæœ‰ä¸€ä¸ªæ—…è¡Œç»ˆç‚¹ç«™ã€‚</p><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">destCity</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> paths<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span>str<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> str<span class="token punctuation">:</span>        lista<span class="token operator">=</span><span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> paths<span class="token punctuation">]</span>        listb<span class="token operator">=</span><span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> paths<span class="token punctuation">]</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>set<span class="token punctuation">(</span>listb<span class="token punctuation">)</span><span class="token operator">-</span>set<span class="token punctuation">(</span>lista<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="äºŒã€æ˜¯å¦æ‰€æœ‰-1-éƒ½è‡³å°‘ç›¸éš”-k-ä¸ªå…ƒç´ "><a href="#äºŒã€æ˜¯å¦æ‰€æœ‰-1-éƒ½è‡³å°‘ç›¸éš”-k-ä¸ªå…ƒç´ " class="headerlink" title="äºŒã€æ˜¯å¦æ‰€æœ‰ 1 éƒ½è‡³å°‘ç›¸éš” k ä¸ªå…ƒç´ "></a>äºŒã€æ˜¯å¦æ‰€æœ‰ 1 éƒ½è‡³å°‘ç›¸éš” k ä¸ªå…ƒç´ </h3><p>ç»™ä½ ä¸€ä¸ªç”±è‹¥å¹² <code>0</code> å’Œ <code>1</code> ç»„æˆçš„æ•°ç»„ <code>nums</code> ä»¥åŠæ•´æ•° <code>k</code>ã€‚å¦‚æœæ‰€æœ‰ <code>1</code> éƒ½è‡³å°‘ç›¸éš” <code>k</code> ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å› <code>True</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>False</code> ã€‚</p><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">kLengthApart</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> bool<span class="token punctuation">:</span>        temp<span class="token operator">=</span>float<span class="token punctuation">(</span><span class="token string">'-inf'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span>                <span class="token keyword">if</span> i<span class="token operator">-</span>temp<span class="token operator">&lt;=</span>k<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">False</span>                <span class="token keyword">else</span><span class="token punctuation">:</span>temp<span class="token operator">=</span>i        <span class="token keyword">return</span> <span class="token boolean">True</span></code></pre><h3 id="ä¸‰ã€ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„"><a href="#ä¸‰ã€ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„" class="headerlink" title="ä¸‰ã€ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„"></a>ä¸‰ã€ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„</h3><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œå’Œä¸€ä¸ªè¡¨ç¤ºé™åˆ¶çš„æ•´æ•° <code>limit</code>ï¼Œè¯·ä½ è¿”å›æœ€é•¿è¿ç»­å­æ•°ç»„çš„é•¿åº¦ï¼Œè¯¥å­æ•°ç»„ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç»å¯¹å·®å¿…é¡»å°äºæˆ–è€…ç­‰äº <code>limit</code> ã€‚<br>å¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œåˆ™è¿”å› <code>0</code> ã€‚</p><blockquote><p>è¯è¯´dpå’ŒåŒæŒ‡é’ˆå¥½åƒï¼ŒåŒæŒ‡é’ˆçš„è¯æœ€åä¸€ä¸ªåå‡ ä¸‡æ•°çš„æµ‹è¯•ç”¨ä¾‹è¶…æ—¶äº†ã€‚ã€‚ã€‚</p></blockquote><p>é¢å‘æµ‹è¯•ç”¨ä¾‹åŠ åŒæŒ‡é’ˆï¼š</p><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">longestSubarray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">,</span> limit<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token operator">not</span> nums<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token number">0</span>        <span class="token keyword">if</span> len<span class="token punctuation">(</span>list<span class="token punctuation">(</span>set<span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token keyword">return</span> len<span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        ans<span class="token operator">=</span><span class="token number">1</span>        a<span class="token operator">=</span>len<span class="token punctuation">(</span>nums<span class="token punctuation">)</span>        <span class="token keyword">for</span> l <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>a<span class="token number">-1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            minnum<span class="token punctuation">,</span>maxnum<span class="token operator">=</span><span class="token number">10</span><span class="token operator">**</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span>            <span class="token keyword">for</span> r <span class="token keyword">in</span> range<span class="token punctuation">(</span>l<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">:</span>                minnum<span class="token operator">=</span>min<span class="token punctuation">(</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span>nums<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span>minnum<span class="token punctuation">]</span><span class="token punctuation">)</span>                maxnum<span class="token operator">=</span>max<span class="token punctuation">(</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span>nums<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span>maxnum<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token keyword">if</span> maxnum<span class="token operator">-</span>minnum<span class="token operator">&lt;=</span>limit<span class="token punctuation">:</span>                    ans<span class="token operator">=</span>max<span class="token punctuation">(</span>ans<span class="token punctuation">,</span>r<span class="token operator">-</span>l<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>                <span class="token keyword">else</span><span class="token punctuation">:</span>                    <span class="token keyword">break</span>        <span class="token keyword">return</span> ans</code></pre><p>from copy :</p><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">longestSubarray</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">,</span> limit<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        i <span class="token operator">=</span> j <span class="token operator">=</span> <span class="token number">0</span>        st <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        ans <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">while</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>            bisect<span class="token punctuation">.</span>insort<span class="token punctuation">(</span>st<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token keyword">while</span> st<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> st<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">></span> limit<span class="token punctuation">:</span>                st<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>                i <span class="token operator">+=</span> <span class="token number">1</span>            j <span class="token operator">+=</span> <span class="token number">1</span>            ans <span class="token operator">=</span> max<span class="token punctuation">(</span>ans<span class="token punctuation">,</span> len<span class="token punctuation">(</span>st<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> ans</code></pre><h3 id="å››ã€æœ‰åºçŸ©é˜µä¸­çš„ç¬¬-k-ä¸ªæœ€å°æ•°ç»„å’Œ"><a href="#å››ã€æœ‰åºçŸ©é˜µä¸­çš„ç¬¬-k-ä¸ªæœ€å°æ•°ç»„å’Œ" class="headerlink" title="å››ã€æœ‰åºçŸ©é˜µä¸­çš„ç¬¬ k ä¸ªæœ€å°æ•°ç»„å’Œ"></a>å››ã€æœ‰åºçŸ©é˜µä¸­çš„ç¬¬ k ä¸ªæœ€å°æ•°ç»„å’Œ</h3><p>ç»™ä½ ä¸€ä¸ª <code>m * n</code> çš„çŸ©é˜µ <code>mat</code>ï¼Œä»¥åŠä¸€ä¸ªæ•´æ•° <code>k</code> ï¼ŒçŸ©é˜µä¸­çš„æ¯ä¸€è¡Œéƒ½ä»¥éé€’å‡çš„é¡ºåºæ’åˆ—ã€‚<br>ä½ å¯ä»¥ä»æ¯ä¸€è¡Œä¸­é€‰å‡º 1 ä¸ªå…ƒç´ å½¢æˆä¸€ä¸ªæ•°ç»„ã€‚è¿”å›æ‰€æœ‰å¯èƒ½æ•°ç»„ä¸­çš„ç¬¬ k ä¸ªæœ€å°æ•°ç»„å’Œã€‚</p><blockquote><p>åˆ©ç”¨sortedé€è¡Œæ›´æ–°ã€‚ã€‚</p></blockquote><p>from copy:</p><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">kthSmallest</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> mat<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span>int<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> int<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> int<span class="token punctuation">:</span>        ans <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> row <span class="token keyword">in</span> mat<span class="token punctuation">:</span>            ans <span class="token operator">=</span> sorted<span class="token punctuation">(</span><span class="token punctuation">[</span>a <span class="token operator">+</span> r <span class="token keyword">for</span> a <span class="token keyword">in</span> ans <span class="token keyword">for</span> r <span class="token keyword">in</span> row<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span> k<span class="token punctuation">]</span>        <span class="token keyword">return</span> ans<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è°ƒç”¨modelartsçš„API</title>
      <link href="/posts/ec3f.html"/>
      <url>/posts/ec3f.html</url>
      
        <content type="html"><![CDATA[<p>ä»£ç åŒ…å«</p><ul><li>use-api.py </li><li>post.py</li><li>get-token.py</li></ul><h3 id="use-api-py"><a href="#use-api-py" class="headerlink" title="use-api.py"></a>use-api.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> postname <span class="token operator">=</span> <span class="token string">" "</span> password <span class="token operator">=</span> <span class="token string">" "</span>api_url <span class="token operator">=</span> <span class="token string">" "</span> <span class="token comment" spellcheck="true"># apiåœ°å€</span>image_path <span class="token operator">=</span> r<span class="token string">"timg.jpg"</span>  <span class="token comment" spellcheck="true"># å›¾åƒæ–‡ä»¶å®Œæ•´è·¯å¾„</span><span class="token comment" spellcheck="true"># å‘é€è¯·æ±‚</span>r <span class="token operator">=</span> post<span class="token punctuation">.</span>main<span class="token punctuation">(</span>name<span class="token punctuation">,</span> password<span class="token punctuation">,</span> api_url<span class="token punctuation">,</span> image_path<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span></code></pre><h3 id="post-py"><a href="#post-py" class="headerlink" title="post.py"></a>post.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">import</span> os<span class="token keyword">import</span> get_token<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> password<span class="token punctuation">,</span> api_url<span class="token punctuation">,</span> image_path<span class="token punctuation">)</span><span class="token punctuation">:</span>    image_name <span class="token operator">=</span> image_path<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\\'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token comment" spellcheck="true"># æŸ¥çœ‹æœ¬åœ°æ˜¯å¦å­˜åœ¨token</span>    <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token string">"token.txt"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"token.txt"</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>            token <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># è°ƒç”¨get_token.pyä¸­çš„å‡½æ•°è·å–token</span>        token <span class="token operator">=</span> get_token<span class="token punctuation">.</span>main<span class="token punctuation">(</span>name<span class="token punctuation">,</span> password<span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># ç¼“å­˜tokenä»¥ä¾¿ä¸‹æ¬¡ä½¿ç”¨</span>        <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"token.txt"</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>token<span class="token punctuation">)</span>    <span class="token keyword">if</span> token <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"tokenè·å–é”™è¯¯"</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        header <span class="token operator">=</span> <span class="token punctuation">{</span>                <span class="token string">"X-Auth-Token"</span><span class="token punctuation">:</span> token<span class="token punctuation">,</span>                <span class="token punctuation">}</span>        files <span class="token operator">=</span> <span class="token punctuation">{</span>                <span class="token string">"images"</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>image_name<span class="token punctuation">,</span> open<span class="token punctuation">(</span>image_path<span class="token punctuation">,</span><span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'image/png'</span><span class="token punctuation">)</span>                <span class="token punctuation">}</span>        z <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>                    api_url<span class="token punctuation">,</span>                    headers <span class="token operator">=</span> header<span class="token punctuation">,</span>                    files<span class="token operator">=</span>files<span class="token punctuation">,</span>                    verify<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>                    <span class="token punctuation">)</span>        <span class="token keyword">if</span> z<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> z<span class="token punctuation">.</span>text        <span class="token keyword">elif</span> len<span class="token punctuation">(</span>z<span class="token punctuation">.</span>text<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> z<span class="token punctuation">.</span>text        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token string">"ç¨‹åºé”™è¯¯"</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> <span class="token string">" "</span>         <span class="token comment" spellcheck="true"># ç”¨æˆ·å</span>    password <span class="token operator">=</span> <span class="token string">" "</span> <span class="token comment" spellcheck="true"># å¯†ç </span>    api_url <span class="token operator">=</span> <span class="token string">" "</span> <span class="token comment" spellcheck="true"># apiåœ°å€</span>    image_path <span class="token operator">=</span> r<span class="token string">"test.jpg"</span>  <span class="token comment" spellcheck="true"># å›¾åƒæ–‡ä»¶å®Œæ•´è·¯å¾„</span>    r <span class="token operator">=</span> main<span class="token punctuation">(</span>name<span class="token punctuation">,</span> password<span class="token punctuation">,</span> api_url<span class="token punctuation">,</span> image_path<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span></code></pre><h3 id="get-token-py"><a href="#get-token-py" class="headerlink" title="get-token.py"></a>get-token.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> password<span class="token punctuation">,</span> domain_name<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span> region<span class="token operator">=</span><span class="token string">"cn-north-4"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> domain_name <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>        domain_name <span class="token operator">=</span> name    urls <span class="token operator">=</span> <span class="token string">"https://iam."</span> <span class="token operator">+</span> region <span class="token operator">+</span> <span class="token string">".myhuaweicloud.com/v3/auth/tokens"</span>    header <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token string">"User-Agent"</span><span class="token punctuation">:</span> <span class="token string">"PostmanRuntime/7.24.1"</span><span class="token punctuation">,</span>        <span class="token string">"Content-Type"</span><span class="token punctuation">:</span> <span class="token string">"application/json;charset=utf8"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span>    json_data <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token string">"auth"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>            <span class="token string">"identity"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token string">"methods"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"password"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token string">"password"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                    <span class="token string">"user"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                        <span class="token string">"name"</span><span class="token punctuation">:</span> name<span class="token punctuation">,</span>                        <span class="token string">"password"</span><span class="token punctuation">:</span> password<span class="token punctuation">,</span>                        <span class="token string">"domain"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                            <span class="token string">"name"</span><span class="token punctuation">:</span> domain_name<span class="token punctuation">,</span>                        <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token string">"scope"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token string">"project"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                    <span class="token string">"name"</span><span class="token punctuation">:</span> region                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    z <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>                    url <span class="token operator">=</span> urls<span class="token punctuation">,</span>                    headers <span class="token operator">=</span> header<span class="token punctuation">,</span>                    json <span class="token operator">=</span> json_data<span class="token punctuation">,</span>                    verify <span class="token operator">=</span> <span class="token boolean">False</span><span class="token punctuation">,</span>                    <span class="token punctuation">)</span>    <span class="token keyword">if</span> z<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">201</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> z<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">"X-Subject-Token"</span><span class="token punctuation">]</span>    <span class="token keyword">elif</span> z<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">401</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>z<span class="token punctuation">.</span>text<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">''</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>z<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">''</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> <span class="token string">' '</span>         <span class="token comment" spellcheck="true"># ç”¨æˆ·å</span>    password <span class="token operator">=</span> <span class="token string">' '</span>     <span class="token comment" spellcheck="true"># å¯†ç </span><span class="token comment" spellcheck="true">#    domain_name = ' '  # å¯é€‰ï¼Œæ‰€å±è´¦å·ï¼Œé»˜è®¤ä¸ºç”¨æˆ·å</span><span class="token comment" spellcheck="true">#    region="cn-north-4"     # å¯é€‰ï¼Œä½¿ç”¨åŒºåŸŸ</span>    token <span class="token operator">=</span> main<span class="token punctuation">(</span>name<span class="token punctuation">,</span> password<span class="token punctuation">)</span>    <span class="token keyword">if</span> token <span class="token operator">!=</span> <span class="token string">''</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span></code></pre><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><blockquote><ol><li>å°†name,password,api_urlæ›´æ”¹ï¼Œå³å¯è¿›è¡ŒAPIçš„è°ƒç”¨ã€‚</li><li>ä¸€æ®µä»£ç ï¼š<pre class=" language-python"><code class="language-python">z<span class="token operator">=</span>request<span class="token punctuation">.</span>post<span class="token punctuation">(</span>api_url<span class="token punctuation">,</span>headers<span class="token operator">=</span>header<span class="token punctuation">,</span>files<span class="token operator">=</span>files<span class="token punctuation">,</span>verify<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token keyword">if</span> z<span class="token punctuation">.</span>status_code <span class="token operator">==</span><span class="token number">200</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> z<span class="token punctuation">.</span>text</code></pre></li><li>æ¯”è¾ƒéš¾ç†è§£çš„æ˜¯é‚£ä¸ªget-tokenï¼ŒæŸ¥é˜…Modelartsæ–‡æ¡£çš„jsonæ ¼å¼ã€‚<br>å†åˆ©ç”¨requestsè¿›è¡Œpost</li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> modelarts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€äº›ç½‘ç«™</title>
      <link href="/posts/e00a.html"/>
      <url>/posts/e00a.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>æŸ¥çœ‹githubèµ„æº<br><a href="https://nbviewer.jupyter.org/" target="_blank" rel="noopener">https://nbviewer.jupyter.org/</a></p></blockquote><blockquote><p>vscodeå®‰è£…cç¯å¢ƒ<br><a href="https://www.cnblogs.com/czlhxm/p/11794743.html" target="_blank" rel="noopener">https://www.cnblogs.com/czlhxm/p/11794743.html</a></p></blockquote><blockquote><p>å®‰å“å¼€å‘è€…<br><a href="https://developer.android.google.cn/" target="_blank" rel="noopener">https://developer.android.google.cn/</a></p></blockquote><blockquote><p>visual studioæ–‡æ¡£<br><a href="https://docs.microsoft.com/zh-cn/visualstudio/?view=vs-2019" target="_blank" rel="noopener">https://docs.microsoft.com/zh-cn/visualstudio/?view=vs-2019</a></p></blockquote><blockquote><p>ä¹¦æ ˆ<br><a href="https://www.bookstack.cn/" target="_blank" rel="noopener">https://www.bookstack.cn/</a></p></blockquote><blockquote><p>èœé¸Ÿ<br><a href="https://www.runoob.com/" target="_blank" rel="noopener">https://www.runoob.com/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èµ„æº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºHTTPç†è§£</title>
      <link href="/posts/ea97.html"/>
      <url>/posts/ea97.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>HTTPæ˜¯ä¸€ä¸ªè¯·æ±‚-å“åº”åè®®ï¼Œæ˜¯ä¸¤ç‚¹é—´ä¼ è¾“è¶…æ–‡æœ¬æ•°æ®çš„çº¦å®šå’Œè§„èŒƒã€‚</p></blockquote><h2 id="HTTPçŠ¶æ€ç "><a href="#HTTPçŠ¶æ€ç " class="headerlink" title="HTTPçŠ¶æ€ç "></a>HTTPçŠ¶æ€ç </h2><table><thead><tr><th>çŠ¶æ€ç </th><th>æè¿°</th></tr></thead><tbody><tr><td>1XX</td><td>è¡¨ç¤ºç›®å‰æ˜¯åè®®å¤„ç†ä¸­é—´çŠ¶æ€</td></tr><tr><td>2XX</td><td>æˆåŠŸï¼ŒæŠ¥æ–‡å·²æ¥å—ä¸”æ­£ç¡®å¤„ç†</td></tr><tr><td>3XX</td><td>é‡å®šå‘ï¼Œèµ„æºä½ç½®å‘ç”Ÿå˜åŠ¨</td></tr><tr><td>4XX</td><td>å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚æŠ¥æ–‡æœ‰è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†</td></tr><tr><td>5XX</td><td>æœåŠ¡å™¨å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯</td></tr></tbody></table><h2 id="HTTPæŠ¥æ–‡"><a href="#HTTPæŠ¥æ–‡" class="headerlink" title="HTTPæŠ¥æ–‡"></a>HTTPæŠ¥æ–‡</h2><pre class=" language-bash"><code class="language-bash">GET /admin_ui/rdx/core/images/close.png HTTP/1.1Accept: */*Referer: http://xxx.xxx.xxx.xxx/menu/neoAccept-Language: en-USUser-Agent: Mozilla/4.0 <span class="token punctuation">(</span>compatible<span class="token punctuation">;</span> MSIE 7.0<span class="token punctuation">;</span> Windows NT 6.1<span class="token punctuation">;</span> WOW64<span class="token punctuation">;</span> Trident/7.0<span class="token punctuation">;</span> SLCC2<span class="token punctuation">;</span> .NET CLR 2.0.50727<span class="token punctuation">;</span> .NET CLR 3.5.30729<span class="token punctuation">;</span> .NET CLR 3.0.30729<span class="token punctuation">;</span> .NET4.0C<span class="token punctuation">;</span> .NET4.0E<span class="token punctuation">)</span>Accept-Encoding: gzip, deflateHost: xxx.xxx.xxx.xxxConnection: Keep-AliveCookie: startupapp<span class="token operator">=</span>neo<span class="token punctuation">;</span> is_cisco_platform<span class="token operator">=</span>0<span class="token punctuation">;</span> rdx_pagination_size<span class="token operator">=</span>250%20Per%20Page<span class="token punctuation">;</span> SESSID<span class="token operator">=</span>deb31b8eb9ca68a514cf55777744e339</code></pre><h2 id="HTTPç‰ˆæœ¬"><a href="#HTTPç‰ˆæœ¬" class="headerlink" title="HTTPç‰ˆæœ¬"></a>HTTPç‰ˆæœ¬</h2><table><thead><tr><th>ç‰ˆæœ¬</th><th>ä¿¡æ¯</th></tr></thead><tbody><tr><td>1.0</td><td>æ¯å‘èµ·ä¸€æ¬¡è¯·æ±‚ï¼Œéƒ½è¦å»ºç«‹ä¸€æ¬¡TCPé“¾æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰</td></tr><tr><td>1.1</td><td>â‘ æå‡ºäº†é•¿è¿æ¥é€šä¿¡æ–¹å¼ï¼Œå‡å°‘TCPè¿æ¥å¼€é”€ ã€‚â‘¡ç®¡é“ç½‘ç»œä¼ è¾“ï¼Œå‡å°‘æ•´ä½“æ•ˆåº”æ—¶é—´</td></tr><tr><td>2.0</td><td></td></tr></tbody></table><blockquote><p>httpæ— çŠ¶æ€ã€æ˜æ–‡ä¼ è¾“ã€ä¸å®‰å…¨</p></blockquote><blockquote><p>httpæ— æ³•éªŒè¯æŠ¥æ–‡å®Œæ•´æ€§ã€ä¸éªŒè¯é€šä¿¡æ–¹èº«ä»½</p></blockquote><h2 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h2><p>åœ¨TCPå’ŒHTTPç½‘ç»œå±‚ä¹‹é—´åŠ å…¥äº†SSL/TLSå®‰å…¨åè®®<br>â‘ åŠ å¯†ï¼ˆEncryption)<br>â‘¡èº«ä»½è®¤è¯ï¼ˆAuthentication)<br>â‘¢æ•°æ®ä¸€è‡´æ€§ ï¼ˆData integrity)</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°ç«™çš„æ›´æ–°</title>
      <link href="/posts/9280.html"/>
      <url>/posts/9280.html</url>
      
        <content type="html"><![CDATA[<h3 id="V2-0"><a href="#V2-0" class="headerlink" title="V2.0"></a>V2.0</h3><ol><li>æ›´æ”¹ä¸€äº›æ ·å¼</li><li>åœ¨header.ejsä¸­config.titleåˆ é™¤</li></ol><h3 id="V1-9"><a href="#V1-9" class="headerlink" title="V1.9"></a>V1.9</h3><ol><li>åŠ å…¥æ–‡ç« æ›´æ–°æ—¥æœŸ</li><li>æ›´æ”¹footer.ejs</li></ol><h3 id="V1-8"><a href="#V1-8" class="headerlink" title="V1.8"></a>V1.8</h3><ol><li>æ›´æ”¹ç§»åŠ¨ç«¯çš„ä¸€äº›é—®é¢˜</li><li>ç§»åŠ¨ç«¯æœ‰å¤§ç™½å•¦</li></ol><h3 id="V1-7"><a href="#V1-7" class="headerlink" title="V1.7"></a>V1.7</h3><ol><li>å»æ‰é¸¡è‚‹çš„éŸ³ä¹åŠŸèƒ½</li></ol><h3 id="V1-4"><a href="#V1-4" class="headerlink" title="V1.4"></a>V1.4</h3><ol><li>æ›´æ”¹code(æ©˜è‰²-&gt;çº¢è‰²)</li></ol><h3 id="V1-3"><a href="#V1-3" class="headerlink" title="V1.3"></a>V1.3</h3><ol><li>åŠ å…¥å‡ ç¯‡blog</li><li>æ›´æ”¹ä¸€äº›å›¾ç‰‡</li><li>åˆ é™¤bannerä¸­å†·ç´«è‰²è°ƒ</li></ol><h3 id="V1-2"><a href="#V1-2" class="headerlink" title="V1.2"></a>V1.2</h3><ol><li>åŠ å…¥éŸ³ä¹åŠŸèƒ½</li><li>åˆ é™¤bannerä¸Šçš„Githubé“¾æ¥</li><li>æ›´æ”¹ä¸€äº›å›¾ç‰‡</li></ol><h3 id="V1-1"><a href="#V1-1" class="headerlink" title="V1.1"></a>V1.1</h3><ol><li>åŠ å…¥çƒŸèŠ±ç‚¹å‡»æ•ˆæœ</li><li>æ›´æ”¹æ‰“èµçš„å›¾ç‰‡</li></ol><h3 id="V1-0"><a href="#V1-0" class="headerlink" title="V1.0"></a>V1.0</h3><ol><li>å°ç«™æˆåŠŸä¸Šçº¿å•¦ï¼Œç”±äºæ˜¯é™æ€ç½‘é¡µæ‰˜ç®¡åœ¨Githubä¸Šï¼Œä¸è¶³ä¹‹å¤„è¿˜è¯·è°…è§£ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±åº¦å­¦ä¹ ç¬¬ä¸€å¤©ï¼ˆpytorchå­¦ä¹ ç¬”è®°ï¼‰</title>
      <link href="/posts/6080.html"/>
      <url>/posts/6080.html</url>
      
        <content type="html"><![CDATA[<h2 id="å…¥å‘ï¼ˆ2020-4-29ï¼‰"><a href="#å…¥å‘ï¼ˆ2020-4-29ï¼‰" class="headerlink" title="å…¥å‘ï¼ˆ2020.4.29ï¼‰"></a>å…¥å‘ï¼ˆ2020.4.29ï¼‰</h2><p>å–œæ¬¢æ·±åº¦å­¦ä¹ ï¼Œå–œæ¬¢pythonã€‚<br>çœ‹èµ·æ¥torchæŒºå¥½çš„ã€‚</p><h2 id="torchç¯å¢ƒå‡†å¤‡"><a href="#torchç¯å¢ƒå‡†å¤‡" class="headerlink" title="torchç¯å¢ƒå‡†å¤‡"></a>torchç¯å¢ƒå‡†å¤‡</h2><ul><li>torch  (1.5.0)</li><li>torchvision  (0.6.0)</li><li>cuda  (10.2)<br><img src="https://img-blog.csdnimg.cn/20200429183137908.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center" alt=""><br>è¾“å…¥æŒ‡ä»¤æ‰§è¡Œä»£ç ,é€Ÿåº¦ä¸è¡Œçš„è¯å¤åˆ¶ä¸‹è½½é“¾æ¥è¿…é›·æ‰“å¼€ï¼Œå¯èƒ½æœ‰æƒŠå–œ<img src="https://img-blog.csdnimg.cn/20200429183453171.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTk3MzYzMA==,size_16,color_FFFFFF,t_70#pic_center" alt=""><br>ç¯å¢ƒé…å¥½åï¼Œæ‰§è¡Œ<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> pythontorch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>is_available<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>è¿™æ—¶åº”è¯¥è¿”å›True.</li></ul><h2 id="ä¸€æ¬¡æ¯”èµ›çš„ä»£ç "><a href="#ä¸€æ¬¡æ¯”èµ›çš„ä»£ç " class="headerlink" title="ä¸€æ¬¡æ¯”èµ›çš„ä»£ç "></a>ä¸€æ¬¡æ¯”èµ›çš„ä»£ç </h2><p>ä¸æ‡‚çš„è¯ç›´æ¥å½“æ™®é€šä»£ç æ‰§è¡Œï¼Œå½“ç„¶æœ¬äººè¿˜æ˜¯çº¯å°ç™½ï¼Œä»£ç æ˜¯copyæ¥çš„ï¼Œä¸€æ¬¡æ¯”èµ›çš„baselineä»£ç </p><h3 id="åŠ è½½pytorchæ¡†æ¶ä¸‹çš„ä¾èµ–é¡¹"><a href="#åŠ è½½pytorchæ¡†æ¶ä¸‹çš„ä¾èµ–é¡¹" class="headerlink" title="åŠ è½½pytorchæ¡†æ¶ä¸‹çš„ä¾èµ–é¡¹"></a>åŠ è½½pytorchæ¡†æ¶ä¸‹çš„ä¾èµ–é¡¹</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> __future__ <span class="token keyword">import</span> print_function<span class="token punctuation">,</span> division<span class="token keyword">import</span> torch<span class="token keyword">import</span> torch<span class="token punctuation">.</span>nn <span class="token keyword">as</span> nn<span class="token keyword">import</span> torch<span class="token punctuation">.</span>optim <span class="token keyword">as</span> optim<span class="token keyword">from</span> torch<span class="token punctuation">.</span>optim <span class="token keyword">import</span> lr_scheduler<span class="token keyword">from</span> torch<span class="token punctuation">.</span>autograd <span class="token keyword">import</span> Variable<span class="token keyword">import</span> torchvision<span class="token keyword">from</span> torchvision <span class="token keyword">import</span> datasets<span class="token punctuation">,</span> models<span class="token punctuation">,</span> transforms<span class="token keyword">import</span> time<span class="token keyword">import</span> os</code></pre><h3 id="åŠ è½½æ•°æ®é›†ï¼Œå¹¶åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†"><a href="#åŠ è½½æ•°æ®é›†ï¼Œå¹¶åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†" class="headerlink" title="åŠ è½½æ•°æ®é›†ï¼Œå¹¶åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†"></a>åŠ è½½æ•°æ®é›†ï¼Œå¹¶åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†</h3><pre class=" language-python"><code class="language-python">dataTrans <span class="token operator">=</span> transforms<span class="token punctuation">.</span>Compose<span class="token punctuation">(</span><span class="token punctuation">[</span>            transforms<span class="token punctuation">.</span>Resize<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            transforms<span class="token punctuation">.</span>CenterCrop<span class="token punctuation">(</span><span class="token number">224</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            transforms<span class="token punctuation">.</span>ToTensor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            transforms<span class="token punctuation">.</span>Normalize<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">]</span><span class="token punctuation">)</span>data_dir <span class="token operator">=</span> <span class="token string">'./images'</span>all_image_datasets <span class="token operator">=</span> datasets<span class="token punctuation">.</span>ImageFolder<span class="token punctuation">(</span>data_dir<span class="token punctuation">,</span> dataTrans<span class="token punctuation">)</span>trainsize <span class="token operator">=</span> int<span class="token punctuation">(</span><span class="token number">0.8</span><span class="token operator">*</span>len<span class="token punctuation">(</span>all_image_datasets<span class="token punctuation">)</span><span class="token punctuation">)</span>testsize <span class="token operator">=</span> len<span class="token punctuation">(</span>all_image_datasets<span class="token punctuation">)</span> <span class="token operator">-</span> trainsizetrain_dataset<span class="token punctuation">,</span> test_dataset <span class="token operator">=</span> torch<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>data<span class="token punctuation">.</span>random_split<span class="token punctuation">(</span>all_image_datasets<span class="token punctuation">,</span><span class="token punctuation">[</span>trainsize<span class="token punctuation">,</span>testsize<span class="token punctuation">]</span><span class="token punctuation">)</span>image_datasets <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'train'</span><span class="token punctuation">:</span>train_dataset<span class="token punctuation">,</span><span class="token string">'val'</span><span class="token punctuation">:</span>test_dataset<span class="token punctuation">}</span>dataloders <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span> torch<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>data<span class="token punctuation">.</span>DataLoader<span class="token punctuation">(</span>image_datasets<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">,</span>                                                 batch_size<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">,</span>                                                 shuffle<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>                                                 num_workers<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">'train'</span><span class="token punctuation">,</span> <span class="token string">'val'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>dataset_sizes <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span> len<span class="token punctuation">(</span>image_datasets<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">'train'</span><span class="token punctuation">,</span> <span class="token string">'val'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>    <span class="token comment" spellcheck="true"># use gpu or not</span>use_gpu <span class="token operator">=</span> torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>is_available<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="å¼€å§‹è®­ç»ƒ"><a href="#å¼€å§‹è®­ç»ƒ" class="headerlink" title="å¼€å§‹è®­ç»ƒ"></a>å¼€å§‹è®­ç»ƒ</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">train_model</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> lossfunc<span class="token punctuation">,</span> optimizer<span class="token punctuation">,</span> scheduler<span class="token punctuation">,</span> num_epochs<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    start_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>    best_model_wts <span class="token operator">=</span> model<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span>    best_acc <span class="token operator">=</span> <span class="token number">0.0</span>    <span class="token keyword">for</span> epoch <span class="token keyword">in</span> range<span class="token punctuation">(</span>num_epochs<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Epoch {}/{}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>epoch<span class="token punctuation">,</span> num_epochs <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'-'</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># Each epoch has a training and validation phase</span>        <span class="token keyword">for</span> phase <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">'train'</span><span class="token punctuation">,</span> <span class="token string">'val'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> phase <span class="token operator">==</span> <span class="token string">'train'</span><span class="token punctuation">:</span>                scheduler<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>                model<span class="token punctuation">.</span>train<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Set model to training mode</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                model<span class="token punctuation">.</span>train<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Set model to evaluate mode</span>            running_loss <span class="token operator">=</span> <span class="token number">0.0</span>            running_corrects <span class="token operator">=</span> <span class="token number">0.0</span>            <span class="token comment" spellcheck="true"># Iterate over data.</span>            <span class="token keyword">for</span> data <span class="token keyword">in</span> dataloders<span class="token punctuation">[</span>phase<span class="token punctuation">]</span><span class="token punctuation">:</span>                <span class="token comment" spellcheck="true"># get the inputs</span>                inputs<span class="token punctuation">,</span> labels <span class="token operator">=</span> data                <span class="token comment" spellcheck="true"># wrap them in Variable</span>                <span class="token keyword">if</span> use_gpu<span class="token punctuation">:</span>                    inputs <span class="token operator">=</span> Variable<span class="token punctuation">(</span>inputs<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    labels <span class="token operator">=</span> Variable<span class="token punctuation">(</span>labels<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">else</span><span class="token punctuation">:</span>                    inputs<span class="token punctuation">,</span> labels <span class="token operator">=</span> Variable<span class="token punctuation">(</span>inputs<span class="token punctuation">)</span><span class="token punctuation">,</span> Variable<span class="token punctuation">(</span>labels<span class="token punctuation">)</span>                <span class="token comment" spellcheck="true"># zero the parameter gradients</span>                optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment" spellcheck="true"># forward</span>                outputs <span class="token operator">=</span> model<span class="token punctuation">(</span>inputs<span class="token punctuation">)</span>                _<span class="token punctuation">,</span> preds <span class="token operator">=</span> torch<span class="token punctuation">.</span>max<span class="token punctuation">(</span>outputs<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>                loss <span class="token operator">=</span> lossfunc<span class="token punctuation">(</span>outputs<span class="token punctuation">,</span> labels<span class="token punctuation">)</span>                <span class="token comment" spellcheck="true"># backward + optimize only if in training phase</span>                <span class="token keyword">if</span> phase <span class="token operator">==</span> <span class="token string">'train'</span><span class="token punctuation">:</span>                    loss<span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>                    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment" spellcheck="true"># statistics</span>                running_loss <span class="token operator">+=</span> loss<span class="token punctuation">.</span>data                running_corrects <span class="token operator">+=</span> torch<span class="token punctuation">.</span>sum<span class="token punctuation">(</span>preds <span class="token operator">==</span> labels<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">(</span>torch<span class="token punctuation">.</span>float32<span class="token punctuation">)</span>            epoch_loss <span class="token operator">=</span> running_loss <span class="token operator">/</span> dataset_sizes<span class="token punctuation">[</span>phase<span class="token punctuation">]</span>            epoch_acc <span class="token operator">=</span> running_corrects <span class="token operator">/</span> dataset_sizes<span class="token punctuation">[</span>phase<span class="token punctuation">]</span>            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{} Loss: {:.4f} Acc: {:.4f}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>                phase<span class="token punctuation">,</span> epoch_loss<span class="token punctuation">,</span> epoch_acc<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># deep copy the model</span>            <span class="token keyword">if</span> phase <span class="token operator">==</span> <span class="token string">'val'</span> <span class="token operator">and</span> epoch_acc <span class="token operator">></span> best_acc<span class="token punctuation">:</span>                best_acc <span class="token operator">=</span> epoch_acc                best_model_wts <span class="token operator">=</span> model<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span>    elapsed_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start_time    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Training complete in {:.0f}m {:.0f}s'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>        elapsed_time <span class="token operator">//</span> <span class="token number">60</span><span class="token punctuation">,</span> elapsed_time <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Best val Acc: {:4f}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>best_acc<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># load best model weights</span>    model<span class="token punctuation">.</span>load_state_dict<span class="token punctuation">(</span>best_model_wts<span class="token punctuation">)</span>    <span class="token keyword">return</span> model<span class="token comment" spellcheck="true"># get model and replace the original fc layer with your fc layer</span>model_ft <span class="token operator">=</span> models<span class="token punctuation">.</span>resnet50<span class="token punctuation">(</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>num_ftrs <span class="token operator">=</span> model_ft<span class="token punctuation">.</span>fc<span class="token punctuation">.</span>in_featuresmodel_ft<span class="token punctuation">.</span>fc <span class="token operator">=</span> nn<span class="token punctuation">.</span>Linear<span class="token punctuation">(</span>num_ftrs<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token keyword">if</span> use_gpu<span class="token punctuation">:</span>    model_ft <span class="token operator">=</span> model_ft<span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># define loss function</span>lossfunc <span class="token operator">=</span> nn<span class="token punctuation">.</span>CrossEntropyLoss<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># setting optimizer and trainable parameters</span> <span class="token comment" spellcheck="true">#   params = model_ft.parameters()</span> <span class="token comment" spellcheck="true"># list(model_ft.fc.parameters())+list(model_ft.layer4.parameters())</span><span class="token comment" spellcheck="true">#params = list(model_ft.fc.parameters())+list( model_ft.parameters())</span>params <span class="token operator">=</span> list<span class="token punctuation">(</span>model_ft<span class="token punctuation">.</span>fc<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>optimizer_ft <span class="token operator">=</span> optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>params<span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">0.001</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># Decay LR by a factor of 0.1 every 7 epochs</span>exp_lr_scheduler <span class="token operator">=</span> lr_scheduler<span class="token punctuation">.</span>StepLR<span class="token punctuation">(</span>optimizer_ft<span class="token punctuation">,</span> step_size<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> gamma<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>model_ft <span class="token operator">=</span> train_model<span class="token punctuation">(</span>model<span class="token operator">=</span>model_ft<span class="token punctuation">,</span>                           lossfunc<span class="token operator">=</span>lossfunc<span class="token punctuation">,</span>                           optimizer<span class="token operator">=</span>optimizer_ft<span class="token punctuation">,</span>                           scheduler<span class="token operator">=</span>exp_lr_scheduler<span class="token punctuation">,</span>                           num_epochs<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span></code></pre><pre><code>Epoch 0/4----------C:\Users\16413\anaconda3\lib\site-packages\torch\optim\lr_scheduler.py:123: UserWarning: Detected call of `lr_scheduler.step()` before `optimizer.step()`. In PyTorch 1.1.0 and later, you should call them in the opposite order: `optimizer.step()` before `lr_scheduler.step()`.  Failure to do this will result in PyTorch skipping the first value of the learning rate schedule. See more details at https://pytorch.org/docs/stable/optim.html#how-to-adjust-learning-rate  &quot;https://pytorch.org/docs/stable/optim.html#how-to-adjust-learning-rate&quot;, UserWarning)train Loss: 0.0750 Acc: 0.6700val Loss: 0.0436 Acc: 0.8200Epoch 1/4----------train Loss: 0.0399 Acc: 0.8250val Loss: 0.0345 Acc: 0.8470Epoch 2/4----------train Loss: 0.0330 Acc: 0.8473val Loss: 0.0303 Acc: 0.8610Epoch 3/4----------train Loss: 0.0300 Acc: 0.8575val Loss: 0.0293 Acc: 0.8650Epoch 4/4----------train Loss: 0.0288 Acc: 0.8643val Loss: 0.0281 Acc: 0.8750Training complete in 6m 31sBest val Acc: 0.875000</code></pre><pre class=" language-python"><code class="language-python">torch<span class="token punctuation">.</span>save<span class="token punctuation">(</span>model_ft<span class="token punctuation">.</span>state_dict<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'./model.pth'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"done"</span><span class="token punctuation">)</span></code></pre><pre><code>done</code></pre><h2 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h2><p>çƒ­çˆ±æ˜¯ä¸€ä»¶å¾ˆç¾å¥½çš„äº‹ã€‚</p><p>è¯»è€…æœ‰å…´è¶£çš„è¯ï¼Œ<br>å¯ä»¥ç™¾åº¦æˆ–çŸ¥ä¹ä¸€ä¸‹ï¼Œæ·±åº¦å­¦ä¹ ã€ç¥ç»ç½‘ç»œã€resnetç­‰ä¸€å †æ¦‚å¿µã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> torch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/3eeb.html"/>
      <url>/posts/3eeb.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p><blockquote><p>ä»¥ä¸Šä¸ºå®˜æ–¹æ–‡æ¡£<br><strong>æƒ³å»ºç«™çš„ï¼Œå¯ä»¥å‚è€ƒï¼š</strong><br><a href="https://www.jianshu.com/p/0a8d738a5620" target="_blank" rel="noopener">https://www.jianshu.com/p/0a8d738a5620</a><br><a href="https://yafine66.gitee.io/" target="_blank" rel="noopener">https://yafine66.gitee.io/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
